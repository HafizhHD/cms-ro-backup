(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[74],{106:function(e,t,a){},123:function(e,t,a){"use strict";function n(e,t,a,n,s,c,r){try{var i=e[c](r),o=i.value}catch(l){return void a(l)}i.done?t(o):Promise.resolve(o).then(n,s)}function s(e){return function(){var t=this,a=arguments;return new Promise((function(s,c){var r=e.apply(t,a);function i(e){n(r,s,c,i,o,"next",e)}function o(e){n(r,s,c,i,o,"throw",e)}i(void 0)}))}}a.d(t,"a",(function(){return s}))},1327:function(e,t,a){},146:function(e,t,a){"use strict";var n=a(5),s=a(2),c=a(118),r=a(143),i=(a(106),a(0));t.a=function(e){var t=e.DATA,a=e.COLUMNS,o=e.renderRowSubComponent,l=Object(s.useMemo)((function(){return t}),[t]),u=Object(c.useTable)({columns:a,data:l,initialState:{hiddenColumns:["_id"],pageSize:20}},c.useGlobalFilter,c.useSortBy,c.useExpanded,c.usePagination),d=u.getTableProps,b=u.getTableBodyProps,j=u.headerGroups,O=u.prepareRow,g=u.page,h=u.rows,m=u.canPreviousPage,f=u.canNextPage,p=u.pageOptions,x=u.pageCount,v=u.gotoPage,S=u.nextPage,N=u.previousPage,w=u.setPageSize,y=u.visibleColumns,C=u.state,D=C.pageIndex,A=C.pageSize,I=(C.expanded,u.state),P=u.setGlobalFilter,_=I.globalFilter;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"utils",children:[Object(i.jsxs)("div",{className:"pagination",children:[Object(i.jsx)("button",{onClick:function(){return v(0)},disabled:!m,children:"<<"}),Object(i.jsx)("button",{onClick:function(){return N()},disabled:!m,children:"<"}),Object(i.jsx)("button",{onClick:function(){return S()},disabled:!f,children:">"}),Object(i.jsx)("button",{onClick:function(){return v(x-1)},disabled:!f,children:">>"}),Object(i.jsxs)("span",{children:["Page "," ",Object(i.jsxs)("strong",{children:[D+1," of ",p.length]})]}),Object(i.jsxs)("span",{children:["| Go to page:",Object(i.jsx)("input",{type:"number",defaultValue:D+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;v(t)}})]}),Object(i.jsx)("select",{value:A,onChange:function(e){w(Number(e.target.value))},children:[20,50,100].map((function(e){return Object(i.jsxs)("option",{value:e,children:["Show ",e]},e)}))})]}),Object(i.jsxs)("div",{className:"table_props",children:[Object(i.jsxs)("span",{children:["Total: ",h.length," Data"]}),Object(i.jsx)("input",{type:"text",className:"table_props_input",placeholder:"Search",value:_||"",onChange:function(e){P(e.currentTarget.value)}})]})]}),Object(i.jsx)("div",{className:"table_container",children:Object(i.jsxs)("table",Object(n.a)(Object(n.a)({},d()),{},{children:[Object(i.jsx)("thead",{children:j.map((function(e){return Object(i.jsx)("tr",Object(n.a)(Object(n.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(i.jsxs)("th",Object(n.a)(Object(n.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(i.jsx)("span",{children:e.isSorted?e.isSortedDesc?Object(i.jsx)(r.a,{}):Object(i.jsx)(r.b,{}):""})]}))}))}))}))}),Object(i.jsx)("tbody",Object(n.a)(Object(n.a)({},b()),{},{children:g.map((function(e,t){return O(e),Object(i.jsxs)(s.Fragment,Object(n.a)(Object(n.a)({},e.getRowProps()),{},{children:[Object(i.jsx)("tr",{children:e.cells.map((function(e){return Object(i.jsxs)("td",Object(n.a)(Object(n.a)({},e.getCellProps()),{},{children:[" ","rowNumber"===e.column.id?t+1+D*A:e.render("Cell")," "]}))}))}),e.isExpanded?Object(i.jsx)("tr",{children:Object(i.jsx)("td",{colSpan:y.length,children:o({row:e})})}):null]}))}))}))]}))})]})}},1551:function(e,t,a){"use strict";a.r(t);var n=a(7),s=a(2),c=(a(1327),a(146)),r=a(3),i=a(8),o=a(0),l=function(e,t){return[{Header:"ID",accessor:"_id"},{Header:"User Name",accessor:"userName",disableFilters:!0},{Header:"Email User",accessor:"emailUser",disableFilters:!0},{Header:"Tipe User",accessor:"userType",Cell:function(e){var t=e.value;return"Co-Brand-Group"===t?"Grup Mitra Asuh":t}},{Header:"Level User",accessor:"userLevel"},{Header:"Komunitas",accessor:"cobrandComunityId"},{Header:"Grup Mitra Asuh",accessor:"groupMitraAsuhId"},{Header:"Sekolah",accessor:"sekolah"},{Header:"No. Telepon",accessor:"phone"},{Header:"Action",disableSortBy:!0,disableGlobalFilter:!0,Cell:function(a){var n,s,c=a.cell;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(i.b,{to:"/tools/admin-staff/edit",className:"nav_btn",title:"Edit Staff",onClick:function(){localStorage.setItem("staffSelected",c.row.values._id)},children:Object(o.jsx)("button",{className:"btn_action",children:Object(o.jsx)("div",{children:Object(o.jsx)(r.k,{className:"btn_action-icon"})})})}),"admin@asia.ruangortu.id"!==c.row.values.emailUser&&c.row.values.emailUser!==JSON.parse(localStorage.getItem("userData")).emailUser&&("Super Admin"===JSON.parse(localStorage.getItem("userData")).userLevel||"Admin"===JSON.parse(localStorage.getItem("userData")).userLevel&&((null!==(n=JSON.parse(localStorage.getItem("userData")).sekolah)&&void 0!==n?n:"")===c.row.values.sekolah||(null!==(s=JSON.parse(localStorage.getItem("userData")).groupMitraAsuhId)&&void 0!==s?s:"")===c.row.values.groupMitraAsuhId)&&c.row.values.sekolah&&c.row.values.groupMitraAsuhId)?Object(o.jsx)(i.b,{to:"/tools/admin-staff",className:"nav_btn",title:"Delete Staff",onClick:function(){e([c.row.values._id,c.row.values.userName]),t(!0),document.body.style.overflow="hidden"},replace:!0,children:Object(o.jsx)("button",{className:"btn_action",children:Object(o.jsx)("div",{children:Object(o.jsx)(r.C,{className:"btn_action-icon"})})})}):null]})}}]},u=a(125),d=(a(18),a(35)),b=a(17),j=a(100),O=a(165);t.default=Object(b.b)((function(e){return{isCurrentlyLoading:e.auth.isLoading}}),(function(e){return{onDeleteStaff:function(t,a,n){return e(Object(u.w)(t,a,n))}}}))((function(e){var t=e.isCurrentlyLoading,a=e.onDeleteStaff,u=Object(s.useState)(!1),b=Object(n.a)(u,2),g=(b[0],b[1],Object(s.useState)(!0)),h=Object(n.a)(g,2),m=h[0],f=h[1],p=Object(s.useState)([]),x=Object(n.a)(p,2),v=x[0],S=x[1],N=Object(s.useState)(null),w=Object(n.a)(N,2),y=w[0],C=w[1],D=Object(s.useState)(!1),A=Object(n.a)(D,2),I=A[0],P=A[1],_=Object(s.useState)(!1),k=Object(n.a)(_,2),H=k[0],T=k[1],E=JSON.parse(localStorage.getItem("userData")),F={whereKeyValues:{cobrandEmail:E.cobrandEmail},orderKeyValues:{dateCreated:-1},limit:Number.MAX_SAFE_INTEGER};function M(){Object(j.a)(F).then((function(e){S(e.data.Data),console.log(e.data),f(!1)})).catch((function(e){f(!1)}))}return Object(s.useEffect)((function(){f(!0),localStorage.getItem("staffDeleting")&&(C(JSON.parse(localStorage.getItem("staffDeleting"))),T(!0),localStorage.removeItem("staffDeleting")),M()}),[]),Object(s.useEffect)((function(){y&&H&&(f(!0),a(E.cobrandEmail,y,M),T(!1),C(null))}),[y,H]),m||t?Object(o.jsx)(d.a,{}):Object(o.jsxs)("div",{className:"Staff",children:[I?Object(o.jsx)(O.a,{setDeleting:C,setConfirmDeleting:T,setWarning:P,message:"Admin/Staff"}):null,Object(o.jsx)("h1",{children:"ADMIN & STAFF"}),Object(o.jsxs)(i.b,{to:"/tools/admin-staff/add",id:"add_staff",children:[Object(o.jsx)(r.y,{className:"IconAdd"}),Object(o.jsx)("span",{children:"Tambah Admin/Staff Baru"})]}),Object(o.jsx)("div",{className:"Staff__table",children:Object(o.jsx)(c.a,{COLUMNS:l(C,P),DATA:v})})]})}))},165:function(e,t,a){"use strict";a(2),a(166);var n=a(3),s=a(0);t.a=function(e){var t=e.setDeleting,a=void 0===t?null:t,c=e.setConfirmDeleting,r=e.setWarning,i=e.message;return Object(s.jsx)("div",{className:"warning",children:Object(s.jsxs)("div",{className:"warning-content",children:[Object(s.jsx)("div",{className:"warning-content-header",children:Object(s.jsx)("h2",{children:"Konfirmasi Penghapusan"})}),Object(s.jsxs)("div",{className:"warning-content-body",children:[Object(s.jsx)(n.b,{className:"warning-content-body-icon"}),Object(s.jsxs)("div",{className:"warning-content-body-message",children:[Object(s.jsxs)("p",{children:["Apakah Anda yakin ingin menghapus ",i," ini?"]}),Object(s.jsxs)("div",{className:"warning-content-body-message-button",children:[Object(s.jsx)("div",{className:"warning-content-body-message-button-delete",children:Object(s.jsx)("button",{onClick:function(){c(!0),r(!1),document.body.style.overflow="unset"},children:"Hapus"})}),Object(s.jsx)("div",{className:"warning-content-body-message-button-cancel",children:Object(s.jsx)("button",{onClick:function(){a&&a(null),r(!1),document.body.style.overflow="unset"},children:"Jangan Hapus"})})]})]})]})]})},i)}},166:function(e,t,a){}}]);
//# sourceMappingURL=74.15744c6a.chunk.js.map