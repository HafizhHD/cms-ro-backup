(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[2],{12:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var c="AUTH_START",a="AUTH_SUCCESS",i="AUTH_FAILED",r="AUTH_LOGOUT"},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return b}));var c=n(12),a=n(22),i=n.n(a),r=n(30),o=function(){return{type:c.c}},s=function(){return{type:c.a}},l=function(){return{type:c.d}},u=function(e,t){return console.log({email:e,password:t}),function(n){n(o());var c={email:e,password:t};setTimeout((function(){i()({method:"post",url:"https://rk.defghi.biz.id:8080/api/cobrand/cobrandLogin",data:c,headers:{"Content-Type":"application/json"}}).then((function(e){console.log(e.data);var t=e.data;"OK"===t.resultCode&&t.resultData?(localStorage.setItem("accessToken",t.resultData.token),localStorage.setItem("userData",JSON.stringify(t.resultData.user)),console.log("User Data: ",localStorage.getItem("userData")),n(l())):(console.log("Login failed."),n(s()))})).catch((function(e){console.error("Error:",e)}))}),2e3)}},j=function(e){return function(t){t(o()),localStorage.removeItem("accessToken"),localStorage.removeItem("userData"),e.push("/"),t({type:c.b})}},b=function(e,t,n,a,s,l,u,j,b){return function(d){d(o()),Object(r.a)(a).then((function(a){console.log(a);var r=a;setTimeout((function(){var a={email:e,accountName:t,cobrandName:n,thumbnail:r,phoneNumber:s,address:l,password:u,confirmPassword:j};i()({method:"post",url:"https://rk.defghi.biz.id:8080/api/cobrand/register",data:a,headers:{"Content-Type":"application/json"}}).then((function(e){console.log("Success:",e.data)})).catch((function(e){console.error("Error:",e)})),console.log(a),b.push("/"),d({type:c.b})}),2e3)}))}}},21:function(e,t,n){"use strict";n(0),n(72);var c=n(1);var a=function(){return Object(c.jsxs)("div",{className:"spinner",children:[Object(c.jsx)("div",{className:"bounce1"}),Object(c.jsx)("div",{className:"bounce2"}),Object(c.jsx)("div",{className:"bounce3"})]})};n(73);t.a=function(e){var t=e.text,n=void 0===t?"Mohon Tunggu":t;return Object(c.jsxs)("div",{className:"LoadingFullRk",children:[Object(c.jsxs)("h1",{className:"LoadingFullRk__heading",children:["ruang ",Object(c.jsx)("span",{children:"keluarga"})," "]}),Object(c.jsx)(a,{}),Object(c.jsx)("p",{children:n})]})}},29:function(e,t,n){"use strict";t.a=n.p+"static/media/Logo_1.9182185e.png"},30:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c=function(e){return new Promise((function(t,n){var c=new FileReader;c.readAsDataURL(e),c.onload=function(){return t(c.result)},c.onerror=function(e){return n(e)}}))}},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(18),r=n.n(i),o=(n(46),function(e){e&&e instanceof Function&&n.e(21).then(n.bind(null,303)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))}),s=n(6),l=n(4),u=n(3),j=n(16),b=(n(47),n(29)),d=(n(48),n(1));var O=function(e){var t=e.MenuItems;return Object(d.jsx)("aside",{className:"Aside",children:Object(d.jsx)("ul",{className:"Aside__Nav",children:t.map((function(e,t){return Object(d.jsx)("li",{className:"Aside__Nav_item",children:Object(d.jsxs)(s.b,{exact:!0,to:e.path,className:"Aside__Nav_item-link",children:[e.icon,Object(d.jsx)("p",{children:e.pathName})]})},t)}))})})},h=n(5),m=[{path:"/",pathName:"Dashboard",icon:Object(d.jsx)(h.m,{className:"Aside__Nav_item-icon"})},{path:"/program",pathName:"Program",icon:Object(d.jsx)(h.a,{className:"Aside__Nav_item-icon"})},{path:"/report",pathName:"Report",icon:Object(d.jsx)(h.i,{className:"Aside__Nav_item-icon"})},{path:"/content",pathName:"Content",icon:Object(d.jsx)(h.n,{className:"Aside__Nav_item-icon"})},{path:"/redzone",pathName:"Redzone",icon:Object(d.jsx)(h.p,{className:"Aside__Nav_item-icon"})},{path:"/setting",pathName:"Setting",icon:Object(d.jsx)(h.r,{className:"Aside__Nav_item-icon"})}],f=(h.m,h.i,h.a,h.n,h.r,function(e,t){var n=Object(c.useState)(t),a=Object(j.a)(n,2),i=a[0],r=a[1];return Object(c.useEffect)((function(){var t=function(t){null===e.current||e.current.contains(t.target)||r(!i)};return i&&window.addEventListener("click",t),function(){window.removeEventListener("click",t)}}),[i,e]),[i,r]});var x=Object(u.h)((function(e){var t=e.children,n=(e.location,e.logoutHandler),a=Object(c.useRef)(null),i=f(a,!1),r=Object(j.a)(i,2),o=r[0],l=r[1],u=function(){return l(!o)},x=Object(c.useRef)(null),p=f(x,!1),g=Object(j.a)(p,2),v=g[0],_=g[1],N=JSON.parse(localStorage.getItem("userData"));return Object(d.jsxs)("div",{className:"Layout",children:[Object(d.jsxs)("header",{className:"Header",children:[Object(d.jsx)(s.b,{to:"/",children:Object(d.jsx)("img",{src:b.a,alt:"Logo Ruang Keluarga",className:"Header__img"})}),Object(d.jsxs)("div",{className:"Header__infoaccount",children:[Object(d.jsxs)("div",{className:"Header__infoaccount__Notification",children:[Object(d.jsxs)("div",{className:"Header__notification-btn",onClick:function(){return _(!0)},children:[Object(d.jsx)(h.e,{className:"Header__icon ".concat(v&&"Header__icon__active")}),Object(d.jsx)("div",{className:"Header__notification-badge",children:"6"})]}),Object(d.jsx)("nav",{ref:x,className:"Menudropdown ".concat(v?"active":"inactive"),children:Object(d.jsxs)("ul",{children:[Object(d.jsxs)("li",{children:[Object(d.jsx)(s.b,{to:"/",children:"Anandosatria@gmail telah berlangganan"}),Object(d.jsx)("p",{children:"12:23 - 31 Mei 2021"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)(s.b,{to:"/",children:"galih@gmail telah berlangganan"}),Object(d.jsx)("p",{children:"12:23 - 31 Mei 2021"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)(s.b,{to:"/",children:"wahyu@gmail telah berlangganan"}),Object(d.jsx)("p",{children:"12:23 - 31 Mei 2021"})]}),Object(d.jsxs)("li",{children:[Object(d.jsx)(s.b,{to:"/",children:"dimas@gmail telah berlangganan"}),Object(d.jsx)("p",{children:"12:23 - 31 Mei 2021"})]})]})})]}),Object(d.jsxs)("div",{className:"Header__infoaccount__profile",children:[Object(d.jsxs)("button",{className:"Header__activeUser",onClick:u,children:[Object(d.jsx)("img",{src:N.thumbnail,className:"Header__profileImg ".concat(o&&"Header__profileImg__active")}),Object(d.jsx)("span",{children:N.cobrandName}),o?Object(d.jsx)(h.h,{}):Object(d.jsx)(h.g,{})]}),Object(d.jsx)("nav",{ref:a,className:"Menudropdown ".concat(o?"active":"inactive"),children:Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/",children:"Bantuan"})}),Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/",children:"Profile"})}),Object(d.jsx)("li",{children:Object(d.jsx)(s.b,{to:"/setting",onClick:u,children:"Setting"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"true",onClick:function(e){e.preventDefault(),u(),n()},children:"Logout"})})]})})]})]})]}),Object(d.jsx)(O,{MenuItems:m}),Object(d.jsx)("main",{className:"Main",children:t})]})})),p=n(40),g=n(14),v=Object(g.b)((function(e){return{isLogin:e.auth.isLogin}}))((function(e){var t=e.component,n=e.isLogin,a=Object(p.a)(e,["component","isLogin"]);return Object(d.jsx)(u.b,Object(l.a)(Object(l.a)({},a),{},{render:function(e){return n?Object(d.jsx)(c.Suspense,{fallback:Object(d.jsx)("p",{children:"Loading..."}),children:Object(d.jsx)(t,Object(l.a)({},e))}):Object(d.jsx)(u.a,{to:{pathname:"/"}})}}))})),_=n(20),N=n(21),L=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(10)]).then(n.bind(null,304))})),y=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(11)]).then(n.bind(null,305))})),S=Object(c.lazy)((function(){return n.e(16).then(n.bind(null,306))})),k=Object(c.lazy)((function(){return Promise.all([n.e(20),n.e(19)]).then(n.bind(null,307))})),A=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(13)]).then(n.bind(null,316))})),w=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,308))})),z=Object(c.lazy)((function(){return n.e(17).then(n.bind(null,309))})),H=Object(c.lazy)((function(){return n.e(18).then(n.bind(null,310))})),T=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(12)]).then(n.bind(null,317))})),C=Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,311))})),I=Object(c.lazy)((function(){return n.e(14).then(n.bind(null,312))})),P=Object(c.lazy)((function(){return n.e(15).then(n.bind(null,313))})),D=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(5),n.e(6)]).then(n.bind(null,315))})),M=Object(c.lazy)((function(){return n.e(9).then(n.bind(null,314))}));var F=Object(g.b)((function(e){return{isLogin:e.auth.isLogin}}),(function(e){return{onAuthSuccess:function(){return e(Object(_.c)())},onAuthFailed:function(){return e(Object(_.b)())},onLogout:function(t){return e(Object(_.d)(t))}}}))((function(e){var t=e.isLogin,n=e.onAuthSuccess,a=e.onAuthFailed,i=e.onLogout,r=Object(u.g)(),o=Object(c.useCallback)((function(){localStorage.getItem("accessToken")?n():a()}),[n,a]);return Object(c.useEffect)((function(){o()}),[t,o]),t?Object(d.jsx)(x,{logoutHandler:function(){return i(r)},children:Object(d.jsxs)(u.d,{children:[Object(d.jsx)(v,{exact:!0,path:"/",component:S}),Object(d.jsx)(v,{exact:!0,path:"/report",component:k}),Object(d.jsx)(v,{path:"/program",exact:!0,component:A}),Object(d.jsx)(v,{path:"/program/add",exact:!0,component:function(e){return Object(d.jsx)(w,Object(l.a)({},e))}}),Object(d.jsx)(v,{path:"/program/edit",exact:!0,component:z}),Object(d.jsx)(v,{path:"/program/view",exact:!0,component:H}),Object(d.jsx)(v,{path:"/content",exact:!0,component:T}),Object(d.jsx)(v,{path:"/content/add",exact:!0,component:function(e){return Object(d.jsx)(C,Object(l.a)({},e))}}),Object(d.jsx)(v,{path:"/content/edit",exact:!0,component:I}),Object(d.jsx)(v,{path:"/content/view",exact:!0,component:P}),Object(d.jsx)(v,{path:"/redzone",exact:!0,component:D}),Object(d.jsx)(v,{path:"/setting",exact:!0,component:M})]})}):Object(d.jsxs)(u.d,{children:[Object(d.jsx)(u.b,{exact:!0,path:"/",render:function(e){return Object(d.jsx)(c.Suspense,{fallback:Object(d.jsx)(N.a,{}),children:Object(d.jsx)(L,Object(l.a)({},e))})}}),Object(d.jsx)(u.b,{exact:!0,path:"/register",render:function(e){return Object(d.jsx)(c.Suspense,{fallback:Object(d.jsx)(N.a,{}),children:Object(d.jsx)(y,Object(l.a)({},e))})}})]})})),R=n(13),E=n(12),U={isLogin:!1,error:null,isLoading:!1},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.c:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!0});case E.d:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1,isLogin:!0});case E.a:return Object(l.a)(Object(l.a)({},e),{},{isLoading:!1});case E.b:return Object(l.a)(Object(l.a)({},e),{},{isLogin:!1,isLoading:!1});default:return e}},B=Object(R.b)({auth:J}),K=n(39),G=R.c,q=Object(R.d)(B);G&&(q=Object(R.d)(B,G(Object(R.a)(K.a)))),r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(g.a,{store:q,children:Object(d.jsx)(s.a,{children:Object(d.jsx)(F,{})})})}),document.getElementById("root")),o()}},[[74,3,4]]]);
//# sourceMappingURL=main.d18398c5.chunk.js.map