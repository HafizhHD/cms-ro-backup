(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[58],{102:function(e,a,t){"use strict";var c=t(2),n=(t(103),t(0));function i(e){var a=e.placeholder,t=e.type,c=e.onChange,i=e.onBlur,s=e.value,l=e.className,d=e.message,o=e.name,r=e.min,u=e.max,j=e.disabled,m=e.isError;return"textarea"===t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("textarea",{name:o,id:o,className:l,placeholder:a,onChange:c,onBlur:i,value:s,disabled:j}),m&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:d})})]}):"date"===t||"datetime-local"===t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:o,className:l,type:t,placeholder:a,onChange:c,onBlur:i,value:s,min:r,max:"9999-12-31",disabled:j}),m&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:d})})]}):"number"===t?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:o,className:l,type:t,onChange:c,onBlur:i,value:s,min:r,max:u,disabled:j}),m&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:d})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:o,className:l,type:t,placeholder:a,onChange:c,onBlur:i,value:s,disabled:j}),m&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:d})})]})}a.a=Object(c.memo)(i)},103:function(e,a,t){},104:function(e,a,t){},1304:function(e,a,t){},135:function(e,a,t){"use strict";function c(e,a,t,c,n,i,s){try{var l=e[i](s),d=l.value}catch(o){return void t(o)}l.done?a(d):Promise.resolve(d).then(c,n)}function n(e){return function(){var a=this,t=arguments;return new Promise((function(n,i){var s=e.apply(a,t);function l(e){c(s,n,i,l,d,"next",e)}function d(e){c(s,n,i,l,d,"throw",e)}l(void 0)}))}}t.d(a,"a",(function(){return n}))},1500:function(e,a,t){"use strict";t.r(a);var c=t(7),n=t(2),i=t(95),s=(t(1304),t(104),t(745)),l=t.n(s),d=t(139),o=t(6),r=t(99),u=t(122),j=t(35),m=t(17),h=t(102),b=(t(37),t(0));a.default=Object(m.b)((function(e){return{isLoading:e.auth.isLoading}}),(function(e){return{onChildControl:function(a,t,c,n,i,s,l,d){return e(Object(u.n)(a,t,c,n,i,s,l,d))}}}))((function(e){var a=e.onChildControl,t=e.isLoading,s=Object(o.g)(),u=(JSON.parse(localStorage.getItem("userData")).cobrandEmail,localStorage.getItem("userNameSelected")),m=localStorage.getItem("userSelected"),p=Object(n.useState)(!0),g=Object(c.a)(p,2),O=g[0],v=g[1],x=Object(n.useState)(!1),f=Object(c.a)(x,2),S=f[0],k=f[1],N=Object(n.useState)([]),C=Object(c.a)(N,2),_=C[0],y=C[1],B=Object(n.useState)("normal"),D=Object(c.a)(B,2),L=D[0],w=D[1],T=Object(n.useState)(!1),U=Object(c.a)(T,2),A=U[0],H=U[1],I=Object(n.useState)([]),P=Object(c.a)(I,2),E=P[0],J=P[1],F=Object(n.useState)(0),M=Object(c.a)(F,2);return M[0],M[1],Object(n.useEffect)((function(){var e={whereKeyValues:{emailUser:m}},a=Object(r.w)(e),t=Object(r.m)(e),c=Object(r.d)(e),n=Object(r.n)(e);Promise.all([a,c,n,t]).then((function(e){var a,t;console.log(e[0]),console.log(e[1]),console.log(e[2]),console.log(e[3]);var c=(null!==(a=e[0].data.appdevices)&&void 0!==a?a:[]).length>0?e[0].data.appdevices[0].appName:[];c.sort((function(e,a){return e.appName>a.appName?1:a.appName>e.appName?-1:0}));for(var n=null!==(t=e[1].data.appUsageLimit)&&void 0!==t?t:[],i=[],s=0;s<c.length;s++){for(var l=0,d=0,o="",r=0;r<n.length&&0===l;r++)n[r].appId===c[s].packageId&&(l=0===n[r].limit?1:2,d=n[r].limit,o=n[r]._id);var u={_id:o,appName:c[s].appName,appCategory:c[s].appCategory,packageId:c[s].packageId,mode:l.toString(),limit:d,isChanged:!1};i.push(u)}console.log(i),y(i);var j=e[2].data.childModeAsuhs;j.length>0&&(w(j[0].modeAsuhName),H(!0));var m=e[3].data.deviceUsageSchedules,h=[];for(s=0;s<m.length;s++)"harian"===m[s].scheduleType&&h.push(m[s]);console.log(h),J(h),setTimeout((function(){console.log(_),v(!1),v(!0),v(!1)}),2e3)}))}),[S]),t||O?Object(b.jsx)(j.a,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.a,{headingName:"Kontrol Anak: "+u,routes:[{path:"/cms/user",name:"Pengguna"},{path:"/cms/user/child-control",name:"Kontrol Anak"}]}),Object(b.jsx)(d.a,{initialValues:{appLimitBlock:_.slice(),modeAsuhSelected:L,deviceSchedule:E.slice()},onSubmit:function(e){a(m,A,e.appLimitBlock,e.modeAsuhSelected,e.deviceSchedule,k,v,s)},children:function(e){e.handleChange;var a=e.handleSubmit,t=(e.handleBlur,e.setFieldValue),c=e.values;e.errors,e.touched;return Object(b.jsx)("form",{onSubmit:a,children:Object(b.jsxs)("div",{className:"ChildControl",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Mode Asuh"}),Object(b.jsxs)("select",{value:c.modeAsuhSelected,onChange:function(e){t("modeAsuhSelected",e.currentTarget.value)},children:[Object(b.jsx)("option",{value:"normal",children:"Normal"}),Object(b.jsx)("option",{value:"diawasi",children:"Diawasi"}),Object(b.jsx)("option",{value:"dihukum",children:"Dihukum"})]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{children:"Blokir dan Batasi Penggunaan Aplikasi"}),Object(b.jsxs)("table",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Nama Aplikasi"}),Object(b.jsx)("th",{children:"Status Blokir"}),Object(b.jsx)("th",{children:"Limit Penggunaan (Menit)"})]}),c.appLimitBlock.map((function(e,a){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:e.appName}),Object(b.jsxs)("td",{onChange:function(e){console.log(e),console.log(c.appLimitBlock[a].mode),t("appLimitBlock.".concat(a,".mode"),e.target.value),t("appLimitBlock.".concat(a,".isChanged"),!0),"2"===e.target.value&&t("appLimitBlock.".concat(a,".limit"),1),console.log(c.appLimitBlock[a].mode)},children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"radio",value:"1",name:"block_status_"+a.toString(),checked:"1"===c.appLimitBlock[a].mode}),"Ya"]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"radio",value:"0",name:"block_status_"+a.toString(),checked:"0"===c.appLimitBlock[a].mode}),"Tidak"]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"radio",value:"2",name:"block_status_"+a.toString(),checked:"2"===c.appLimitBlock[a].mode}),"Pakai Limit Penggunaan"]})]}),Object(b.jsx)("td",{children:Object(b.jsx)(h.a,{name:"limit",className:"form-group__input",type:"number",value:c.appLimitBlock[a].limit,min:1,max:1440,disabled:"2"!==c.appLimitBlock[a].mode,onChange:function(e){t("appLimitBlock.".concat(a,".limit"),e.target.value)}})})]})}))]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{children:["Jadwal Pemblokiran ",Object(b.jsx)("span",{children:Object(b.jsx)("button",{type:"button",onClick:function(){var e=c.deviceSchedule;e.push({_id:"",scheduleName:"",scheduleDescription:"",scheduleType:"harian",deviceUsageDays:[],deviceUsageStartTime:"00:00",deviceUsageEndTime:"00:01",status:"aktif",willBeRemoved:!1}),t("deviceSchedule",e)},children:"Tambah Jadwal"})})]}),Object(b.jsxs)("table",{children:[Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{children:"Nama Jadwal"}),Object(b.jsx)("th",{children:"Deskripsi"}),Object(b.jsx)("th",{children:"Harian/Terjadwal"}),Object(b.jsx)("th",{children:"Hari"}),Object(b.jsx)("th",{children:"Waktu Mulai"}),Object(b.jsx)("th",{children:"Waktu Selesai"}),Object(b.jsx)("th",{children:"Action"})]}),c.deviceSchedule.map((function(e,a){if(console.log(e),!e.willBeRemoved)return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(h.a,{name:"scheduleName",className:"form-group__input",value:e.scheduleName,type:"text",onChange:function(e){t("deviceSchedule.".concat(a,".scheduleName"),e.target.value)}})}),Object(b.jsx)("td",{children:Object(b.jsx)(h.a,{name:"scheduleDescription",className:"form-group__input",value:e.scheduleDescription,type:"text",onChange:function(e){t("deviceSchedule.".concat(a,".scheduleDescription"),e.target.value)}})}),Object(b.jsx)("td",{children:Object(b.jsx)("select",{onChange:function(e){"harian"===e.target.value?(t("deviceSchedule.".concat(a,".deviceUsageStartTime"),"00:00"),t("deviceSchedule.".concat(a,".deviceUsageEndTime"),"00:01")):(console.log((new Date).toLocaleDateString("id-ID")),t("deviceSchedule.".concat(a,".deviceUsageStartTime"),(new Date).toLocaleDateString("id-ID")),t("deviceSchedule.".concat(a,".deviceUsageEndTime"),(new Date).toLocaleDateString("id-ID"))),t("deviceSchedule.".concat(a,".scheduleType"),e.target.value)},children:Object(b.jsx)("option",{value:"harian",children:"Harian"})})}),Object(b.jsx)("td",{children:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"].map((function(c){return Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",name:c,value:c,checked:e.deviceUsageDays.includes(c),onChange:function(c){var n=e.deviceUsageDays,i=n.indexOf(c.target.value);i>=0?n.splice(i,1):n.push(c.target.value),t("deviceSchedule.".concat(a,".deviceUsageDays"),n)}}),c]})}))}),Object(b.jsx)("td",{children:Object(b.jsx)(l.a,{locale:"id-ID",format:"HH:mm",disableClock:!0,value:e.deviceUsageStartTime,onChange:function(e){t("deviceSchedule.".concat(a,".deviceUsageStartTime"),e)}})}),Object(b.jsx)("td",{children:Object(b.jsx)(l.a,{locale:"id-ID",format:"HH:mm",disableClock:!0,value:e.deviceUsageEndTime,onChange:function(e){t("deviceSchedule.".concat(a,".deviceUsageEndTime"),e)}})}),Object(b.jsx)("td",{children:Object(b.jsx)("button",{type:"submit",onClick:function(){t("deviceSchedule.".concat(a,".willBeRemoved"),!0)},children:"Hapus"})})]})}))]})]}),Object(b.jsx)("button",{className:"btn btn-submit",type:"submit",children:"Simpan"})]})})}}),t?Object(b.jsx)(j.a,{}):null]})}))},95:function(e,a,t){"use strict";t(2);var c=t(9),n=(t(96),t(0));a.a=function(e){var a=e.headingName,t=e.routes,i=void 0===t?[]:t;return Object(n.jsxs)("div",{className:"Heading",children:[Object(n.jsx)("h1",{children:a}),Object(n.jsx)("ul",{className:"Heading__breadcumb",children:i.length>0&&i.map((function(e,a){return e.path?Object(n.jsxs)("li",{className:"Heading__breadcumb-item",children:[Object(n.jsx)(c.b,{exact:!0,to:e.path,children:e.name})," "]},a):Object(n.jsxs)("li",{className:"Heading__breadcumb-item",children:[" ",Object(n.jsx)("span",{children:e.name})," "]},a)}))})]})}},96:function(e,a,t){}}]);
//# sourceMappingURL=58.f5a0c9ea.chunk.js.map