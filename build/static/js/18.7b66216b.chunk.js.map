{"version":3,"sources":["components/API/filter.js","containers/CoBrand/Dashboard/Dashboard.js","components/UI/RKLoaderInner/RKLoader.js","components/UI/Heading/Heading.js"],"names":["getProgramList","query","axios","method","url","data","headers","getContentList","getUserList","getHKBPList","Dashboard","useState","isLoading","setLoading","programList","setProgramList","contentList","setContentList","countVariable","setCountVariable","history","useHistory","userData","JSON","parse","localStorage","getItem","programParams","whereKeyValues","cobrandEmail","email","status","orderKeyValues","startDate","limit","contentParams","useEffect","then","response","programs","map","d","className","onClick","setItem","_id","push","programName","ProgramDescription","console","log","contents","src","contentThumbnail","contentName","contentDescription","to","countingVariable","countProgram","countContent","params1","Number","MAX_SAFE_INTEGER","promiseP","promiseC","Promise","all","length","catch","error","headingName","RKLoader","text","Heading","routes","item","i","path","exact","name"],"mappings":"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","file":"static/js/18.7b66216b.chunk.js","sourcesContent":["import axios from \"axios\";\nimport url from \"./urlApi\";\n\nexport const getProgramList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/programFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\nexport const getContentList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/contentFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\nexport const getUserList = (query) => axios({\n    method: 'post',\n    url: url + '/user/userFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getHKBPList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/HKBPDataFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});","import React, {useState, useEffect} from 'react';\nimport './Dashboard.scss';\nimport { FiArrowRightCircle, FiAlertCircle } from 'react-icons/fi';\nimport { NavLink } from 'react-router-dom';\nimport Heading from '../../../components/UI/Heading/Heading';\nimport axios from 'axios';\nimport RKLoader from '../../../components/UI/RKLoaderInner/RKLoader';\nimport { useHistory } from 'react-router';\nimport { getContentList, getProgramList } from '../../../components/API/filter';\n\nfunction Dashboard() {\n\n    const [isLoading, setLoading] = useState(true);\n    const [programList, setProgramList] = useState();\n    const [contentList, setContentList] = useState();\n    const [countVariable, setCountVariable] = useState();\n\n    const history = useHistory();\n\n    const userData = JSON.parse(localStorage.getItem('userData'));\n    const programParams = {\n        whereKeyValues: {\n            cobrandEmail: userData.email,\n            status: 'active'\n        },\n        orderKeyValues: {\n            startDate: -1\n        },\n        limit: 4\n    };\n    const contentParams = {\n        whereKeyValues: {\n            cobrandEmail: userData.email,\n            status: 'active'\n        },\n        orderKeyValues: {\n            startDate: -1\n        },\n        limit: 6\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        getProgramList(programParams)\n        .then(response => {\n            let programs = response.data.programs.map((d) => (\n                <div className=\"Dashboard__programs__list\">\n                    <h3 onClick={() => {\n                        localStorage.setItem('programSelected', d._id);\n                        history.push('/program/view');\n                    }}>{d.programName}</h3>\n                    <p>{d.ProgramDescription}</p>\n                </div>\n            ));\n            setProgramList(programs);\n            console.log(programs);\n            getContentList(contentParams)\n            .then(response => {\n                let contents = response.data.contents.map((d) => (\n                    <div className=\"Dashboard__contents__item\">\n                        <div className=\"Dashboard__contents__cover\">\n                            <img \n                                src={d.contentThumbnail} \n                                className=\"Dashboard__contents__cover-img\"\n                            />\n                            <div className=\"Dashboard__contents__shadow\"></div>\n                        </div>\n                        <div className=\"Dashboard__contents__description\">\n                            <h3>{d.contentName}</h3>\n                            <p>\n                                {d.contentDescription}\n                            </p>\n                            <NavLink to=\"/content/view\"\n                                onClick={() => {\n                                    localStorage.setItem('contentSelected', d._id)\n                                }}>Lihat Detail \n                                <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                            </NavLink>\n                        </div>\n                    </div>\n                ));\n                setContentList(contents);\n                console.log(contents);\n                let countingVariable = {\n                    countProgram: 0,\n                    countContent: 0\n                }\n                let params1 = {\n                    whereKeyValues: {\n                        cobrandEmail: userData.email\n                    },\n                    limit: Number.MAX_SAFE_INTEGER\n                }\n                const promiseP = getProgramList(params1);\n                const promiseC = getContentList(params1);\n                Promise.all([promiseP, promiseC]).then(response => {\n                    countingVariable.countProgram = response[0].data.programs.length;\n                    countingVariable.countContent = response[1].data.contents.length;\n                    setCountVariable(countingVariable);\n                    setLoading(false);\n                });\n            })\n            .catch(error => {\n                console.log(error);\n                setLoading(false);\n            });\n        })\n        .catch(error => {\n            console.log(error);\n            setLoading(false);\n        });\n        \n    }, []);\n\n    if(isLoading) {\n        return <RKLoader/>\n    }\n\n    return (\n        <div className=\"Dashboard\">\n            <Heading headingName=\"YOUR CO-BRAND DATA\" />\n            \n\n            {/* Dashboard Cards  */}\n            <div className=\"Dashboard__cards\">\n                <div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Programs Added</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>{countVariable.countProgram}</h1>\n                    \n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/program\">Lihat Detail \n                            <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>\n                <div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Contents Added</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>{countVariable.countContent}</h1>\n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/content\">Lihat Detail \n                            <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>\n                {/*<div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Inactive Subs</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>125</h1>\n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/\">\n                            Lihat Detail <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>*/}\n            </div>\n            {/* End Dashboard Cards  */}\n\n\n            {/* Program */}\n            <h1>ONGOING PROGRAM</h1>\n\n            <div className=\"Dashboard__programs\">\n                {programList.length === 0 ? (\n                    <h3>Tidak Ada Program</h3>\n                ) : programList}\n            </div>\n            {/* End Program */}\n\n\n            {/* Content */}\n            <h1>CONTENT LIST</h1>\n            <div className=\"Dashboard__contents\">\n                {contentList.length === 0 ? (\n                    <h3>Tidak Ada Konten</h3>\n                ) : contentList}\n\n                \n                \n            </div>\n\n        </div>\n    )\n}\n\nexport default Dashboard\n","import React from 'react'\nimport Spinner from '../Loader/Spinner/Spinner';\nimport './RKLoader.scss';\n\nfunction RKLoader({ text = 'Mohon Tunggu' }) {\n    return (\n        <div className=\"LoadingFullRkInner\">\n            <h1 className=\"LoadingFullRkInner__heading\"><span>Ruang Ortu</span> </h1>\n            <Spinner />\n            <p>{text}</p>\n        </div>\n    )\n}\n\nexport default RKLoader\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Heading.scss';\n\nfunction Heading({ headingName, routes = [] }) {\n    \n    return (\n        <div className=\"Heading\">\n            <h1>{headingName}</h1>\n            <ul className=\"Heading__breadcumb\">\n                {routes.length > 0 && routes.map((item, i) => {\n                    if(item.path){\n                        return <li className=\"Heading__breadcumb-item\" key={i}><NavLink exact to={item.path}>{item.name}</NavLink> </li>\n                    }else{\n                        return <li className=\"Heading__breadcumb-item\" key={i}> <span>{item.name}</span> </li>\n                    }\n                })}\n            </ul>\n        </div>\n    )\n}\n\nexport default Heading\n"],"sourceRoot":""}