{"version":3,"sources":["components/API/filter.js","containers/CoBrand/GlobalParam.js","containers/CoBrand/Status/Status.js"],"names":["getProgramList","query","axios","method","url","data","headers","getContentList","getUserList","getRedzoneList","getAppUsageList","getDeviceScheduleList","getAppLimitList","getModeAsuhList","getAppDetailList","getNotificationList","getNotificationCategoryList","getAudienceList","getContentTopicList","getProgramCategoryList","getAdminList","emailTester","absStart","Date","Status","useState","isLoading","setLoading","isLoadingSpinner","setLoadingSpinner","today","JSON","parse","localStorage","getItem","realToday","setDate","getDate","endDate","setUserData","countUser","setCountUser","useEffect","tk","sd","smp","sma","parent","coparent","countingUser","paramUser","whereKeyValues","packageId","dateCreated","toISOString","split","emailUser","orderKeyValues","nameUser","limit","Number","MAX_SAFE_INTEGER","then","responseAll","dataUser","users","length","i","x","userType","status","j","subscriptions","y","price","dateStart","childInfo","StudyLevel","userDataObj","name","retrieveData","className","src","Logo","alt","toLocaleString","weekday","year","month","day","hour","minute","second"],"mappings":"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","file":"static/js/67.2cdfc9d7.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport url from \"./urlApi\";\r\n\r\nexport const getProgramList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cobrand/programFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nexport const getContentList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cobrand/contentFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    },\r\n});\r\n\r\nexport const getUserList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/userFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getRedzoneList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cobrand/redZoneFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getAppUsageList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/appUsageFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getDeviceScheduleList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/deviceUsageScheduleFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getAppLimitList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/appUsageLimitFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getModeAsuhList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/childModeAsuhFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getAppDetailList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/appIconFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getNotificationList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/user/broadcastFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getNotificationCategoryList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cms/notificationCategoryFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getAudienceList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cms/audianceTargetFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\nexport const getContentTopicList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cms/contentTopicFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n})\r\n\r\nexport const getProgramCategoryList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cms/programCategoryFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n})\r\n\r\nexport const getAdminList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cms/userFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n})\r\n\r\n\r\n\r\nexport const getHKBPList = (query) => axios({\r\n    method: 'post',\r\n    url: url + '/cobrand/HKBPDataFilter',\r\n    data: query,\r\n    headers: {\r\n        'Content-Type': 'application/json',\r\n    }\r\n});\r\n\r\n","export const emailTester = [\"singgih.zuliangga@defghi.id\", \"ortuasiaparent01@gmail.com\", \"ortuasiaparent02@gmail.com\", \"ortuasiachild01@gmail.com\", \"ortuasiachild02@gmail.com\", \"yaswin.rw@gnail.com\", \"yaswin.retdy@gmail.com\", \"rickotesting@gmail.com\", \"kartono@defghi.id\", \"kartono.cc@gmail.com\", \"mirza.dzaky.azizi@gmail.com\", \"helwaanyapanjang@gmail.com \", \"uwawwaunch@gmail.com\", \"ilhamanwar@gmail.com\", \"ricky.rachadi@gmail.com\", \"ruangortuchild@gmail.com\", \"gowesjersey02@gmail.com\", \"hafizh.dary@defghi.id\", \"hafizhd.jp@gmail.com\", \"abcwirayudaha56@gmail.com\", \"hervyguitar@gmai.com\", \"rickorajagukguk23@gmail.com\", \"ortuasiatestchild@gmail.com\", \"ortuasiatestparent@gmail.com\", \"roichildtest01@gmail.com\", \"roiparenttest01@gmail.com\", \"ruangortutesting02@gmail.com\", \"ruangortutesting01@gmail.com\", \"ruangortuchild2@gmail.com\", \"ruangortuparent@gmail.com\", \"ruangortutesting01@gmail.com\"];\r\nexport const absStart = new Date(\"2022-08-13\");","import React, {useState, useEffect} from 'react';\r\nimport './Status.scss';\r\nimport RKLoader from '../../../components/UI/RKLoader/RKLoader';\r\nimport Logo from './../../../assets/img/Logo_4.png';\r\nimport {emailTester, absStart} from '../GlobalParam'\r\nimport { getContentList, getProgramList, getUserList, getAppUsageList, getNotificationCategoryList, getNotificationList } from '../../../components/API/filter';\r\n\r\nfunction Status() {\r\n    const [isLoading, setLoading] = useState(true);\r\n    const [isLoadingSpinner, setLoadingSpinner] = useState(false);\r\n\r\n    const localData = JSON.parse(localStorage.getItem('userData'));\r\n\r\n    const today = new Date();\r\n    const realToday = new Date();\r\n    today.setDate(today.getDate() + 1);\r\n\r\n    const [period, setPeriod] = useState('today');\r\n    const [endDate, setEndDate] = useState(today);\r\n    const [userData, setUserData] = useState([]);\r\n    const [countUser, setCountUser] = useState([0,0,0,0]);\r\n\r\n    const topUsageLabelDummy = [\"Youtube\", \"Google\", \"Facebook\", \"Twitter\", \"Chrome\", \"Telegram\", \"TikTok\", \"Mobile Legends\", \"Chess\", \"Minecraft\"];\r\n    const notifLabelDummy = [\"Pembayaran\", \"Pemberitahuan\", \"Promosi\", \"Laporan\"];\r\n    const topicLabelDummy = [\"Agama\", \"Pendidikan\", \"Kesehatan\", \"Keluarga\", \"Berita Internal\", \"Berita Nasional\", \"Berita Dunia\", \"Informasi Teknologi\", \"Olah Raga\", \"Umum\"];\r\n    \r\n    const userDummy = [\r\n        {\r\n            name: \"TK\",\r\n            data: [0, 12]\r\n        },\r\n        {\r\n            name: \"SD\",\r\n            data: [0, 50]\r\n        },\r\n        {\r\n            name: \"SMP\",\r\n            data: [0, 121]\r\n        },\r\n        {\r\n            name: \"SMA\",\r\n            data: [0, 68]\r\n        },\r\n        {\r\n            name: \"Parent\",\r\n            data: [250, 0]\r\n        },\r\n        {\r\n            name: \"Co-Parent\",\r\n            data: [99, 0]\r\n        }\r\n    ];\r\n    \r\n\r\n    function retrieveData() {\r\n        var tk = [0,0],\r\n        sd = [0, 0],\r\n        smp = [0,0],\r\n        sma = [0,0],\r\n        parent = [0,0],\r\n        coparent = [0,0];\r\n\r\n        var countingUser = [0,0,0,0,0];\r\n\r\n        let paramUser = {\r\n            whereKeyValues: {\r\n                packageId: \"com.byasia.ruangortu\",\r\n                dateCreated: {\r\n                    \"$gte\": absStart.toISOString().split('T')[0],\r\n                    \"$lte\": endDate.toISOString().split('T')[0]\r\n                },\r\n                emailUser: {\r\n                    \"$nin\": emailTester\r\n                }\r\n            },\r\n            orderKeyValues: {\r\n                nameUser: 1\r\n            },\r\n            limit: Number.MAX_SAFE_INTEGER\r\n        }\r\n\r\n        const promiseUser = getUserList(paramUser);\r\n\r\n        promiseUser.then(responseAll => {\r\n            // console.log(responseAll[0]);\r\n            const dataUser = responseAll.data.users;\r\n            countingUser[0] = dataUser.length;\r\n            // // console.log(dataUser);\r\n            for(var i = 0; i < dataUser.length; i++) {\r\n                let x = dataUser[i];\r\n                if(x.userType === 'parent') {\r\n                    countingUser[1]++;\r\n                }\r\n                else if(x.userType === 'child') {\r\n                    if(x.status === \"active\") countingUser[2]++;\r\n                    else countingUser[3]++;\r\n                    for(var j = 0; j < x.subscriptions.length; j++) {\r\n                        let y = x.subscriptions[j];\r\n                        if(y.price > 0 && new Date(y.dateStart) >= new Date(\"2022-08-13\")) {\r\n                            countingUser[4]++;\r\n                            break;\r\n                        }\r\n                    }\r\n                    if(x.childInfo.StudyLevel === 'TK') tk[1]++;\r\n                    else if(x.childInfo.StudyLevel === 'SD') sd[1]++;\r\n                    else if(x.childInfo.StudyLevel === 'SMP') smp[1]++;\r\n                    else if(x.childInfo.StudyLevel === 'SMA') sma[1]++;\r\n                }\r\n            }\r\n            const userDataObj = [\r\n                {\r\n                    name: \"TK\",\r\n                    data: tk\r\n                },\r\n                {\r\n                    name: \"SD\",\r\n                    data: sd\r\n                },\r\n                {\r\n                    name: \"SMP\",\r\n                    data: smp\r\n                },\r\n                {\r\n                    name: \"SMA\",\r\n                    data: sma\r\n                },\r\n                {\r\n                    name: \"Parent\",\r\n                    data: parent\r\n                },\r\n                {\r\n                    name: \"Co-Parent\",\r\n                    data: coparent\r\n                }\r\n            ]\r\n            \r\n            // console.log(\"Colors length: \" + colors.length);\r\n            setCountUser(countingUser);\r\n            setUserData(userDataObj);\r\n\r\n\r\n            if(isLoading) setLoading(false);\r\n            else if(isLoadingSpinner) {\r\n                setLoadingSpinner(false);\r\n                setLoading(true);\r\n                setLoading(false);\r\n            }\r\n\r\n            // var gplay = gplayapp({appId: 'com.byasia.ruangortu'});\r\n            // gplay.then(res => {\r\n            //     console.log(res);\r\n            //     if(isLoading) setLoading(false);\r\n            //     else if(isLoadingSpinner) {\r\n            //         setLoadingSpinner(false);\r\n            //         setLoading(true);\r\n            //         setLoading(false);\r\n            //     }\r\n            // })\r\n\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        retrieveData();\r\n\r\n    }, [, endDate]);\r\n\r\n    if(isLoading) {\r\n        return <RKLoader/>\r\n    }\r\n\r\n    return(\r\n        <div className=\"status\">\r\n\r\n            <div className=\"status-top\">\r\n                <img src={Logo} className=\"status-top-img\" alt=\"logo top\" />\r\n                <h4>Diakses pada {realToday.toLocaleString(\"id-ID\",{\r\n                    weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric'\r\n                })}</h4>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Jumlah Download di Play Store:</h3>\r\n                <h3>UNDER CONSTRUCTION</h3>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Total User:</h3>\r\n                <h1>{countUser[0]}</h1>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Jumlah User Orang Tua:</h3>\r\n                <h1>{countUser[1]}</h1>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Jumlah User Anak Diundang:</h3>\r\n                <h1>{countUser[3]}</h1>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Jumlah User Anak Aktif:</h3>\r\n                <h1>{countUser[2]}</h1>\r\n            </div>\r\n            <div className=\"status-1\">\r\n                <h3>Jumlah User Anak Berbayar:</h3>\r\n                <h1>{countUser[4]}</h1>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Status;"],"sourceRoot":""}