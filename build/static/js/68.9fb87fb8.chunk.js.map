{"version":3,"sources":["components/API/filter.js","containers/CoBrand/Status/Status.js"],"names":["getProgramList","query","axios","method","url","data","headers","getContentList","getUserList","getRedzoneList","getAppUsageList","getDeviceScheduleList","getAppLimitList","getModeAsuhList","getAppDetailList","getNotificationList","getNotificationCategoryList","getAudienceList","getContentTopicList","getProgramCategoryList","getAdminList","Status","useState","isLoading","setLoading","isLoadingSpinner","setLoadingSpinner","absStart","JSON","parse","localStorage","getItem","Date","today","setDate","getDate","endDate","setUserData","countUser","setCountUser","useEffect","tk","sd","smp","sma","parent","coparent","countingUser","paramUser","whereKeyValues","packageId","dateCreated","toISOString","split","orderKeyValues","nameUser","limit","Number","MAX_SAFE_INTEGER","then","responseAll","dataUser","users","length","i","x","userType","undefined","parentEmail","subscriptions","childInfo","StudyLevel","userDataObj","name","retrieveData","className","src","Logo","alt"],"mappings":"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","file":"static/js/68.9fb87fb8.chunk.js","sourcesContent":["import axios from \"axios\";\nimport url from \"./urlApi\";\n\nexport const getProgramList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/programFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\nexport const getContentList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/contentFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\nexport const getUserList = (query) => axios({\n    method: 'post',\n    url: url + '/user/userFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getRedzoneList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/redZoneFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getAppUsageList = (query) => axios({\n    method: 'post',\n    url: url + '/user/appUsageFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getDeviceScheduleList = (query) => axios({\n    method: 'post',\n    url: url + '/user/deviceUsageScheduleFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getAppLimitList = (query) => axios({\n    method: 'post',\n    url: url + '/user/appUsageLimitFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getModeAsuhList = (query) => axios({\n    method: 'post',\n    url: url + '/user/childModeAsuhFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getAppDetailList = (query) => axios({\n    method: 'post',\n    url: url + '/user/appIconFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getNotificationList = (query) => axios({\n    method: 'post',\n    url: url + '/user/broadcastFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getNotificationCategoryList = (query) => axios({\n    method: 'post',\n    url: url + '/cms/notificationCategoryFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getAudienceList = (query) => axios({\n    method: 'post',\n    url: url + '/cms/audianceTargetFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\nexport const getContentTopicList = (query) => axios({\n    method: 'post',\n    url: url + '/cms/contentTopicFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n})\n\nexport const getProgramCategoryList = (query) => axios({\n    method: 'post',\n    url: url + '/cms/programCategoryFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n})\n\nexport const getAdminList = (query) => axios({\n    method: 'post',\n    url: url + '/cms/userFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n})\n\n\n\nexport const getHKBPList = (query) => axios({\n    method: 'post',\n    url: url + '/cobrand/HKBPDataFilter',\n    data: query,\n    headers: {\n        'Content-Type': 'application/json',\n    }\n});\n\n","import React, {useState, useEffect} from 'react';\nimport './Status.scss';\nimport RKLoader from '../../../components/UI/RKLoader/RKLoader';\nimport Logo from './../../../assets/img/Logo_4.png'\nimport { getContentList, getProgramList, getUserList, getAppUsageList, getNotificationCategoryList, getNotificationList } from '../../../components/API/filter';\n\nfunction Status() {\n    const [isLoading, setLoading] = useState(true);\n    const [isLoadingSpinner, setLoadingSpinner] = useState(false);\n\n    const localData = JSON.parse(localStorage.getItem('userData'));\n\n    const absStart = new Date(\"2021-01-01\");\n    const today = new Date();\n    today.setDate(today.getDate() + 1);\n\n    const [period, setPeriod] = useState('today');\n    const [endDate, setEndDate] = useState(today);\n    const [userData, setUserData] = useState([]);\n    const [countUser, setCountUser] = useState([0,0,0,0]);\n\n    const topUsageLabelDummy = [\"Youtube\", \"Google\", \"Facebook\", \"Twitter\", \"Chrome\", \"Telegram\", \"TikTok\", \"Mobile Legends\", \"Chess\", \"Minecraft\"];\n    const notifLabelDummy = [\"Pembayaran\", \"Pemberitahuan\", \"Promosi\", \"Laporan\"];\n    const topicLabelDummy = [\"Agama\", \"Pendidikan\", \"Kesehatan\", \"Keluarga\", \"Berita Internal\", \"Berita Nasional\", \"Berita Dunia\", \"Informasi Teknologi\", \"Olah Raga\", \"Umum\"];\n    \n    const userDummy = [\n        {\n            name: \"TK\",\n            data: [0, 12]\n        },\n        {\n            name: \"SD\",\n            data: [0, 50]\n        },\n        {\n            name: \"SMP\",\n            data: [0, 121]\n        },\n        {\n            name: \"SMA\",\n            data: [0, 68]\n        },\n        {\n            name: \"Parent\",\n            data: [250, 0]\n        },\n        {\n            name: \"Co-Parent\",\n            data: [99, 0]\n        }\n    ];\n    \n\n    function retrieveData() {\n        var tk = [0,0],\n        sd = [0, 0],\n        smp = [0,0],\n        sma = [0,0],\n        parent = [0,0],\n        coparent = [0,0];\n\n        var countingUser = [0,0,0,0];\n\n        let paramUser = {\n            whereKeyValues: {\n                packageId: \"com.byasia.ruangortu\",\n                dateCreated: {\n                    \"$gte\": absStart.toISOString().split('T')[0],\n                    \"$lte\": endDate.toISOString().split('T')[0]\n                }\n            },\n            orderKeyValues: {\n                nameUser: 1\n            },\n            limit: Number.MAX_SAFE_INTEGER\n        }\n\n        const promiseUser = getUserList(paramUser);\n\n        promiseUser.then(responseAll => {\n            // console.log(responseAll[0]);\n            const dataUser = responseAll.data.users;\n            countingUser[0] = dataUser.length;\n            // // console.log(dataUser);\n            for(var i = 0; i < dataUser.length; i++) {\n                let x = dataUser[i];\n                if(x.userType === 'parent') {\n                    countingUser[1]++;\n                    // // console.log(\"Parent email: \" + x.parentEmail);\n                    if(x.parentEmail === undefined) parent[0]++;\n                    else coparent[0]++;\n                }\n                else if(x.userType === 'child') {\n                    countingUser[2]++;\n                    if(x.subscriptions.length > 0) countingUser[3]++;\n                    if(x.childInfo.StudyLevel === 'TK') tk[1]++;\n                    else if(x.childInfo.StudyLevel === 'SD') sd[1]++;\n                    else if(x.childInfo.StudyLevel === 'SMP') smp[1]++;\n                    else if(x.childInfo.StudyLevel === 'SMA') sma[1]++;\n                }\n            }\n            const userDataObj = [\n                {\n                    name: \"TK\",\n                    data: tk\n                },\n                {\n                    name: \"SD\",\n                    data: sd\n                },\n                {\n                    name: \"SMP\",\n                    data: smp\n                },\n                {\n                    name: \"SMA\",\n                    data: sma\n                },\n                {\n                    name: \"Parent\",\n                    data: parent\n                },\n                {\n                    name: \"Co-Parent\",\n                    data: coparent\n                }\n            ]\n            \n            // console.log(\"Colors length: \" + colors.length);\n            setCountUser(countingUser);\n            setUserData(userDataObj);\n\n            if(isLoading) setLoading(false);\n            else if(isLoadingSpinner) {\n                setLoadingSpinner(false);\n                setLoading(true);\n                setLoading(false);\n            }\n        });\n    }\n\n    useEffect(() => {\n        retrieveData();\n\n    }, [, endDate]);\n\n    if(isLoading) {\n        return <RKLoader/>\n    }\n\n    return(\n        <div className=\"status\">\n\n            <div className=\"status-top\">\n                    <img src={Logo} className=\"status-top-img\" alt=\"logo top\" />\n                </div>\n            <div className=\"status-1\">\n                <h3>Jumlah Orang Tua:</h3>\n                <h1>{countUser[1]}</h1>\n            </div>\n            <div className=\"status-1\">\n                <h3>Jumlah Anak:</h3>\n                <h1>{countUser[2]}</h1>\n            </div>\n            <div className=\"status-1\">\n                <h3>Jumlah Anak Berlangganan:</h3>\n                <h1>{countUser[3]}</h1>\n            </div>\n        </div>\n    );\n}\n\nexport default Status;"],"sourceRoot":""}