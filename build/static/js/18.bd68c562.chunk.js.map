{"version":3,"sources":["containers/CoBrand/Dashboard/Dashboard.js","components/UI/RKLoaderInner/RKLoader.js","components/UI/Heading/Heading.js"],"names":["Dashboard","useState","isLoading","setLoading","programList","setProgramList","contentList","setContentList","countVariable","setCountVariable","history","useHistory","userData","JSON","parse","localStorage","getItem","programParams","whereKeyValues","cobrandEmail","email","orderKeyValues","startDate","limit","contentParams","useEffect","axios","method","url","data","headers","then","response","programs","map","d","className","onClick","setItem","_id","push","programName","ProgramDescription","console","log","contents","src","contentThumbnail","contentName","contentDescription","to","countingVariable","countProgram","countContent","params1","Number","MAX_SAFE_INTEGER","promiseP","promiseC","Promise","all","length","catch","error","headingName","RKLoader","text","Heading","routes","item","i","path","exact","name"],"mappings":"0PAyNeA,UAhNf,WAEI,MAAgCC,oBAAS,GAAzC,mBAAOC,EAAP,KAAkBC,EAAlB,KACA,EAAsCF,qBAAtC,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAsCJ,qBAAtC,mBAAOK,EAAP,KAAoBC,EAApB,KACA,EAA0CN,qBAA1C,mBAAOO,EAAP,KAAsBC,EAAtB,KAEMC,EAAUC,cAEVC,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,aAC3CC,EAAgB,CAClBC,eAAgB,CACZC,aAAcP,EAASQ,OAE3BC,eAAgB,CACZC,WAAY,GAEhBC,MAAO,GAELC,EAAgB,CAClBN,eAAgB,CACZC,aAAcP,EAASQ,OAE3BC,eAAgB,CACZC,WAAY,GAEhBC,MAAO,GAwGX,OArGAE,qBAAU,WACNtB,GAAW,GACXuB,IAAM,CACFC,OAAQ,OACRC,IAAK,0DACLC,KAAMZ,EACNa,QAAS,CACL,eAAgB,sBAGvBC,MAAK,SAAAC,GACF,IAAIC,EAAWD,EAASH,KAAKI,SAASC,KAAI,SAACC,GAAD,OACtC,sBAAKC,UAAU,4BAAf,UACI,oBAAIC,QAAS,WACTtB,aAAauB,QAAQ,kBAAmBH,EAAEI,KAC1C7B,EAAQ8B,KAAK,kBAFjB,SAGIL,EAAEM,cACN,4BAAIN,EAAEO,2BAGdrC,EAAe4B,GACfU,QAAQC,IAAIX,GACZP,IAAM,CACFC,OAAQ,OACRC,IAAK,0DACLC,KAAML,EACNM,QAAS,CACL,eAAgB,sBAGvBC,MAAK,SAAAC,GACF,IAAIa,EAAWb,EAASH,KAAKgB,SAASX,KAAI,SAACC,GAAD,OACtC,sBAAKC,UAAU,4BAAf,UACI,sBAAKA,UAAU,6BAAf,UACI,qBACIU,IAAKX,EAAEY,iBACPX,UAAU,mCAEd,qBAAKA,UAAU,mCAEnB,sBAAKA,UAAU,mCAAf,UACI,6BAAKD,EAAEa,cACP,4BACKb,EAAEc,qBAEP,eAAC,IAAD,CAASC,GAAG,gBACRb,QAAS,WACLtB,aAAauB,QAAQ,kBAAmBH,EAAEI,MAFlD,yBAII,cAAC,IAAD,CAAoBH,UAAU,2CAK9C7B,EAAesC,GACfF,QAAQC,IAAIC,GACZ,IAAIM,EAAmB,CACnBC,aAAc,EACdC,aAAc,GAEdC,EAAU,CACVpC,eAAgB,CACZC,aAAcP,EAASQ,OAE3BG,MAAOgC,OAAOC,kBAEZC,EAAW/B,IAAM,CACnBC,OAAQ,OACRC,IAAK,0DACLC,KAAMyB,EACNxB,QAAS,CACL,eAAgB,sBAGlB4B,EAAWhC,IAAM,CACnBC,OAAQ,OACRC,IAAK,0DACLC,KAAMyB,EACNxB,QAAS,CACL,eAAgB,sBAGxB6B,QAAQC,IAAI,CAACH,EAAUC,IAAW3B,MAAK,SAAAC,GACnCmB,EAAiBC,aAAepB,EAAS,GAAGH,KAAKI,SAAS4B,OAC1DV,EAAiBE,aAAerB,EAAS,GAAGH,KAAKgB,SAASgB,OAC1DpD,EAAiB0C,GACjBhD,GAAW,SAGlB2D,OAAM,SAAAC,GACHpB,QAAQC,IAAImB,GACZ5D,GAAW,SAGlB2D,OAAM,SAAAC,GACHpB,QAAQC,IAAImB,GACZ5D,GAAW,QAGhB,IAEAD,EACQ,cAAC,IAAD,IAIP,sBAAKkC,UAAU,YAAf,UACI,cAAC,IAAD,CAAS4B,YAAY,uBAIrB,sBAAK5B,UAAU,mBAAf,UACI,sBAAKA,UAAU,wBAAf,UACI,sBAAKA,UAAU,gCAAf,UACI,gDACA,cAAC,IAAD,CAAeA,UAAU,kCAE7B,6BAAK5B,EAAc4C,eAEnB,qBAAKhB,UAAU,gCAAf,SACI,eAAC,IAAD,CAASc,GAAG,WAAZ,yBACI,cAAC,IAAD,CAAoBd,UAAU,uCAI1C,sBAAKA,UAAU,wBAAf,UACI,sBAAKA,UAAU,gCAAf,UACI,gDACA,cAAC,IAAD,CAAeA,UAAU,kCAE7B,6BAAK5B,EAAc6C,eACnB,qBAAKjB,UAAU,gCAAf,SACI,eAAC,IAAD,CAASc,GAAG,WAAZ,yBACI,cAAC,IAAD,CAAoBd,UAAU,0CAqB9C,iDAEA,qBAAKA,UAAU,sBAAf,SAC4B,IAAvBhC,EAAYyD,OACT,mDACAzD,IAMR,8CACA,qBAAKgC,UAAU,sBAAf,SAC4B,IAAvB9B,EAAYuD,OACT,kDACAvD,S,gCC/MpB,gCAce2D,IAVf,YAA8C,IAAD,IAAzBC,YAAyB,MAAlB,eAAkB,EACzC,OACI,sBAAK9B,UAAU,qBAAf,UACI,qBAAIA,UAAU,8BAAd,UAA4C,iDAA5C,OACA,cAAC,IAAD,IACA,4BAAI8B,S,qDCThB,gCAsBeC,IAlBf,YAAgD,IAA7BH,EAA4B,EAA5BA,YAA4B,IAAfI,cAAe,MAAN,GAAM,EAE3C,OACI,sBAAKhC,UAAU,UAAf,UACI,6BAAK4B,IACL,oBAAI5B,UAAU,qBAAd,SACKgC,EAAOP,OAAS,GAAKO,EAAOlC,KAAI,SAACmC,EAAMC,GACpC,OAAGD,EAAKE,KACG,qBAAInC,UAAU,0BAAd,UAAgD,cAAC,IAAD,CAASoC,OAAK,EAACtB,GAAImB,EAAKE,KAAxB,SAA+BF,EAAKI,OAApF,MAA6CH,GAE7C,qBAAIlC,UAAU,0BAAd,cAAiD,+BAAOiC,EAAKI,OAA7D,MAA6CH,a","file":"static/js/18.bd68c562.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './Dashboard.scss';\nimport { FiArrowRightCircle, FiAlertCircle } from 'react-icons/fi';\nimport { NavLink } from 'react-router-dom';\nimport Heading from '../../../components/UI/Heading/Heading';\nimport axios from 'axios';\nimport RKLoader from '../../../components/UI/RKLoaderInner/RKLoader';\nimport { useHistory } from 'react-router';\n\nfunction Dashboard() {\n\n    const [isLoading, setLoading] = useState(true);\n    const [programList, setProgramList] = useState();\n    const [contentList, setContentList] = useState();\n    const [countVariable, setCountVariable] = useState();\n\n    const history = useHistory();\n\n    const userData = JSON.parse(localStorage.getItem('userData'));\n    const programParams = {\n        whereKeyValues: {\n            cobrandEmail: userData.email\n        },\n        orderKeyValues: {\n            startDate: -1\n        },\n        limit: 4\n    };\n    const contentParams = {\n        whereKeyValues: {\n            cobrandEmail: userData.email\n        },\n        orderKeyValues: {\n            startDate: -1\n        },\n        limit: 6\n    }\n\n    useEffect(() => {\n        setLoading(true);\n        axios({\n            method: 'post',\n            url: 'https://rk.defghi.biz.id:8080/api/cobrand/programFilter',\n            data: programParams,\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        })\n        .then(response => {\n            let programs = response.data.programs.map((d) => (\n                <div className=\"Dashboard__programs__list\">\n                    <h3 onClick={() => {\n                        localStorage.setItem('programSelected', d._id);\n                        history.push('/program/view');\n                    }}>{d.programName}</h3>\n                    <p>{d.ProgramDescription}</p>\n                </div>\n            ));\n            setProgramList(programs);\n            console.log(programs);\n            axios({\n                method: 'post',\n                url: 'https://rk.defghi.biz.id:8080/api/cobrand/contentFilter',\n                data: contentParams,\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n            })\n            .then(response => {\n                let contents = response.data.contents.map((d) => (\n                    <div className=\"Dashboard__contents__item\">\n                        <div className=\"Dashboard__contents__cover\">\n                            <img \n                                src={d.contentThumbnail} \n                                className=\"Dashboard__contents__cover-img\"\n                            />\n                            <div className=\"Dashboard__contents__shadow\"></div>\n                        </div>\n                        <div className=\"Dashboard__contents__description\">\n                            <h3>{d.contentName}</h3>\n                            <p>\n                                {d.contentDescription}\n                            </p>\n                            <NavLink to=\"/content/view\"\n                                onClick={() => {\n                                    localStorage.setItem('contentSelected', d._id)\n                                }}>Lihat Detail \n                                <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                            </NavLink>\n                        </div>\n                    </div>\n                ));\n                setContentList(contents);\n                console.log(contents);\n                let countingVariable = {\n                    countProgram: 0,\n                    countContent: 0\n                }\n                let params1 = {\n                    whereKeyValues: {\n                        cobrandEmail: userData.email\n                    },\n                    limit: Number.MAX_SAFE_INTEGER\n                }\n                const promiseP = axios({\n                    method: 'post',\n                    url: 'https://rk.defghi.biz.id:8080/api/cobrand/programFilter',\n                    data: params1,\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                });\n                const promiseC = axios({\n                    method: 'post',\n                    url: 'https://rk.defghi.biz.id:8080/api/cobrand/contentFilter',\n                    data: params1,\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                });\n                Promise.all([promiseP, promiseC]).then(response => {\n                    countingVariable.countProgram = response[0].data.programs.length;\n                    countingVariable.countContent = response[1].data.contents.length;\n                    setCountVariable(countingVariable);\n                    setLoading(false);\n                });\n            })\n            .catch(error => {\n                console.log(error);\n                setLoading(false);\n            });\n        })\n        .catch(error => {\n            console.log(error);\n            setLoading(false);\n        });\n        \n    }, []);\n\n    if(isLoading) {\n        return <RKLoader/>\n    }\n\n    return (\n        <div className=\"Dashboard\">\n            <Heading headingName=\"YOUR CO-BRAND DATA\" />\n            \n\n            {/* Dashboard Cards  */}\n            <div className=\"Dashboard__cards\">\n                <div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Programs Added</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>{countVariable.countProgram}</h1>\n                    \n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/program\">Lihat Detail \n                            <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>\n                <div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Contents Added</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>{countVariable.countContent}</h1>\n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/content\">Lihat Detail \n                            <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>\n                {/*<div className=\"Dashboard__cards_item\">\n                    <div className=\"Dashboard__cards_item-heading\">\n                        <h3>Inactive Subs</h3>\n                        <FiAlertCircle className=\"Dashboard__cards_item-icon\" />\n                    </div>\n                    <h1>125</h1>\n                    <div className=\"Dashboard__cards_item-details\">\n                        <NavLink to=\"/\">\n                            Lihat Detail <FiArrowRightCircle className=\"Dashboard__cards_item-icon\" />\n                        </NavLink>\n                    </div>\n                </div>*/}\n            </div>\n            {/* End Dashboard Cards  */}\n\n\n            {/* Program */}\n            <h1>ONGOING PROGRAM</h1>\n\n            <div className=\"Dashboard__programs\">\n                {programList.length === 0 ? (\n                    <h3>Tidak Ada Program</h3>\n                ) : programList}\n            </div>\n            {/* End Program */}\n\n\n            {/* Content */}\n            <h1>CONTENT LIST</h1>\n            <div className=\"Dashboard__contents\">\n                {contentList.length === 0 ? (\n                    <h3>Tidak Ada Konten</h3>\n                ) : contentList}\n\n                \n                \n            </div>\n\n        </div>\n    )\n}\n\nexport default Dashboard\n","import React from 'react'\nimport Spinner from '../Loader/Spinner/Spinner';\nimport './RKLoader.scss';\n\nfunction RKLoader({ text = 'Mohon Tunggu' }) {\n    return (\n        <div className=\"LoadingFullRkInner\">\n            <h1 className=\"LoadingFullRkInner__heading\"><span>Keluarga HKBP</span> </h1>\n            <Spinner />\n            <p>{text}</p>\n        </div>\n    )\n}\n\nexport default RKLoader\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Heading.scss';\n\nfunction Heading({ headingName, routes = [] }) {\n    \n    return (\n        <div className=\"Heading\">\n            <h1>{headingName}</h1>\n            <ul className=\"Heading__breadcumb\">\n                {routes.length > 0 && routes.map((item, i) => {\n                    if(item.path){\n                        return <li className=\"Heading__breadcumb-item\" key={i}><NavLink exact to={item.path}>{item.name}</NavLink> </li>\n                    }else{\n                        return <li className=\"Heading__breadcumb-item\" key={i}> <span>{item.name}</span> </li>\n                    }\n                })}\n            </ul>\n        </div>\n    )\n}\n\nexport default Heading\n"],"sourceRoot":""}