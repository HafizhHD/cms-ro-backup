(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[27,3],{102:function(e,t,a){"use strict";var r=a(2),n=(a(103),a(0));function o(e){var t=e.placeholder,a=e.type,r=e.onChange,o=e.onBlur,i=e.value,s=e.className,u=e.message,c=e.name,d=e.min,l=e.max,m=e.disabled,h=e.isError;return"textarea"===a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("textarea",{name:c,id:c,className:s,placeholder:t,onChange:r,onBlur:o,value:i,disabled:m}),h&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:u})})]}):"date"===a||"datetime-local"===a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:c,className:s,type:a,placeholder:t,onChange:r,onBlur:o,value:i,min:d,max:"9999-12-31",disabled:m}),h&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:u})})]}):"number"===a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:c,className:s,type:a,onChange:r,onBlur:o,value:i,min:d,max:l,disabled:m}),h&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:u})})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{name:c,className:s,type:a,placeholder:t,onChange:r,onBlur:o,value:i,disabled:m}),h&&Object(n.jsx)("div",{className:"message",children:Object(n.jsx)("span",{className:"message__error",children:u})})]})}t.a=Object(r.memo)(o)},103:function(e,t,a){},114:function(e,t,a){"use strict";a.d(t,"g",(function(){return o})),a.d(t,"h",(function(){return i})),a.d(t,"f",(function(){return s})),a.d(t,"m",(function(){return u})),a.d(t,"n",(function(){return c})),a.d(t,"q",(function(){return d})),a.d(t,"c",(function(){return l})),a.d(t,"d",(function(){return m})),a.d(t,"r",(function(){return h})),a.d(t,"k",(function(){return p})),a.d(t,"a",(function(){return g})),a.d(t,"j",(function(){return f})),a.d(t,"l",(function(){return b})),a.d(t,"p",(function(){return y})),a.d(t,"b",(function(){return j})),a.d(t,"i",(function(){return v})),a.d(t,"e",(function(){return E})),a.d(t,"o",(function(){return w}));var r=a(147),n=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,o=r.f({userName:r.g("Enter your email").required("Email is required"),password:r.g("Enter your password").required("Password is required")}),i=r.f({email:r.g("Enter your email").required("Email is required").email("Email not valid"),accountName:r.g("Enter your name").required("Name is required"),cobrandName:r.g("Enter your brand name").required("Brand name is required"),thumbnail:r.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),phoneNumber:r.g("Enter your phone number").required("Phone number is required").matches(n,"Invalid phone number format"),address:r.g("Enter your address").required("Address is required"),password:r.g("Enter your password").required("Password is required").min(8,"Password should be 8 characters or more"),confirmPassword:r.g("Confirm your password").required("Password is required").when("password",(function(e,t){return t.test({test:function(t){return e&&t===e},message:"Password doesn't match"})}))}),s=r.f({email:r.g("Enter your email").required("Email is required").email("Email not valid"),cobrandName:r.g("Enter your brand name").required("Brand name is required"),thumbnail:r.d("Insert your image, 2 MB max").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)||!e})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),phoneNumber:r.g("Enter your phone number").required("Phone number is required").matches(n,"Invalid phone number format"),address:r.g("Enter your address").required("Address is required"),password:r.g("Enter your password").min(8,"Password should be 8 characters or more"),confirmPassword:r.g("Confirm your password").when("password",(function(e,t){return t.test({test:function(t){return e&&t===e||!e},message:"Password doesn't match"})}))}),u=r.f({programName:r.g("Enter your program title").required("Program title is required"),programDescription:r.g("Enter the program description").required("Program description is required"),programThumbnail:r.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),startDate:r.c("Insert start date").required("Date is required"),endDate:r.c("Insert end date").required("Date is required"),category:r.g(),targetAudiance:r.a().min(1,"Pilih minimal 1"),contentPrograms:r.a().min(1).of(r.f({namaTahapan:r.g().required("Nama Tahapan harus diisi"),contentName:r.g().required("Judul Tahapan harus diisi"),contents:r.g().required("Isi Tahapan harus diisi"),startDate:r.c("Insert start date").required("Date is required"),endDate:r.c("Insert end date").required("Date is required"),answerKey:r.g().when("category",{is:"Ujian",then:r.g().required("Kunci Jawaban harus diisi"),otherwise:r.g()})}))}),c=r.f({programName:r.g("Enter your program title").required("Program title is required"),programDescription:r.g("Enter the program description").required("Program description is required"),startDate:r.c("Insert start date").required("Date is required")}),d=r.f({namaTahapan:r.g().required("Nama Tahapan harus diisi"),contentName:r.g().required("Judul Tahapan harus diisi"),contents:r.g().required("Isi Tahapan harus diisi")}),l=r.f({contentName:r.g("Enter your content title").required("Content title is required"),contentDescription:r.g("Enter the content description"),contents:r.g("Enter the content description").required("Content is required"),contentSource:r.g("Enter the content source").required("Content source is required"),contentThumbnail:r.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),startDate:r.c("Insert start date").required("Date is required"),endDate:r.c("Insert end date").required("Date is required"),isActive:r.b(),topics:r.a().min(1),targetAudience:r.a().min(1)}),m=r.f({contentName:r.g("Enter your content title").required("Content title is required"),contentDescription:r.g("Enter the content description"),contents:r.g("Enter the content description").required("Content is required"),contentSource:r.g("Enter the content source").required("Content source is required"),startDate:r.c("Insert start date").required("Date is required")}),h=r.f({nameUser:r.g("Enter your content title").required("User name is required"),emailUser:r.g("Enter the content description").required("Email is required").email("Email not valid"),birdDate:r.c("Insert start date").required("Date is required")}),p=r.f({destination:r.a().min(1),messageSubject:r.g("Enter the message subject").required("Message Subject is required"),messageContent:r.g("Enter the message content").required("Message Content is required"),scheduleTime:r.c("Insert start date").required("Date is required"),mediaType:r.g("Enter the media type").required("Media type is required"),category:r.g("Enter the category").required("Category is required")}),g=r.f({audianceName:r.g("Enter your audience name").required("Audience Name is required")}),f=r.f({category:r.g("Enter category name").required("Category is required"),description:r.g("Enter description").required("Description is required")}),b=r.f({category:r.g("Enter category name").required("Category is required"),description:r.g("Enter description").required("Description is required")}),y=r.f({emailUser:r.g("Enter your email").required("Email is required").email("Email not valid"),userName:r.g("Enter your name").required("Name is required").matches(/^\S*$/,"Invalid username format"),phone:r.g("Enter your phone number").required("Phone number is required").matches(n,"Invalid phone number format"),password:r.g("Enter your password").required("Password is required").min(8,"Password should be 8 characters or more")}),j=r.f({cobrandComunityName:r.g("Enter your community name").required("Community name is required"),partComunityName:r.g("Enter your community name")}),v=r.f({groupMitraAsuhName:r.g("Enter your group name").required("Group name is required")}),E=r.f({topicName:r.g("Enter topic name").required("Topic Name is required")}),w=r.f({controlParameterName:r.g("Enter category name").required("Category is required"),controlParameterValue:r.e().required("Number is required")})},121:function(e,t,a){var r=function(e){"use strict";var t,a=Object.prototype,r=a.hasOwnProperty,n="function"===typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function u(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(q){u=function(e,t,a){return e[t]=a}}function c(e,t,a,r){var n=t&&t.prototype instanceof f?t:f,o=Object.create(n.prototype),i=new N(r||[]);return o._invoke=function(e,t,a){var r=l;return function(n,o){if(r===h)throw new Error("Generator is already running");if(r===p){if("throw"===n)throw o;return x()}for(a.method=n,a.arg=o;;){var i=a.delegate;if(i){var s=C(i,a);if(s){if(s===g)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if(r===l)throw r=p,a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);r=h;var u=d(e,t,a);if("normal"===u.type){if(r=a.done?p:m,u.arg===g)continue;return{value:u.arg,done:a.done}}"throw"===u.type&&(r=p,a.method="throw",a.arg=u.arg)}}}(e,a,i),o}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(q){return{type:"throw",arg:q}}}e.wrap=c;var l="suspendedStart",m="suspendedYield",h="executing",p="completed",g={};function f(){}function b(){}function y(){}var j={};j[o]=function(){return this};var v=Object.getPrototypeOf,E=v&&v(v(I([])));E&&E!==a&&r.call(E,o)&&(j=E);var w=y.prototype=f.prototype=Object.create(j);function O(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(n,o,i,s){var u=d(e[n],e,o);if("throw"!==u.type){var c=u.arg,l=c.value;return l&&"object"===typeof l&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){a("next",e,i,s)}),(function(e){a("throw",e,i,s)})):t.resolve(l).then((function(e){c.value=e,i(c)}),(function(e){return a("throw",e,i,s)}))}s(u.arg)}var n;this._invoke=function(e,r){function o(){return new t((function(t,n){a(e,r,t,n)}))}return n=n?n.then(o,o):o()}}function C(e,a){var r=e.iterator[a.method];if(r===t){if(a.delegate=null,"throw"===a.method){if(e.iterator.return&&(a.method="return",a.arg=t,C(e,a),"throw"===a.method))return g;a.method="throw",a.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var n=d(r,e.iterator,a.arg);if("throw"===n.type)return a.method="throw",a.arg=n.arg,a.delegate=null,g;var o=n.arg;return o?o.done?(a[e.resultName]=o.value,a.next=e.nextLoc,"return"!==a.method&&(a.method="next",a.arg=t),a.delegate=null,g):o:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function N(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(e){if(e){var a=e[o];if(a)return a.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function a(){for(;++n<e.length;)if(r.call(e,n))return a.value=e[n],a.done=!1,a;return a.value=t,a.done=!0,a};return i.next=i}}return{next:x}}function x(){return{value:t,done:!0}}return b.prototype=w.constructor=y,y.constructor=b,b.displayName=u(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,u(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},O(k.prototype),k.prototype[i]=function(){return this},e.AsyncIterator=k,e.async=function(t,a,r,n,o){void 0===o&&(o=Promise);var i=new k(c(t,a,r,n),o);return e.isGeneratorFunction(a)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},O(w),u(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var r=t.pop();if(r in e)return a.value=r,a.done=!1,a}return a.done=!0,a}},e.values=I,N.prototype={constructor:N,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(A),!e)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var a=this;function n(r,n){return s.type="throw",s.arg=e,a.next=r,n&&(a.method="next",a.arg=t),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var u=r.call(i,"catchLoc"),c=r.call(i,"finallyLoc");if(u&&c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),A(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var r=a.completion;if("throw"===r.type){var n=r.arg;A(a)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,a,r){return this.delegate={iterator:I(e),resultName:a,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(n){Function("r","regeneratorRuntime = r")(r)}},122:function(e,t,a){"use strict";a.d(t,"i",(function(){return m})),a.d(t,"y",(function(){return h})),a.d(t,"m",(function(){return p})),a.d(t,"A",(function(){return g})),a.d(t,"r",(function(){return f})),a.d(t,"c",(function(){return b})),a.d(t,"v",(function(){return y})),a.d(t,"p",(function(){return j})),a.d(t,"x",(function(){return v})),a.d(t,"f",(function(){return E})),a.d(t,"a",(function(){return w})),a.d(t,"e",(function(){return O})),a.d(t,"h",(function(){return k})),a.d(t,"l",(function(){return C})),a.d(t,"z",(function(){return T})),a.d(t,"t",(function(){return A})),a.d(t,"b",(function(){return N})),a.d(t,"j",(function(){return I})),a.d(t,"g",(function(){return x})),a.d(t,"w",(function(){return q})),a.d(t,"o",(function(){return S})),a.d(t,"s",(function(){return _})),a.d(t,"q",(function(){return D})),a.d(t,"d",(function(){return U})),a.d(t,"k",(function(){return P})),a.d(t,"u",(function(){return V})),a.d(t,"n",(function(){return M})),a.d(t,"B",(function(){return F}));var r=a(8),n=(a(18),a(37)),o=a(158),i=a(27),s=a(99),u=function(){return{type:r.f}},c=function(){return{type:r.d}},d=function(e,t){return{type:r.b,message:e,idMessage:t}},l=function(e,t){return{type:r.c,message:e,idMessage:t}},m=function(e,t,a,i,m,h,p,g,f,b){return function(y){y(u()),y({type:r.a}),Object(n.b)(i).then((function(r){for(var n=r,i=[],u=0;u<g.length;u++)i.push(g[u].value);var j={cobrandEmail:e,programName:t,ProgramDescription:a,programthumnail:n,startDate:m,endDate:h,category:p,targetAudiance:i};Object(o.B)(j).then((function(a){console.log("response:",a.data);for(var r=a.data.resultData.progrram._id,n=[],u=0;u<f.length;u++){for(var h=f[u],p={},g=0;g<h.response.length;g++)p[h.response[g]]=0;var j='<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><style>#contents {overflow-y: scroll;text-align: justify;font-family: Arial, Helvetica, sans-serif;padding: 1%;}#contents li {margin-left: 5%;}</style></head><body><div id="contents">'+h.contents+"</div></body></html>",v={programId:r,cobrandEmail:e,nomerUrutTahapan:h.nomerUrutTahapan,namaTahapan:h.namaTahapan,contentName:h.contentName,contentType:h.contentType,contentSource:h.contentSource,contents:j,startDate:h.startDate,endDate:h.endDate,topics:h.topics,targetAudiance:h.targetAudiance,status:"active",respons:p,answerKey:h.answerKey};n.push(Object(o.o)(v).then((function(e){console.log("Respons "+u,e)}))),console.log("content Program 1",n)}var E={whereKeyValues:{userType:"parent",packageId:"com.byasia.ruangortu"},limit:Number.MAX_SAFE_INTEGER};Object(s.x)(E).then((function(a){console.log(a);var r=a.data.users,s=[];r.forEach((function(e){s.push(e.emailUser)}));var u=s.join(",");if(n.length===f.length){b.push("/cms/program"),y(l('Program "'+t+'" berhasil ditambahkan.'));var h={cobrandEmail:e,destination:u,messageSubject:"Program Baru Untuk Anak",messageContent:"Hi Papa mama Ada Program Baru Lho! Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa program baru, papa mama bisa bagikan program tersebut ke anak Anda. Yuk ikuti program barunya.",scheduleTime:m,mediaType:"Device",category:"Informasi"};Object(o.x)(h).then((function(){h.destination=i.join(", "),h.messageSubject="Hi Adik-Adik Ada Program Baru Lho!",h.messageContent="Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa program baru, yuk adik-adik kita ikuti program baru nya, Seru Lho!",b.push("/cms/program"),y(d('Program "'+t+'" berhasil ditambahkan.')),y(c())}))}else{var p={cobrandEmail:e,destination:u,messageSubject:"Hai Papa Mama Ada Program Baru Lho! ",messageContent:"Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa program baru, papa mama bisa bagikan program tersebut ke anak Anda. Yuk ikuti program barunya.",scheduleTime:m,mediaType:"Device",category:"Informasi"};Object(o.x)(p).then((function(){p.destination=i.join(", "),p.messageSubject="Hi Adik-Adik Ada Program Baru Lho!",p.messageContent="Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa program baru, yuk adik-adik kita ikuti program baru nya, Seru Lho!",b.push("/cms/program"),y(d('Program "'+t+'" berhasil ditambahkan, namun beberapa tahap gagal ditambahkan.')),y(c())}))}}))})).catch((function(e){console.log("Error:",e),y(d('Program "'+t+'" gagal ditambahkan. Coba beberapa saat lagi.')),y(c())}))}))}},h=function(e,t,a,n,i,s,m,h,p){return function(g){g(u()),g({type:r.a});var f={whereValues:{cobrandEmail:t,_id:e},newValues:{programName:a,ProgramDescription:n,startDate:i,endDate:s,category:m,targetAudiance:h}};Object(o.E)(f).then((function(e){p.push("/cms/program"),g(l('Program "'+a+'" berhasil diubah.')),g(c())})).catch((function(e){console.error("Error:",e),g(d('Program "'+a+'" gagal diubah. Coba beberapa saat lagi.')),g(c())}))}},p=function(e,t,a,n,i,s,m,h,p,g,f,b,y,j,v){return function(E){E(u()),E({type:r.a});for(var w={},O=0;O<y.length;O++)w[y[O]]=0;var k={programId:e,cobrandEmail:t,nomerUrutTahapan:a,namaTahapan:n,contentName:i,contentType:s,contentSource:m,contents:'<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><style>#contents {overflow-y: scroll;text-align: justify;font-family: Arial, Helvetica, sans-serif;padding: 1%;}#contents li {margin-left: 5%;}</style></head><body><div id="contents">'+h+"</div></body></html>",startDate:p,endDate:g,topics:f,targetAudiance:b,respons:w,answerKey:j,status:"active"};console.log(k),Object(o.n)(k).then((function(e){v.push("/cms/program/edit/"),E(l('Tahap program "'+i+'" berhasil ditambahkan.')),E(c())})).catch((function(e){console.error("Error:",e),E(d('Tahap program "'+i+'" gagal ditambahkan. Coba beberapa saat lagi.')),E(c())}))}},g=function(e,t,a,n,i,s,m,h){return function(p){p(u()),p({type:r.a});for(var g={},f=0;f<s.length;f++)g[s[f]]=0;var b={whereValues:{cobrandEmail:t,_id:e},newValues:{namaTahapan:a,contentName:n,contents:'<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><style>#contents {overflow-y: scroll;text-align: justify;font-family: Arial, Helvetica, sans-serif;padding: 1%;}#contents li {margin-left: 5%;}</style></head><body><div id="contents">'+i+"</div></body></html>",respons:g,answerKey:m}};Object(o.q)(b).then((function(e){h.push("/cms/program/view/step"),p(l('Tahap program "'+n+'" berhasil diubah.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Tahap program "'+n+'" gagal diubah. Coba beberapa saat lagi.')),p(c())}))}},f=function(e,t,a){return function(n){n(u()),n({type:r.a});var i={whereValues:{cobrandEmail:e,_id:t[0]}};Object(o.D)(i).then((function(e){var r={whereValues:{programId:t[0]}};Object(o.p)(r).then((function(e){n(l('Program "'+t[1]+'" berhasil dihapus.')),n(c()),a()})).catch((function(e){n(l('Program "'+t[1]+'" berhasil dihapus, namun tahap pada program gagal dihapus.')),n(c()),a()}))})).catch((function(e){n(d('Program "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),n(c()),a()}))}},b=function(e,t,a,i,m,h,p,g,f,b,y,j,v,E,w,O,k){return function(C){C(u()),C({type:r.a}),console.log("Comunity: "+E);var T=E;Object(n.b)(p).then((function(r){var u=[],p=[];j.map((function(e){u.push(e.value)})),v.map((function(e){p.push(e.value)}));var A=r,N=y?"active":"inactive";if("Video"===m)"string"===typeof g?g='<div><iframe src="'+Object(n.a)(g)+'" style="width:100%;height:30vh;" frameborder="0" width="100%" height="30vh" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>':Object(n.b)(g).then((function(r){g='<div><video autoplay controls src="'+Object(n.a)(r)+'" style="width:100%;height:30vh;" frameborder="0" width="100%" height="30vh" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></video></div>';var y={cobrandEmail:e,programId:t,contentName:a,contentDescription:i,contentType:m,contentSource:h,contentThumbnail:A,contents:g,status:N,startDate:f,endDate:b,topics:u,targetAudiance:p,cobrandComunityId:E,groupMitraAsuhId:w,sekolah:O};Object(o.n)(y).then((function(t){var r=""!==O?{whereKeyValues:{packageId:"com.byasia.ruangortu",sekolah:O},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==w?{whereKeyValues:{packageId:"com.byasia.ruangortu",groupMitraAsuhId:w},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==T?{whereKeyValues:{packageId:"com.byasia.ruangortu",cobrandComunityId:T},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:{whereKeyValues:{packageId:"com.byasia.ruangortu"},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER};Object(s.x)(r).then((function(t){console.log(t);var r=t.data.users,n=[];r.forEach((function(e){n.push(e.emailUser)}));var i=n.join(","),s={cobrandEmail:e,destination:i,messageSubject:"Hai, Ada Artikel Baru Lho!",messageContent:"Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa artikel baru, yuk dicek sekarang.",scheduleTime:f,mediaType:"Device",category:"Informasi"};Object(o.x)(s).then((function(e){k.push("/cms/content"),C(l('Artikel "'+a+'" berhasil ditambahkan.')),C(c())}))}))})).catch((function(e){console.error("Error:",e),C(d('Content "'+a+'" gagal ditambahkan. Coba beberapa saat lagi.')),C(c())}))}));else if("Image"===m){if("string"===typeof g)g='<img src="'+g+'" style="width:100%;"/>';else Object(n.b)(g).then((function(r){var n={cobrandEmail:e,programId:t,contentName:a,contentDescription:i,contentType:m,contentSource:h,contentThumbnail:A,contents:g='<img src="'+r+'" style="width:100%;"/>',status:N,startDate:f,endDate:b,topics:u,targetAudiance:p,cobrandComunityId:E,groupMitraAsuhId:w,sekolah:O};Object(o.n)(n).then((function(t){var r=""!==O?{whereKeyValues:{packageId:"com.byasia.ruangortu",sekolah:O},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==w?{whereKeyValues:{packageId:"com.byasia.ruangortu",groupMitraAsuhId:w},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==T?{whereKeyValues:{packageId:"com.byasia.ruangortu",cobrandComunityId:T},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:{whereKeyValues:{packageId:"com.byasia.ruangortu"},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER};Object(s.x)(r).then((function(t){console.log(t);var r=t.data.users,n=[];r.forEach((function(e){n.push(e.emailUser)}));var i=n.join(","),s={cobrandEmail:e,destination:i,messageSubject:"Hai, Ada Artikel Baru Lho!",messageContent:"Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa artikel baru, yuk dicek sekarang.",scheduleTime:f,mediaType:"Device",category:"Informasi"};Object(o.x)(s).then((function(e){k.push("/cms/content"),C(l('Artikel "'+a+'" berhasil ditambahkan.')),C(c())}))}))})).catch((function(e){console.error("Error:",e),C(d('Content "'+a+'" gagal ditambahkan. Coba beberapa saat lagi.')),C(c())}))}))}else if("Pdf"===m){if("string"===typeof g)g='<div style="width:100%;height:100vh;"><iframe src="http://docs.google.com/gview?url='+g+(g.includes("&embedded=true")?"":"&embedded=true")+'" frameborder="0" width="100%" height="100%"></iframe></div>';else Object(n.b)(g).then((function(r){var n={cobrandEmail:e,programId:t,contentName:a,contentDescription:i,contentType:m,contentSource:h,contentThumbnail:A,contents:g='<div style="width:100%;height:100vh;"><iframe src="'+r+'" frameborder="0" width="100%" height="100%"></iframe></div>',status:N,startDate:f,endDate:b,topics:u,targetAudiance:p,cobrandComunityId:E,groupMitraAsuhId:w,sekolah:O};Object(o.n)(n).then((function(t){var r=""!==O?{whereKeyValues:{packageId:"com.byasia.ruangortu",sekolah:O},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==w?{whereKeyValues:{packageId:"com.byasia.ruangortu",groupMitraAsuhId:w},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==T?{whereKeyValues:{packageId:"com.byasia.ruangortu",cobrandComunityId:T},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:{whereKeyValues:{packageId:"com.byasia.ruangortu"},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER};Object(s.x)(r).then((function(t){console.log(t);var r=t.data.users,n=[];r.forEach((function(e){n.push(e.emailUser)}));var i=n.join(","),s={cobrandEmail:e,destination:i,messageSubject:"Hai, Ada Artikel Baru Lho!",messageContent:"Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa artikel baru, yuk dicek sekarang.",scheduleTime:f,mediaType:"Device",category:"Informasi"};Object(o.x)(s).then((function(e){k.push("/cms/content"),C(l('Artikel "'+a+'" berhasil ditambahkan.')),C(c())}))}))})).catch((function(e){console.error("Error:",e),C(d('Artikel "'+a+'" gagal ditambahkan. Coba beberapa saat lagi.')),C(c())}))}))}else g='<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><style>#contents {overflow-y: scroll;text-align: justify;font-family: Arial, Helvetica, sans-serif;padding: 1%;}#contents li {margin-left: 5%;}</style></head><body><div id="contents">'+g+"</div></body></html>";var I={cobrandEmail:e,programId:t,contentName:a,contentDescription:i,contentType:m,contentSource:h,contentThumbnail:A,contents:g,status:N,startDate:f,endDate:b,topics:u,targetAudiance:p,cobrandComunityId:E,groupMitraAsuhId:w,sekolah:O};console.log(I),Object(o.n)(I).then((function(t){var r=""!==O?{whereKeyValues:{packageId:"com.byasia.ruangortu",sekolah:O},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==w?{whereKeyValues:{packageId:"com.byasia.ruangortu",groupMitraAsuhId:w},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:""!==T?{whereKeyValues:{packageId:"com.byasia.ruangortu",cobrandComunityId:T},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER}:{whereKeyValues:{packageId:"com.byasia.ruangortu"},orderKeyValues:{nameUser:1},limit:Number.MAX_SAFE_INTEGER};Object(s.x)(r).then((function(t){console.log(t);var r=t.data.users,n=[];r.forEach((function(e){n.push(e.emailUser)}));var i=n.join(","),s={cobrandEmail:e,destination:i,messageSubject:"Hai, Ada Artikel Baru Lho!",messageContent:"Saat ini aplikasi Ruang Ortu by ASIA sudah menambahkan beberapa artikel baru, yuk dicek sekarang.",scheduleTime:f,mediaType:"Device",category:"Informasi"};Object(o.x)(s).then((function(e){k.push("/cms/content"),C(l('Artikel "'+a+'" berhasil ditambahkan.')),C(c())}))}))})).catch((function(e){console.error("Error:",e),C(d('Artikel "'+a+'" gagal ditambahkan. Coba beberapa saat lagi.')),C(c())}))}))}},y=function(e,t,a,i,s,m,h,p,g,f,b){return function(p){p(u()),p({type:r.a});if("Video"===m)"string"===typeof g?g='<div><iframe src="'+Object(n.a)(g)+'" style="width:100%;height:30vh;" frameborder="0" width="100%" height="30vh" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></div>':Object(n.b)(g).then((function(r){g='<div><video autoplay controls src="'+Object(n.a)(r)+'" style="width:100%;height:30vh;" frameborder="0" width="100%" height="30vh" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></video></div>';var u={whereValues:{_id:e},newValues:{cobrandEmail:t,programId:a,contentName:i,contentDescription:s,contentType:m,contentSource:h,contents:g,startDate:f}};Object(o.q)(u).then((function(e){b.push("/cms/content"),p(l('Artikel "'+i+'" berhasil diubah.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Artikel "'+i+'" gagal diubah. Coba beberapa saat lagi.')),p(c())}))}));else if("Image"===m){if("string"===typeof g)g='<img src="'+g+'" style="width:100%;"/>';else Object(n.b)(g).then((function(r){var n={whereValues:{_id:e},newValues:{cobrandEmail:t,programId:a,contentName:i,contentDescription:s,contentType:m,contentSource:h,contents:g='<img src="'+r+'" style="width:100%;"/>',startDate:f}};Object(o.q)(n).then((function(e){b.push("/cms/content"),p(l('Content "'+i+'" berhasil diubah.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Content "'+i+'" gagal diubah. Coba beberapa saat lagi.')),p(c())}))}))}else if("Pdf"===m){if("string"===typeof g)g='<div style="width:100%;height:100vh;"><iframe src="http://docs.google.com/gview?url='+g+(g.includes("&embedded=true")?"":"&embedded=true")+'" frameborder="0" width="100%" height="100%"></iframe></div>';else Object(n.b)(g).then((function(r){var n={whereValues:{_id:e},newValues:{cobrandEmail:t,programId:a,contentName:i,contentDescription:s,contentType:m,contentSource:h,contents:g='<div style="width:100%;height:100vh;"><iframe src="'+r+'" frameborder="0" width="100%" height="100%"></iframe></div>',startDate:f}};Object(o.q)(n).then((function(e){b.push("/cms/content"),p(l('Artikel "'+i+'" berhasil ditambahkan.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Artikel "'+i+'" gagal ditambahkan. Coba beberapa saat lagi.')),p(c())}))}))}else g='<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><style>#contents {overflow-y: scroll;text-align: justify;font-family: Arial, Helvetica, sans-serif;padding: 1%;}#contents li {margin-left: 5%;}</style></head><body><div id="contents">'+g+"</div></body></html>";var y={whereValues:{_id:e},newValues:{cobrandEmail:t,programId:a,contentName:i,contentDescription:s,contentType:m,contentSource:h,contents:g,startDate:f}};Object(o.q)(y).then((function(e){b.push("/cms/content"),p(l('Artikel "'+i+'" berhasil diubah.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Artikel "'+i+'" gagal diubah. Coba beberapa saat lagi.')),p(c())}))}},j=function(e,t,a){return function(n){n(u()),n({type:r.a});var i={whereValues:{cobrandEmail:e,_id:t[0]}};Object(o.p)(i).then((function(e){n(l('Artikel "'+t[1]+'" berhasil dihapus.')),n(c()),a()})).catch((function(e){n(d('Artikel "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),n(c()),a()}))}},v=function(e,t,a,o,s,m,h){return function(p){p(u()),p({type:r.a});var g={email:e,password:t},f={};(a&&(f=Object.assign(f,{cobrandName:a})),s&&(f=Object.assign(f,{phoneNumber:s})),m&&(f=Object.assign(f,{address:m})),h&&(f=Object.assign(f,{password:h})),o)?Object(n.b)(o).then((function(e){f=Object.assign(f,{thumbnail:e}),Object(i.a)(g,f).then((function(e){h&&(g.password=h),Object(i.b)(g).then((function(e){var t=e.data;localStorage.removeItem("accessToken"),localStorage.removeItem("userData"),localStorage.setItem("accessToken",t.resultData.token),localStorage.setItem("userData",JSON.stringify(t.resultData.user)),p(l("Profil berhasil diubah.")),p(c())})).catch((function(e){console.error("Error:",e),p(d("Profil gagal diubah. Coba beberapa saat lagi.")),p(c())}))})).catch((function(e){console.error("Error:",e),p(d("Profil gagal diubah. Coba beberapa saat lagi.")),p(c())}))})):Object(i.a)(g,f).then((function(e){h&&(g.password=h),Object(i.b)(g).then((function(e){var t=e.data;localStorage.setItem("accessToken",t.resultData.token),localStorage.setItem("userData",JSON.stringify(t.resultData.user)),p(l("Profil berhasil diubah.")),p(c())})).catch((function(e){console.error("Error:",e),p(d("Profil gagal diubah. Coba beberapa saat lagi.")),p(c())}))})).catch((function(e){console.error("Error:",e),p(d("Profil gagal diubah. Coba beberapa saat lagi.")),p(c())}))}},E=function(e,t,a,n,i,s,m,h,p,g){return function(f){f(u()),f({type:r.a});var b=i?s:"",y={cobrandEmail:e,destination:t.join(","),messageSubject:a,messageContent:n,scheduleTime:b,mediaType:m,category:h,cobrandComunityId:p};Object(o.x)(y).then((function(e){g.push("/cms/notifications"),f(l("Notifikasi berhasil dikirim.")),f(c())})).catch((function(e){console.error("Error:",e),f(d("Notifikasi gagal dikirim. Coba beberapa saat lagi.")),f(c())}))}},w=function(e,t){return function(a){a(u()),a({type:r.a});var n={audianceName:e};Object(o.i)(n).then((function(r){t.push("/tools/setting/target-audience"),a(l('Target pembaca "'+e+'" berhasil ditambahkan.')),a(c())})).catch((function(t){console.error("Error:",t),a(d('Target pembaca "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),a(c())}))}},O=function(e,t,a){return function(n){n(u()),n({type:r.a});var i={category:e,description:t};Object(o.w)(i).then((function(t){a.push("/tools/setting/notification-category"),n(l('Kategori Notifikasi "'+e+'" berhasil ditambahkan.')),n(c())})).catch((function(t){console.error("Error:",t),n(d('Kategori Notifikasi "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),n(c())}))}},k=function(e,t,a){return function(n){n(u()),n({type:r.a});var i={category:e,description:t};Object(o.C)(i).then((function(t){a.push("/tools/setting/program-category"),n(l('Kategori Program "'+e+'" berhasil ditambahkan.')),n(c())})).catch((function(t){console.error("Error:",t),n(d('Kategori Program "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),n(c())}))}},C=function(e,t,a,n,i,s,m,h,p,g,f){return function(b){b(u()),b({type:r.a});var y={userName:e,password:t,userType:a,cobrandEmail:n,userLevel:i,sekolah:s,emailUser:m,phone:h,cobrandComunityId:p,groupMitraAsuhId:g};Object(o.a)(y).then((function(t){f.push("/tools/admin-staff"),b(l('User "'+e+'" berhasil ditambahkan.')),b(c())})).catch((function(t){console.error("Error:",t),b(d('User"'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),b(c())}))}},T=function(e,t,a,n,i,s,m,h,p,g,f){return function(b){b(u()),b({type:r.a});var y={whereValues:{_id:localStorage.getItem("staffSelected")},newKeyValues:{userName:e,password:t,userType:a,cobrandEmail:n,userLevel:i,emailUser:s,sekolah:m,phone:h,cobrandComunityId:p,groupMitraAsuhId:g}};Object(o.c)(y).then((function(t){f.push("/tools/admin-staff"),b(l('User "'+e+'" berhasil diubah.')),b(c()),localStorage.removeItem("staffSelected")})).catch((function(t){console.error("Error:",t),b(d('User"'+e+'" gagal diubah. Coba beberapa saat lagi.')),b(c())}))}},A=function(e,t,a){return function(e){e(u()),e({type:r.a});var n={whereValues:{_id:t[0]}};Object(o.b)(n).then((function(r){e(l('User "'+t[1]+'" berhasil dihapus.')),e(c()),a()})).catch((function(r){e(d('User "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),e(c()),a()}))}},N=function(e,t,a,n){return function(i){i(u()),i({type:r.a});var s={cobrandComunityId:e,cobrandComunityName:e,cobrandEmail:t,partComunityId:e+"-"+a};Object(o.j)(s).then((function(t){n.push("/tools/setting/komunitas"),i(l('Komunitas "'+e+'" berhasil ditambahkan.')),i(c())})).catch((function(t){console.error("Error:",t),i(d('Komunitas "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),i(c())}))}},I=function(e,t,a,n){return function(i){i(u()),i({type:r.a});var s={groupMitraAsuhId:e,groupMitraAsuhName:e,cobrandEmail:t,memberSekolah:a};Object(o.F)(s).then((function(t){n.push("/tools/setting/school-group"),i(l('Kelompok mitra asuh "'+e+'" berhasil ditambahkan.')),i(c())})).catch((function(t){console.error("Error:",t),i(d('Kelompok mitra asuh "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),i(c())}))}},x=function(e,t,a,n,i,s,m){return function(h){h(u()),h({type:r.a});var p={prayDate:e,shubuh:t,dzuhur:a,ashr:n,maghrib:i,isya:s};Object(o.A)(p).then((function(t){m.push("/cms/praytime-message"),h(l('Hadits/Pesan untuk tanggal "'+e+'" berhasil ditambahkan.')),h(c())})).catch((function(t){console.error("Error:",t),h(d('Hadits/Pesan untuk tanggal "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),h(c())}))}},q=function(e,t,a,n,i,s,m,h){return function(p){p(u()),p({type:r.a});var g={whereValues:{_id:e},newValues:{prayDate:t,shubuh:a,dzuhur:n,ashr:i,maghrib:s,isya:m}};Object(o.y)(g).then((function(e){h.push("/cms/praytime-message"),p(l('Hadits/Pesan untuk tanggal "'+t+'" berhasil diubah.')),p(c())})).catch((function(e){console.error("Error:",e),p(d('Hadits/Pesan untuk tanggal "'+t+'" gagal diubah. Coba beberapa saat lagi.')),p(c())}))}},S=function(e,t,a){return function(e){e(u()),e({type:r.a});var n={whereValues:{cobrandComunityId:t[0]}};Object(o.k)(n).then((function(r){e(l('Komunitas "'+t[1]+'" berhasil dihapus.')),e(c()),a()})).catch((function(r){e(d('Komunitas "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),e(c()),a()}))}},_=function(e,t,a){return function(e){e(u()),e({type:r.a});var n={whereValues:{groupMitraAsuhId:t[0]}};Object(o.G)(n).then((function(r){e(l('Kelompok mitra asuh "'+t[1]+'" berhasil dihapus.')),e(c()),a()})).catch((function(r){e(d('Kelompok mitra asuh "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),e(c()),a()}))}},D=function(e,t,a){return function(e){e(u()),e({type:r.a});var n={whereValues:{_id:t[0]}};Object(o.z)(n).then((function(r){e(l('Hadits/Pesan tanggal "'+t[1]+'" berhasil dihapus.')),e(c()),a()})).catch((function(r){e(d('Hadits/Pesan tanggal "'+t[1]+'" gagal dihapus. Coba beberapa saat lagi.')),e(c()),a()}))}},U=function(e,t){return function(a){a(u()),a({type:r.a});var n={topicName:e};Object(o.r)(n).then((function(r){t.push("/tools/setting/topic"),a(l('Topik konten "'+e+'" berhasil ditambahkan.')),a(c())})).catch((function(t){console.error("Error:",t),a(d('Topik konten "'+e+'" gagal ditambahkan. Coba beberapa saat lagi.')),a(c())}))}},P=function(e,t,a,n,i){return function(s){s(u()),s({type:r.a});var m={cobrandEmail:e,controlParameterName:t,controlParameterValue:a,unit:n};Object(o.H)(m).then((function(e){i.push("/tools/setting/screentime"),s(l('Standar Screentime "'+t+'" berhasil ditambahkan.')),s(c())})).catch((function(e){console.error("Error:",e),s(d('Standar Screentime "'+t+'" gagal ditambahkan. Coba beberapa saat lagi.')),s(c())}))}},V=function(e,t,a,n,i,s,m,h,p,g){return function(f){f(u()),f({type:r.a});var b={whereValues:{emailUser:e},newValues:{nameUser:t,emailUser:a,gender:n,birdDate:i,address:s,imagePhoto:m,phoneNumber:h}};Object(o.h)(b).then((function(t){var r=[];Object(o.m)({whereValues:{emailUser:e}}).then((function(t){console.log(t.data),p.map((function(e){var t={cobrandComunityId:e.value,emailUser:a};r.push(Object(o.l)(t))})),g.push("/cms/user"),f(l('Informasi pengguna "'+e+'" berhasil diubah.')),f(c())})),g.push("/cms/user"),f(l('Informasi pengguna "'+e+'" berhasil diubah.')),f(c())})).catch((function(t){console.error("Error:",t),f(d('Informasi pengguna "'+e+'" gagal diubah. Coba beberapa saat lagi.')),f(c())}))}},M=function(e,t,a,n,i,s,d,m){return function(t){t(u()),t({type:r.a}),d(!0);for(var m=[],h=0;h<a.length;h++){var p=a[h];if(p.isChanged)if(""===p._id){if("1"===p.mode){var g={emailUser:e,appId:p.packageId,limit:0,appCategory:p.appCategory,status:"Aktif"},f=Object(o.f)(g);m.push(f)}else if("2"===p.mode){var b={emailUser:e,appId:p.packageId,limit:p.limit,appCategory:p.appCategory,status:"Aktif"},y=Object(o.f)(b);m.push(y)}}else if("0"===p.mode){var j={whereValues:{emailUser:e,appId:p.packageId}},v=Object(o.g)(j);m.push(v)}else if("1"===p.mode){var E={emailUser:e,appId:p.packageId,limit:0,appCategory:p.appCategory,status:"Aktif"},w=Object(o.f)(E);m.push(w)}else if("2"===p.mode){var O={emailUser:e,appId:p.packageId,limit:p.limit,appCategory:p.appCategory,status:"Aktif"};console.log(O);var k=Object(o.f)(O);m.push(k)}}var C={emailUser:e,modeAsuhName:n},T=Object(o.v)(C);m.push(T);for(var A=0;A<i.length;A++){var N=i[A];if(N.willBeRemoved){var I={whereValues:{_id:N._id}},x=Object(o.t)(I);m.push(x)}else if(""!==N._id){var q={whereValues:{_id:N._id},newValues:{scheduleName:N.scheduleName,scheduleDescription:N.scheduleDescription,scheduleType:N.schedule,deviceUsageDays:N.deviceUsageDays,deviceUsageStartTime:N.deviceUsageStartTime,deviceUsageEndTime:N.deviceUsageEndTime,status:N.status}},S=Object(o.u)(q);m.push(S)}else{var _=N,D=Object(o.s)(_);m.push(D)}}Promise.all(m).then((function(a){setTimeout((function(){s(!0)}),1e3),setTimeout((function(){s(!1),d(!1),t(l('Pengguna Anak "'+e+'" berhasil dikontrol.')),t(c())}),1e3)}))}},F=function(e,t,a,n,i,s){return function(d){d(u()),d({type:r.a}),s(!0),Object(o.e)({sekolah:n}).then((function(){for(var r=[],u=0;u<a.length;u++){var m=a[u];if(m.willBeRemoved){if(""!==m._id){var h={whereValues:{scheduleName:m.oldValue}},p=Object(o.t)(h);r.push(p)}}else if(""!==m._id){var g=m.scheduleName;g=g.replace(" "+n,""),console.log("eksoldfalu = "+m.oldValue);var f={whereValues:{scheduleName:{scheduleName:m.oldValue}},newValues:{scheduleName:m.scheduleName+" "+n,scheduleDescription:m.scheduleDescription,scheduleType:m.schedule,deviceUsageDays:m.deviceUsageDays,deviceUsageStartTime:m.deviceUsageStartTime,deviceUsageEndTime:m.deviceUsageEndTime,status:m.status}},b=Object(o.u)(f);r.push(b)}else{var y=m;y.scheduleName=y.scheduleName+" "+n;for(var j=0;j<e.length;j++){y.emailUser=e[j];var v=Object(o.s)(y);r.push(v)}}}for(var E=[],w=0;w<t.length;w++)E.push(t[w].value);var O={sekolah:n,applications:E},k=Object(o.d)(O);r.push(k),Promise.all(r).then((function(e){setTimeout((function(){i(!0)}),1e3),setTimeout((function(){i(!1),s(!1),d(l("Seluruh murid sekolah berhasil dikontrol.")),d(c())}),1e3)})).catch((function(e){console.log("error: ",e),s(!1)}))}))}}},1303:function(e,t,a){},132:function(e,t,a){e.exports=a(121)},1499:function(e,t,a){"use strict";a.r(t);var r=a(7),n=a(2),o=a(95),i=(a(1303),a(139)),s=a(6),u=a(122),c=a(99),d=a(35),l=a(17),m=a(114),h=a(102),p=(a(18),a(224)),g=a(0);t.default=Object(l.b)((function(e){return{isLoading:e.auth.isLoading}}),(function(e){return{onEditUser:function(t,a,r,n,o,i,s,c,d,l){return e(Object(u.u)(t,a,r,n,o,i,s,c,d,l))}}}))((function(e){var t,a,u,l,f,b,y=e.onEditUser,j=e.isLoading,v=Object(n.useState)(!0),E=Object(r.a)(v,2),w=E[0],O=E[1],k=Object(n.useState)(),C=Object(r.a)(k,2),T=C[0],A=C[1],N=Object(n.useState)(),I=Object(r.a)(N,2),x=(I[0],I[1],Object(s.g)()),q=JSON.parse(localStorage.getItem("userData")).cobrandEmail,S=localStorage.getItem("userSelected"),_=Object(n.useState)([]),D=Object(r.a)(_,2),U=D[0],P=D[1],V=Object(n.useState)([]),M=Object(r.a)(V,2),F=M[0],K=M[1];return Object(n.useEffect)((function(){if(O(!0),S){var e={whereKeyValues:{emailUser:S}};Object(c.x)(e).then((function(t){A(t.data.users[0]);var a={whereKeyValues:{cobrandEmail:q}};Object(c.g)(a).then((function(t){var a=[];t.data.Data.map((function(e){a.push({value:e.cobrandComunityId,label:e.cobrandComunityName})})),P(a),Object(c.h)(e).then((function(e){var t=[];e.data.Data.map((function(e){for(var r=0;r<a.length;r++)if(a[r].value===e.cobrandComunityId){t.push(a[r]);break}})),K(t),O(!1)}))}))})).catch((function(e){O(!1)}))}}),[]),w||j?Object(g.jsx)(d.a,{}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(o.a,{headingName:"Manajemen Pengguna",routes:[{path:"/cms/user",name:"Pengguna"},{path:"/cms/user/edit",name:"Ubah Pengguna"}]}),Object(g.jsx)(i.a,{initialValues:{nameUser:null!==(t=T.nameUser)&&void 0!==t?t:"",emailUser:null!==(a=T.emailUser)&&void 0!==a?a:"",gender:null!==(u=T.gender)&&void 0!==u?u:"pria",birdDate:null!==(l=T.birdDate.split("T")[0])&&void 0!==l?l:(new Date).toISOString.split("T")[0],address:null!==(f=T.address)&&void 0!==f?f:"",imagePhoto:"",phoneNumber:null!==(b=T.phoneNumber)&&void 0!==b?b:"",community:F},validationSchema:m.r,validateOnChange:!0,onSubmit:function(e){T.imagePhoto;""!==e.imagePhoto&&e.imagePhoto,y(S,e.nameUser,e.emailUser,e.gender,e.birdDate,e.address,e.imagePhoto,e.phoneNumber,e.community,x)},children:function(e){var t=e.handleChange,a=e.handleSubmit,r=e.handleBlur,n=e.setFieldValue,o=e.values,i=e.errors,s=e.touched;return Object(g.jsx)("form",{onSubmit:a,children:Object(g.jsxs)("div",{className:"EditUser",children:[Object(g.jsxs)("h1",{children:["Ubah Pengguna Terpilih: ",T.nameUser]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Nama"}),Object(g.jsx)(h.a,{type:"text",name:"nameUser",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:o.nameUser,onChange:t,onBlur:r}),s.nameUser&&Object(g.jsx)("span",{className:"message__error",children:i.nameUser})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Email"}),Object(g.jsx)(h.a,{type:"text",name:"emailUser",className:"form-group__input form-group__input--fullwidth",placeholder:"example@example.com",value:o.emailUser,onChange:t,onBlur:r}),s.emailUser&&Object(g.jsx)("span",{className:"message__error",children:i.emailUser})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Jenis Kelamin"}),Object(g.jsxs)("select",{name:"gender",value:o.gender,onChange:function(e){n("gender",e.currentTarget.value)},children:[Object(g.jsx)("option",{value:"pria",children:"Pria"}),Object(g.jsx)("option",{value:"wanita",children:"Wanita"})]})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Komunitas"}),Object(g.jsx)(p.a,{isMulti:!0,value:o.community,onChange:function(e){n("community",e)},name:"community",options:U,className:"basic-multi-select",classNamePrefix:"select",defaultValue:U.find((function(e){return F.includes(e.value)}))})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Tanggal Lahir"}),Object(g.jsx)(h.a,{type:"date",className:"form-group__input",name:"birdDate",value:o.birdDate,min:new Date("1980-01-01"),onChange:t,onBlur:r}),s.birdDate&&Object(g.jsx)("span",{className:"message__error",children:i.birdDate})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Alamat"}),Object(g.jsx)(h.a,{type:"text",name:"address",className:"form-group__input form-group__input--fullwidth",placeholder:"Jl. Example",value:o.address,onChange:t,onBlur:r})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsxs)("label",{children:["Foto Profil Baru ","(Opsional)"]}),Object(g.jsx)(h.a,{type:"file",className:"form-group__input",name:"imagePhoto",onChange:function(e){var t=e.currentTarget.files[0];if(t){var a=new FileReader;a.readAsDataURL(t),a.onloadend=function(){var e=a.result;n("imagePhoto",e)}}}})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("label",{children:"Nomor Telepon"}),Object(g.jsx)(h.a,{type:"text",name:"phoneNumber",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:o.phoneNumber,onChange:function(e){var t=e.currentTarget.value.replace(/\D/g,"");n("phoneNumber",t)},onBlur:r}),s.phoneNumber&&Object(g.jsx)("span",{className:"message__error",children:i.phoneNumber})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{className:"btn btn-submit",type:"submit",children:"Update Pengguna"})})]})})}}),j?Object(g.jsx)(d.a,{}):null]})}))},158:function(e,t,a){"use strict";a.d(t,"B",(function(){return c})),a.d(t,"E",(function(){return d})),a.d(t,"D",(function(){return l})),a.d(t,"n",(function(){return m})),a.d(t,"o",(function(){return h})),a.d(t,"q",(function(){return p})),a.d(t,"p",(function(){return g})),a.d(t,"x",(function(){return f})),a.d(t,"i",(function(){return b})),a.d(t,"w",(function(){return y})),a.d(t,"C",(function(){return j})),a.d(t,"r",(function(){return v})),a.d(t,"a",(function(){return E})),a.d(t,"c",(function(){return w})),a.d(t,"b",(function(){return O})),a.d(t,"j",(function(){return k})),a.d(t,"k",(function(){return C})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return A})),a.d(t,"F",(function(){return N})),a.d(t,"G",(function(){return I})),a.d(t,"H",(function(){return x})),a.d(t,"y",(function(){return q})),a.d(t,"A",(function(){return S})),a.d(t,"z",(function(){return _})),a.d(t,"h",(function(){return D})),a.d(t,"f",(function(){return U})),a.d(t,"g",(function(){return P})),a.d(t,"v",(function(){return V})),a.d(t,"s",(function(){return M})),a.d(t,"u",(function(){return F})),a.d(t,"t",(function(){return K})),a.d(t,"d",(function(){return L})),a.d(t,"e",(function(){return R}));var r=a(132),n=a.n(r),o=a(135),i=a(18),s=a.n(i),u=a(20),c=function(e){return s()({method:"post",url:u.a+"/cobrand/programAdd",data:e,headers:{"Content-Type":"application/json"}})},d=function(e){return s()({method:"post",url:u.a+"/cobrand/programUpdate",data:e,headers:{"Content-Type":"application/json"}})},l=function(e){return s()({method:"post",url:u.a+"/cobrand/programRemove",data:e,headers:{"Content-Type":"application/json"}})},m=function(e){return s()({method:"post",url:u.a+"/cobrand/contentAdd",data:e,headers:{"Content-Type":"application/json"}})},h=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()({method:"post",url:u.a+"/cobrand/contentAdd",data:t,headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(e){return s()({method:"post",url:u.a+"/cobrand/contentUpdate",data:e,headers:{"Content-Type":"application/json"}})},g=function(e){return s()({method:"post",url:u.a+"/cobrand/contentRemove",data:e,headers:{"Content-Type":"application/json"}})},f=function(e){return s()({method:"post",url:u.a+"/user/broadcastAdd",data:e,headers:{"Content-Type":"application/json"}})},b=function(e){return s()({method:"post",url:u.a+"/cms/audianceTargetAdd",data:e,headers:{"Content-Type":"application/json"}})},y=function(e){return s()({method:"post",url:u.a+"/cms/notificationCategoryAdd",data:e,headers:{"Content-Type":"application/json"}})},j=function(e){return s()({method:"post",url:u.a+"/cms/programCategoryAdd",data:e,headers:{"Content-Type":"application/json"}})},v=function(e){return s()({method:"post",url:u.a+"/cms/contentTopicAdd",data:e,headers:{"Content-Type":"application/json"}})},E=function(e){return s()({method:"post",url:u.a+"/cms/userAdd",data:e,headers:{"Content-Type":"application/json"}})},w=function(e){return s()({method:"post",url:u.a+"/cms/userUpdate",data:e,headers:{"Content-Type":"application/json"}})},O=function(e){return s()({method:"post",url:u.a+"/cms/userRemove",data:e,headers:{"Content-Type":"application/json"}})},k=function(e){return s()({method:"post",url:u.a+"/cobrand/cobrandComunityAdd",data:e,headers:{"Content-Type":"application/json"}})},C=function(e){return s()({method:"post",url:u.a+"/cobrand/cobrandComunityRemove",data:e,headers:{"Content-Type":"application/json"}})},T=function(){var e=Object(o.a)(n.a.mark((function e(t){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s()({method:"post",url:u.a+"/cobrand/cobrandComunityMemberAdd",data:t,headers:{"Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){return s()({method:"post",url:u.a+"/cobrand/cobrandComunityMemberRemove",data:e,headers:{"Content-Type":"application/json"}})},N=function(e){return s()({method:"post",url:u.a+"/cobrand/cobrandGroupMitraAsuhAdd",data:e,headers:{"Content-Type":"application/json"}})},I=function(e){return s()({method:"post",url:u.a+"/cobrand/cobrandGroupMitraAsuhRemove",data:e,headers:{"Content-Type":"application/json"}})},x=function(e){return s()({method:"post",url:u.a+"/cobrand/configurationAdd",data:e,headers:{"Content-Type":"application/json"}})},q=function(e){return s()({method:"post",url:u.a+"/cobrand/prayAlertMessageAdd",data:e,headers:{"Content-Type":"application/json"}})},S=function(e){return s()({method:"post",url:u.a+"/cobrand/prayAlertMessageUpdate",data:e,headers:{"Content-Type":"application/json"}})},_=function(e){return s()({method:"post",url:u.a+"/cobrand/prayAlertMessageRemove",data:e,headers:{"Content-Type":"application/json"}})},D=function(e){return s()({method:"post",url:u.a+"/user/edit",data:e,headers:{"Content-Type":"application/json"}})},U=function(e){return s()({method:"post",url:u.a+"/user/appUsageLimitAdd",data:e,headers:{"Content-Type":"application/json"}})},P=function(e){return s()({method:"post",url:u.a+"/user/appUsageLimitRemove",data:e,headers:{"Content-Type":"application/json"}})},V=function(e){return s()({method:"post",url:u.a+"/user/childModeAsuhAdd",data:e,headers:{"Content-Type":"application/json"}})},M=function(e){return s()({method:"post",url:u.a+"/user/deviceUsageScheduleAdd",data:e,headers:{"Content-Type":"application/json"}})},F=function(e){return s()({method:"post",url:u.a+"/user/deviceUsageScheduleUpdate",data:e,headers:{"Content-Type":"application/json"}})},K=function(e){return s()({method:"post",url:u.a+"/user/deviceUsageScheduleRemove",data:e,headers:{"Content-Type":"application/json"}})},L=function(e){return s()({method:"post",url:u.a+"/user/appAlwaysOnBySekolahAdd",data:e,headers:{"Content-Type":"application/json"}})},R=function(e){return s()({method:"post",url:u.a+"/user/appAlwaysOnBySekolahRemove",data:e,headers:{"Content-Type":"application/json"}})}},224:function(e,t,a){"use strict";var r=a(154),n=a(4),o=a(2),i=a(134),s=a(232),u=a(233),c=a(234),d=a(137),l=a(249),m=a(253),h=a(227),p=(a(245),a(246),a(247),a(248),a(225),a(226),a(21),Object(o.forwardRef)((function(e,t){var a=Object(r.a)(e);return o.createElement(i.a,Object(n.a)({ref:t},a))})));o.Component;t.a=p},95:function(e,t,a){"use strict";a(2);var r=a(9),n=(a(96),a(0));t.a=function(e){var t=e.headingName,a=e.routes,o=void 0===a?[]:a;return Object(n.jsxs)("div",{className:"Heading",children:[Object(n.jsx)("h1",{children:t}),Object(n.jsx)("ul",{className:"Heading__breadcumb",children:o.length>0&&o.map((function(e,t){return e.path?Object(n.jsxs)("li",{className:"Heading__breadcumb-item",children:[Object(n.jsx)(r.b,{exact:!0,to:e.path,children:e.name})," "]},t):Object(n.jsxs)("li",{className:"Heading__breadcumb-item",children:[" ",Object(n.jsx)("span",{children:e.name})," "]},t)}))})]})}},96:function(e,t,a){},99:function(e,t,a){"use strict";a.d(t,"s",(function(){return i})),a.d(t,"i",(function(){return s})),a.d(t,"x",(function(){return u})),a.d(t,"t",(function(){return c})),a.d(t,"e",(function(){return d})),a.d(t,"m",(function(){return l})),a.d(t,"d",(function(){return m})),a.d(t,"n",(function(){return h})),a.d(t,"c",(function(){return p})),a.d(t,"p",(function(){return g})),a.d(t,"o",(function(){return f})),a.d(t,"f",(function(){return b})),a.d(t,"k",(function(){return y})),a.d(t,"j",(function(){return j})),a.d(t,"l",(function(){return v})),a.d(t,"r",(function(){return E})),a.d(t,"a",(function(){return w})),a.d(t,"g",(function(){return O})),a.d(t,"h",(function(){return k})),a.d(t,"v",(function(){return C})),a.d(t,"u",(function(){return T})),a.d(t,"q",(function(){return A})),a.d(t,"w",(function(){return N})),a.d(t,"b",(function(){return I}));var r=a(18),n=a.n(r),o=a(20),i=function(e){return n()({method:"post",url:o.a+"/cobrand/programFilter",data:e,headers:{"Content-Type":"application/json"}})},s=function(e){return n()({method:"post",url:o.a+"/cobrand/contentFilter",data:e,headers:{"Content-Type":"application/json"}})},u=function(e){return n()({method:"post",url:o.a+"/user/userFilter",data:e,headers:{"Content-Type":"application/json"}})},c=function(e){return n()({method:"post",url:o.a+"/cobrand/redZoneFilter",data:e,headers:{"Content-Type":"application/json"}})},d=function(e){return n()({method:"post",url:o.a+"/user/appUsageFilter",data:e,headers:{"Content-Type":"application/json"}})},l=function(e){return n()({method:"post",url:o.a+"/user/deviceUsageScheduleFilter",data:e,headers:{"Content-Type":"application/json"}})},m=function(e){return n()({method:"post",url:o.a+"/user/appUsageLimitFilter",data:e,headers:{"Content-Type":"application/json"}})},h=function(e){return n()({method:"post",url:o.a+"/user/childModeAsuhFilter",data:e,headers:{"Content-Type":"application/json"}})},p=function(e){return n()({method:"post",url:o.a+"/user/appIconFilter",data:e,headers:{"Content-Type":"application/json"}})},g=function(e){return n()({method:"post",url:o.a+"/user/broadcastFilter",data:e,headers:{"Content-Type":"application/json"}})},f=function(e){return n()({method:"post",url:o.a+"/cms/notificationCategoryFilter",data:e,headers:{"Content-Type":"application/json"}})},b=function(e){return n()({method:"post",url:o.a+"/cms/audianceTargetFilter",data:e,headers:{"Content-Type":"application/json"}})},y=function(e){return n()({method:"post",url:o.a+"/cms/contentTopicFilter",data:e,headers:{"Content-Type":"application/json"}})},j=function(e){return n()({method:"post",url:o.a+"/user/userContentResponFilter",data:e,headers:{"Content-Type":"application/json"}})},v=function(e){return n()({method:"post",url:o.a+"/user/userContentViewFilter",data:e,headers:{"Content-Type":"application/json"}})},E=function(e){return n()({method:"post",url:o.a+"/cms/programCategoryFilter",data:e,headers:{"Content-Type":"application/json"}})},w=function(e){return n()({method:"post",url:o.a+"/cms/userFilter",data:e,headers:{"Content-Type":"application/json"}})},O=function(e){return n()({method:"post",url:o.a+"/cobrand/cobrandComunityFilter",data:e,headers:{"Content-Type":"application/json"}})},k=function(e){return n()({method:"post",url:o.a+"/cobrand/cobrandComunityMemberFilter",data:e,headers:{"Content-Type":"application/json"}})},C=function(e){return n()({method:"post",url:o.a+"/cobrand/AlAzharSchoolFilter",data:e,headers:{"Content-Type":"application/json"}})},T=function(e){return n()({method:"post",url:o.a+"/cobrand/cobrandGroupMitraAsuhFilter",data:e,headers:{"Content-Type":"application/json"}})},A=function(e){return n()({method:"post",url:o.a+"/cobrand/prayAlertMessageFilter",data:e,headers:{"Content-Type":"application/json"}})},N=function(e){return n()({method:"post",url:o.a+"/user/appDeviceFilter",data:e,headers:{"Content-Type":"application/json"}})},I=function(e){return n()({method:"post",url:o.a+"/user/appAlwaysOnBySekolahFilter",data:e,headers:{"Content-Type":"application/json"}})}}}]);
//# sourceMappingURL=27.ae04bfff.chunk.js.map