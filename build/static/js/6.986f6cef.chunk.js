/*! For license information please see 6.986f6cef.chunk.js.LICENSE.txt */
(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[6],Array(89).concat([function(module,exports,__webpack_require__){(function(process,Buffer){var _assertThisInitialized=__webpack_require__(122),_get=__webpack_require__(156),_getPrototypeOf=__webpack_require__(102),_toConsumableArray=__webpack_require__(158),_slicedToArray=__webpack_require__(161),_createForOfIteratorHelper=__webpack_require__(163),_regeneratorRuntime=__webpack_require__(154),_asyncToGenerator=__webpack_require__(328),_inherits=__webpack_require__(164),_createSuper=__webpack_require__(165),_classCallCheck=__webpack_require__(167),_createClass=__webpack_require__(168),factory;factory=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"addLinkAttributes",{enumerable:!0,get:function(){return r.addLinkAttributes}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(t,"LinkTarget",{enumerable:!0,get:function(){return r.LinkTarget}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return a.build}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return a.getDocument}}),Object.defineProperty(t,"LoopbackPort",{enumerable:!0,get:function(){return a.LoopbackPort}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return a.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return a.PDFWorker}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return a.version}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return o.CMapCompressionType}}),Object.defineProperty(t,"createObjectURL",{enumerable:!0,get:function(){return o.createObjectURL}}),Object.defineProperty(t,"createPromiseCapability",{enumerable:!0,get:function(){return o.createPromiseCapability}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return o.createValidAbsoluteUrl}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return o.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return o.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return o.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return o.PermissionFlag}}),Object.defineProperty(t,"removeNullCharacters",{enumerable:!0,get:function(){return o.removeNullCharacters}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return o.shadow}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return o.UnexpectedResponseException}}),Object.defineProperty(t,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return o.UNSUPPORTED_FEATURES}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return o.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return o.VerbosityLevel}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return i.AnnotationLayer}}),Object.defineProperty(t,"apiCompatibilityParams",{enumerable:!0,get:function(){return s.apiCompatibilityParams}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return c.GlobalWorkerOptions}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return l.renderTextLayer}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return u.SVGGraphics}});var r=n(1),a=n(5),o=n(2),i=n(19),s=n(9),c=n(12),l=n(20),u=n(21);if(n(4).isNodeJS){var p=n(22).PDFNodeStream;(0,a.setPDFNetworkStreamFactory)((function(e){return new p(e)}))}else{var d,f=n(25).PDFNetworkStream;(0,r.isFetchSupported)()&&(d=n(26).PDFFetchStream),(0,a.setPDFNetworkStreamFactory)((function(e){return d&&(0,r.isValidFetchUrl)(e.url)?new d(e):new f(e)}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addLinkAttributes=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.url,o=t.target,i=t.rel,s=t.enabled,c=void 0===s||s;(0,r.assert)(n&&"string"===typeof n,'addLinkAttributes: A valid "url" parameter must provided.');var l=(0,r.removeNullCharacters)(n);c?e.href=e.title=l:(e.href="",e.title="Disabled: ".concat(l),e.onclick=function(){return!1});var u="";switch(o){case f.NONE:break;case f.SELF:u="_self";break;case f.BLANK:u="_blank";break;case f.PARENT:u="_parent";break;case f.TOP:u="_top"}e.target=u,e.rel="string"===typeof i?i:a},t.getFilenameFromUrl=function(e){var t=e.indexOf("#"),n=e.indexOf("?"),r=Math.min(t>0?t:e.length,n>0?n:e.length);return e.substring(e.lastIndexOf("/",r)+1,r)},t.isFetchSupported=m,t.isValidFetchUrl=v,t.loadScript=function(e){return new Promise((function(t,n){var r=document.createElement("script");r.src=e,r.onload=t,r.onerror=function(){n(new Error("Cannot load script at: ".concat(r.src)))},(document.head||document.documentElement).appendChild(r)}))},t.deprecated=function(e){console.log("Deprecated API usage: "+e)},t.PDFDateString=t.StatTimer=t.DOMSVGFactory=t.DOMCMapReaderFactory=t.BaseCMapReaderFactory=t.DOMCanvasFactory=t.BaseCanvasFactory=t.DEFAULT_LINK_REL=t.LinkTarget=t.RenderingCancelledException=t.PageViewport=void 0;var r=n(2),a="noopener noreferrer nofollow";t.DEFAULT_LINK_REL=a;var o="http://www.w3.org/2000/svg",i=function(){function e(){_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}return _createClass(e,[{key:"create",value:function(e,t){(0,r.unreachable)("Abstract method `create` called.")}},{key:"reset",value:function(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}},{key:"destroy",value:function(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}}]),e}();t.BaseCanvasFactory=i;var s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.ownerDocument,o=void 0===a?globalThis.document:a;return _classCallCheck(this,n),(e=t.call(this))._document=o,e}return _createClass(n,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=this._document.createElement("canvas"),r=n.getContext("2d");return n.width=e,n.height=t,{canvas:n,context:r}}}]),n}(i);t.DOMCanvasFactory=s;var c=function(){function e(t){var n=t.baseUrl,a=void 0===n?null:n,o=t.isCompressed,i=void 0!==o&&o;_classCallCheck(this,e),this.constructor===e&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=i}return _createClass(e,[{key:"fetch",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,a,o,i=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,this.baseUrl){e.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(n){e.next=5;break}throw new Error("CMap name must be specified.");case 5:return a=this.baseUrl+n+(this.isCompressed?".bcmap":""),o=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE,e.abrupt("return",this._fetchData(a,o).catch((function(e){throw new Error("Unable to load ".concat(i.isCompressed?"binary ":"","CMap at: ").concat(a))})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetchData",value:function(e,t){(0,r.unreachable)("Abstract method `_fetchData` called.")}}]),e}();t.BaseCMapReaderFactory=c;var l=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){var n=this;return m()&&v(e,document.baseURI)?fetch(e).then(function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(a){var o;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.ok){e.next=2;break}throw new Error(a.statusText);case 2:if(!n.isCompressed){e.next=10;break}return e.t0=Uint8Array,e.next=6,a.arrayBuffer();case 6:e.t1=e.sent,o=new e.t0(e.t1),e.next=15;break;case 10:return e.t2=r.stringToBytes,e.next=13,a.text();case 13:e.t3=e.sent,o=(0,e.t2)(e.t3);case 15:return e.abrupt("return",{cMapData:o,compressionType:t});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):new Promise((function(a,o){var i=new XMLHttpRequest;i.open("GET",e,!0),n.isCompressed&&(i.responseType="arraybuffer"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e;if((200===i.status||0===i.status)&&(n.isCompressed&&i.response?e=new Uint8Array(i.response):!n.isCompressed&&i.responseText&&(e=(0,r.stringToBytes)(i.responseText)),e))return void a({cMapData:e,compressionType:t});o(new Error(i.statusText))}},i.send(null)}))}}]),n}(c);t.DOMCMapReaderFactory=l;var u=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"create",value:function(e,t){(0,r.assert)(e>0&&t>0,"Invalid SVG dimensions");var n=document.createElementNS(o,"svg:svg");return n.setAttribute("version","1.1"),n.setAttribute("width",e+"px"),n.setAttribute("height",t+"px"),n.setAttribute("preserveAspectRatio","none"),n.setAttribute("viewBox","0 0 "+e+" "+t),n}},{key:"createElement",value:function(e){return(0,r.assert)("string"===typeof e,"Invalid SVG element type"),document.createElementNS(o,e)}}]),e}();t.DOMSVGFactory=u;var p=function(){function e(t){var n=t.viewBox,r=t.scale,a=t.rotation,o=t.offsetX,i=void 0===o?0:o,s=t.offsetY,c=void 0===s?0:s,l=t.dontFlip,u=void 0!==l&&l;_classCallCheck(this,e),this.viewBox=n,this.scale=r,this.rotation=a,this.offsetX=i,this.offsetY=c;var p,d,f,h,g,m,v,E,C=(n[2]+n[0])/2,x=(n[3]+n[1])/2;switch(a=(a%=360)<0?a+360:a){case 180:p=-1,d=0,f=0,h=1;break;case 90:p=0,d=1,f=1,h=0;break;case 270:p=0,d=-1,f=-1,h=0;break;case 0:p=1,d=0,f=0,h=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}u&&(f=-f,h=-h),0===p?(g=Math.abs(x-n[1])*r+i,m=Math.abs(C-n[0])*r+c,v=Math.abs(n[3]-n[1])*r,E=Math.abs(n[2]-n[0])*r):(g=Math.abs(C-n[0])*r+i,m=Math.abs(x-n[1])*r+c,v=Math.abs(n[2]-n[0])*r,E=Math.abs(n[3]-n[1])*r),this.transform=[p*r,d*r,f*r,h*r,g-p*r*C-f*r*x,m-d*r*C-h*r*x],this.width=v,this.height=E}return _createClass(e,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.scale,r=void 0===n?this.scale:n,a=t.rotation,o=void 0===a?this.rotation:a,i=t.offsetX,s=void 0===i?this.offsetX:i,c=t.offsetY,l=void 0===c?this.offsetY:c,u=t.dontFlip,p=void 0!==u&&u;return new e({viewBox:this.viewBox.slice(),scale:r,rotation:o,offsetX:s,offsetY:l,dontFlip:p})}},{key:"convertToViewportPoint",value:function(e,t){return r.Util.applyTransform([e,t],this.transform)}},{key:"convertToViewportRectangle",value:function(e){var t=r.Util.applyTransform([e[0],e[1]],this.transform),n=r.Util.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function(e,t){return r.Util.applyInverseTransform([e,t],this.transform)}}]),e}();t.PageViewport=p;var d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).type=r,a}return n}(r.BaseException);t.RenderingCancelledException=d;var f={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=f;var h,g=function(){function e(){_classCallCheck(this,e),this.started=Object.create(null),this.times=[]}return _createClass(e,[{key:"time",value:function(e){e in this.started&&(0,r.warn)("Timer is already running for ".concat(e)),this.started[e]=Date.now()}},{key:"timeEnd",value:function(e){e in this.started||(0,r.warn)("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}},{key:"toString",value:function(){var e,t=[],n=0,r=_createForOfIteratorHelper(this.times);try{for(r.s();!(e=r.n()).done;){var a=e.value.name;a.length>n&&(n=a.length)}}catch(l){r.e(l)}finally{r.f()}var o,i=_createForOfIteratorHelper(this.times);try{for(i.s();!(o=i.n()).done;){var s=o.value,c=s.end-s.start;t.push("".concat(s.name.padEnd(n)," ").concat(c,"ms\n"))}}catch(l){i.e(l)}finally{i.f()}return t.join("")}}]),e}();function m(){return"undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&"undefined"!==typeof ReadableStream}function v(e,t){try{var n=(t?new URL(e,t):new URL(e)).protocol;return"http:"===n||"https:"===n}catch(r){return!1}}t.StatTimer=g;var E=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"toDateObject",value:function(e){if(!e||!(0,r.isString)(e))return null;h||(h=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));var t=h.exec(e);if(!t)return null;var n=parseInt(t[1],10),a=parseInt(t[2],10);a=a>=1&&a<=12?a-1:0;var o=parseInt(t[3],10);o=o>=1&&o<=31?o:1;var i=parseInt(t[4],10);i=i>=0&&i<=23?i:0;var s=parseInt(t[5],10);s=s>=0&&s<=59?s:0;var c=parseInt(t[6],10);c=c>=0&&c<=59?c:0;var l=t[7]||"Z",u=parseInt(t[8],10);u=u>=0&&u<=23?u:0;var p=parseInt(t[9],10)||0;return p=p>=0&&p<=59?p:0,"-"===l?(i+=u,s+=p):"+"===l&&(i-=u,s-=p),new Date(Date.UTC(n,a,o,i,s,c))}}]),e}();t.PDFDateString=E},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.arrayByteLength=C,t.arraysToBytes=function(e){var t=e.length;if(1===t&&e[0]instanceof Uint8Array)return e[0];for(var n=0,r=0;r<t;r++)n+=C(e[r]);for(var a=0,o=new Uint8Array(n),i=0;i<t;i++){var s=e[i];s instanceof Uint8Array||(s="string"===typeof s?E(s):new Uint8Array(s));var c=s.byteLength;o.set(s,a),a+=c}return o},t.assert=s,t.bytesToString=function(e){s(null!==e&&"object"===typeof e&&void 0!==e.length,"Invalid argument for bytesToString");var t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);for(var r=[],a=0;a<t;a+=n){var o=Math.min(a+n,t),i=e.subarray(a,o);r.push(String.fromCharCode.apply(null,i))}return r.join("")},t.createPromiseCapability=function(){var e=Object.create(null),t=!1;return Object.defineProperty(e,"settled",{get:function(){return t}}),e.promise=new Promise((function(n,r){e.resolve=function(e){t=!0,n(e)},e.reject=function(e){t=!0,r(e)}})),e},t.escapeString=function(e){return e.replace(/([\(\)\\])/g,"\\$1")},t.getModificationDate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date(Date.now()),t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),(e.getUTCDate()+1).toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")},t.getVerbosityLevel=function(){return a},t.info=function(e){a>=r.INFOS&&console.log("Info: ".concat(e))},t.isArrayBuffer=function(e){return"object"===typeof e&&null!==e&&void 0!==e.byteLength},t.isArrayEqual=function(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))},t.isBool=function(e){return"boolean"===typeof e},t.isNum=function(e){return"number"===typeof e},t.isString=function(e){return"string"===typeof e},t.isSameOrigin=function(e,t){var n;try{if(!(n=new URL(e)).origin||"null"===n.origin)return!1}catch(a){return!1}var r=new URL(t,n);return n.origin===r.origin},t.createValidAbsoluteUrl=function(e,t){if(!e)return null;try{var n=t?new URL(e,t):new URL(e);if(function(e){if(!e)return!1;switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(n))return n}catch(r){}return null},t.removeNullCharacters=function(e){return"string"!==typeof e?(o("The argument for removeNullCharacters must be a string."),e):e.replace(v,"")},t.setVerbosityLevel=function(e){Number.isInteger(e)&&(a=e)},t.shadow=c,t.string32=function(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,255&e)},t.stringToBytes=E,t.stringToPDFString=function(e){var t=e.length,n=[];if("\xfe"===e[0]&&"\xff"===e[1])for(var r=2;r<t;r+=2)n.push(String.fromCharCode(e.charCodeAt(r)<<8|e.charCodeAt(r+1)));else if("\xff"===e[0]&&"\xfe"===e[1])for(var a=2;a<t;a+=2)n.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)));else for(var o=0;o<t;++o){var i=k[e.charCodeAt(o)];n.push(i?String.fromCharCode(i):e.charAt(o))}return n.join("")},t.stringToUTF8String=function(e){return decodeURIComponent(escape(e))},t.utf8StringToString=function(e){return unescape(encodeURIComponent(e))},t.warn=o,t.unreachable=i,t.IsEvalSupportedCached=t.IsLittleEndianCached=t.createObjectURL=t.FormatError=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.TextRenderingMode=t.StreamType=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.MissingPDFException=t.InvalidPDFException=t.AbortException=t.CMapCompressionType=t.ImageKind=t.FontType=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.UNSUPPORTED_FEATURES=t.VerbosityLevel=t.OPS=t.IDENTITY_MATRIX=t.FONT_IDENTITY_MATRIX=t.BaseException=void 0,n(3),t.IDENTITY_MATRIX=[1,0,0,1,0,0],t.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],t.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},t.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},t.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},t.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},t.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},t.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},t.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},t.AnnotationReplyType={GROUP:"Group",REPLY:"R"},t.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},t.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},t.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},t.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},t.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};var r={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=r,t.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},t.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},t.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},t.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};var a=r.WARNINGS;function o(e){a>=r.WARNINGS&&console.log("Warning: ".concat(e))}function i(e){throw new Error(e)}function s(e,t){e||i(t)}function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!1}),n}var l=function(){function e(t){this.constructor===e&&i("Cannot initialize BaseException."),this.message=t,this.name=this.constructor.name}return e.prototype=new Error,e.constructor=e,e}();t.BaseException=l;var u=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).code=r,a}return n}(l);t.PasswordException=u;var p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).details=r,a}return n}(l);t.UnknownErrorException=p;var d=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l);t.InvalidPDFException=d;var f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l);t.MissingPDFException=f;var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var a;return _classCallCheck(this,n),(a=t.call(this,e)).status=r,a}return n}(l);t.UnexpectedResponseException=h;var g=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l);t.FormatError=g;var m=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return n}(l);t.AbortException=m;var v=/\x00/g;function E(e){s("string"===typeof e,"Invalid argument for stringToBytes");for(var t=e.length,n=new Uint8Array(t),r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function C(e){return void 0!==e.length?e.length:(s(void 0!==e.byteLength,"arrayByteLength - invalid argument."),e.byteLength)}var x={get value(){return c(this,"value",function(){var e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}};t.IsLittleEndianCached=x;var y={get value(){return c(this,"value",function(){try{return new Function(""),!0}catch(e){return!1}}())}};t.IsEvalSupportedCached=y;var w=["rgb(",0,",",0,",",0,")"],b=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"makeCssRgb",value:function(e,t,n){return w[1]=e,w[3]=t,w[5]=n,w.join("")}},{key:"transform",value:function(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}},{key:"applyTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}},{key:"applyInverseTransform",value:function(e,t){var n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}},{key:"getAxialAlignedBoundingBox",value:function(t,n){var r=e.applyTransform(t,n),a=e.applyTransform(t.slice(2,4),n),o=e.applyTransform([t[0],t[3]],n),i=e.applyTransform([t[2],t[1]],n);return[Math.min(r[0],a[0],o[0],i[0]),Math.min(r[1],a[1],o[1],i[1]),Math.max(r[0],a[0],o[0],i[0]),Math.max(r[1],a[1],o[1],i[1])]}},{key:"inverseTransform",value:function(e){var t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}},{key:"apply3dTransform",value:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2],e[3]*t[0]+e[4]*t[1]+e[5]*t[2],e[6]*t[0]+e[7]*t[1]+e[8]*t[2]]}},{key:"singularValueDecompose2dScale",value:function(e){var t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],a=e[2]*t[0]+e[3]*t[2],o=e[2]*t[1]+e[3]*t[3],i=(n+o)/2,s=Math.sqrt((n+o)*(n+o)-4*(n*o-a*r))/2,c=i+s||1,l=i-s||1;return[Math.sqrt(c),Math.sqrt(l)]}},{key:"normalizeRect",value:function(e){var t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}},{key:"intersect",value:function(t,n){function r(e,t){return e-t}var a=[t[0],t[2],n[0],n[2]].sort(r),o=[t[1],t[3],n[1],n[3]].sort(r),i=[];return t=e.normalizeRect(t),n=e.normalizeRect(n),a[0]===t[0]&&a[1]===n[0]||a[0]===n[0]&&a[1]===t[0]?(i[0]=a[1],i[2]=a[2],o[0]===t[1]&&o[1]===n[1]||o[0]===n[1]&&o[1]===t[1]?(i[1]=o[1],i[3]=o[2],i):null):null}}]),e}();t.Util=b;var k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364],P=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!r&&URL.createObjectURL){var a=new Blob([t],{type:n});return URL.createObjectURL(a)}for(var o="data:".concat(n,";base64,"),i=0,s=t.length;i<s;i+=3){var c=255&t[i],l=255&t[i+1],u=255&t[i+2],p=c>>2,d=(3&c)<<4|l>>4,f=i+1<s?(15&l)<<2|u>>6:64,h=i+2<s?63&u:64;o+=e[p]+e[d]+e[f]+e[h]}return o}}();t.createObjectURL=P},function(e,t,n){"use strict";n(4)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeJS=void 0;var r="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type);t.isNodeJS=r},function(module,exports,__w_pdfjs_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.build=exports.version=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFWorker=exports.PDFDataRangeTransport=exports.LoopbackPort=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_webgl=__w_pdfjs_require__(18),DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory,DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory,createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var t,n=new PDFDocumentLoadingTask;if("string"===typeof e)t={url:e};else if((0,_util.isArrayBuffer)(e))t={data:e};else if(e instanceof PDFDataRangeTransport)t={range:e};else{if("object"!==typeof e)throw new Error("Invalid parameter in getDocument, need either Uint8Array, string or a parameter object");if(!e.url&&!e.data&&!e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=e}var r=Object.create(null),a=null,o=null;for(var i in t)if("url"!==i||"undefined"===typeof window)if("range"!==i)if("worker"!==i)if("data"!==i||t[i]instanceof Uint8Array)r[i]=t[i];else{var s=t[i];if("string"===typeof s)r[i]=(0,_util.stringToBytes)(s);else if("object"!==typeof s||null===s||isNaN(s.length)){if(!(0,_util.isArrayBuffer)(s))throw new Error("Invalid PDF binary data: either typed array, string or array-like object is expected in the data property.");r[i]=new Uint8Array(s)}else r[i]=new Uint8Array(s)}else o=t[i];else a=t[i];else r[i]=new URL(t[i],window.location).href;if(r.rangeChunkSize=r.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.ignoreErrors=!0!==r.stopAtErrors,r.fontExtraProperties=!0===r.fontExtraProperties,r.pdfBug=!0===r.pdfBug,Number.isInteger(r.maxImageSize)||(r.maxImageSize=-1),"boolean"!==typeof r.isEvalSupported&&(r.isEvalSupported=!0),"boolean"!==typeof r.disableFontFace&&(r.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),"undefined"===typeof r.ownerDocument&&(r.ownerDocument=globalThis.document),"boolean"!==typeof r.disableRange&&(r.disableRange=!1),"boolean"!==typeof r.disableStream&&(r.disableStream=!1),"boolean"!==typeof r.disableAutoFetch&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!o){var c={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};o=c.port?PDFWorker.fromPort(c):new PDFWorker(c),n._worker=o}var l=n.docId;return o.promise.then((function(){if(n.destroyed)throw new Error("Loading aborted");var e=_fetchDocument(o,r,a,l),t=new Promise((function(e){var t;a?t=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,disableRange:r.disableRange,disableStream:r.disableStream},a):r.data||(t=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),e(t)}));return Promise.all([e,t]).then((function(e){var t=_slicedToArray(e,2),a=t[0],i=t[1];if(n.destroyed)throw new Error("Loading aborted");var s=new _message_handler.MessageHandler(l,a,o.port);s.postMessageTransfers=o.postMessageTransfers;var c=new WorkerTransport(s,n,i,r);n._transport=c,s.send("Ready",null)}))})).catch(n._capability.reject),n}function _fetchDocument(e,t,n,r){return e.destroyed?Promise.reject(new Error("Worker was destroyed")):(n&&(t.length=n.length,t.initialData=n.initialData,t.progressiveDone=n.progressiveDone),e.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.6.347",source:{data:t.data,url:t.url,password:t.password,disableAutoFetch:t.disableAutoFetch,rangeChunkSize:t.rangeChunkSize,length:t.length},maxImageSize:t.maxImageSize,disableFontFace:t.disableFontFace,postMessageTransfers:e.postMessageTransfers,docBaseUrl:t.docBaseUrl,ignoreErrors:t.ignoreErrors,isEvalSupported:t.isEvalSupported,fontExtraProperties:t.fontExtraProperties}).then((function(t){if(e.destroyed)throw new Error("Worker was destroyed");return t})))}var PDFDocumentLoadingTask=function(){var e=0;return function(){function t(){_classCallCheck(this,t),this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+e++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}return _createClass(t,[{key:"promise",get:function(){return this._capability.promise}},{key:"destroy",value:function(){var e=this;return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then((function(){e._transport=null,e._worker&&(e._worker.destroy(),e._worker=null)}))}}]),t}()}(),PDFDataRangeTransport=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.length=t,this.initialData=n,this.progressiveDone=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}return _createClass(e,[{key:"addRangeListener",value:function(e){this._rangeListeners.push(e)}},{key:"addProgressListener",value:function(e){this._progressListeners.push(e)}},{key:"addProgressiveReadListener",value:function(e){this._progressiveReadListeners.push(e)}},{key:"addProgressiveDoneListener",value:function(e){this._progressiveDoneListeners.push(e)}},{key:"onDataRange",value:function(e,t){var n,r=_createForOfIteratorHelper(this._rangeListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e,t)}catch(a){r.e(a)}finally{r.f()}}},{key:"onDataProgress",value:function(e,t){var n=this;this._readyCapability.promise.then((function(){var r,a=_createForOfIteratorHelper(n._progressListeners);try{for(a.s();!(r=a.n()).done;)(0,r.value)(e,t)}catch(o){a.e(o)}finally{a.f()}}))}},{key:"onDataProgressiveRead",value:function(e){var t=this;this._readyCapability.promise.then((function(){var n,r=_createForOfIteratorHelper(t._progressiveReadListeners);try{for(r.s();!(n=r.n()).done;)(0,n.value)(e)}catch(a){r.e(a)}finally{r.f()}}))}},{key:"onDataProgressiveDone",value:function(){var e=this;this._readyCapability.promise.then((function(){var t,n=_createForOfIteratorHelper(e._progressiveDoneListeners);try{for(n.s();!(t=n.n()).done;)(0,t.value)()}catch(r){n.e(r)}finally{n.f()}}))}},{key:"transportReady",value:function(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function(){}}]),e}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function e(t,n){_classCallCheck(this,e),this._pdfInfo=t,this._transport=n}return _createClass(e,[{key:"annotationStorage",get:function(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"numPages",get:function(){return this._pdfInfo.numPages}},{key:"fingerprint",get:function(){return this._pdfInfo.fingerprint}},{key:"getPage",value:function(e){return this._transport.getPage(e)}},{key:"getPageIndex",value:function(e){return this._transport.getPageIndex(e)}},{key:"getDestinations",value:function(){return this._transport.getDestinations()}},{key:"getDestination",value:function(e){return this._transport.getDestination(e)}},{key:"getPageLabels",value:function(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function(){return this._transport.getJavaScript()}},{key:"getOutline",value:function(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function(){return this._transport.getPermissions()}},{key:"getMetadata",value:function(){return this._transport.getMetadata()}},{key:"getData",value:function(){return this._transport.getData()}},{key:"getDownloadInfo",value:function(){return this._transport.downloadInfoCapability.promise}},{key:"getStats",value:function(){return this._transport.getStats()}},{key:"cleanup",value:function(){return this._transport.startCleanup()}},{key:"destroy",value:function(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function(){return this._transport.loadingParams}},{key:"loadingTask",get:function(){return this._transport.loadingTask}},{key:"saveDocument",value:function(e){return this._transport.saveDocument(e)}}]),e}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function e(t,n,r,a){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_classCallCheck(this,e),this._pageIndex=t,this._pageInfo=n,this._ownerDocument=a,this._transport=r,this._stats=o?new _display_utils.StatTimer:null,this._pdfBug=o,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}return _createClass(e,[{key:"pageNumber",get:function(){return this._pageIndex+1}},{key:"rotate",get:function(){return this._pageInfo.rotate}},{key:"ref",get:function(){return this._pageInfo.ref}},{key:"userUnit",get:function(){return this._pageInfo.userUnit}},{key:"view",get:function(){return this._pageInfo.view}},{key:"getViewport",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.scale,n=e.rotation,r=void 0===n?this.rotate:n,a=e.offsetX,o=void 0===a?0:a,i=e.offsetY,s=void 0===i?0:i,c=e.dontFlip,l=void 0!==c&&c;return new _display_utils.PageViewport({viewBox:this.view,scale:t,rotation:r,offsetX:o,offsetY:s,dontFlip:l})}},{key:"getAnnotations",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intent,n=void 0===t?null:t;return this.annotationsPromise&&this.annotationsIntent===n||(this.annotationsPromise=this._transport.getAnnotations(this._pageIndex,n),this.annotationsIntent=n),this.annotationsPromise}},{key:"render",value:function(e){var t=this,n=e.canvasContext,r=e.viewport,a=e.intent,o=void 0===a?"display":a,i=e.enableWebGL,s=void 0!==i&&i,c=e.renderInteractiveForms,l=void 0!==c&&c,u=e.transform,p=void 0===u?null:u,d=e.imageLayer,f=void 0===d?null:d,h=e.canvasFactory,g=void 0===h?null:h,m=e.background,v=void 0===m?null:m,E=e.annotationStorage,C=void 0===E?null:E,x=e.optionalContentConfigPromise,y=void 0===x?null:x;this._stats&&this._stats.time("Overall");var w="print"===o?"print":"display";this.pendingCleanup=!1,y||(y=this._transport.getOptionalContentConfig());var b=this._intentStates.get(w);b||(b=Object.create(null),this._intentStates.set(w,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);var k=g||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),P=new _webgl.WebGLContext({enable:s});b.displayReadyCapability||(b.displayReadyCapability=(0,_util.createPromiseCapability)(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:w,renderInteractiveForms:!0===l,annotationStorage:C&&C.getAll()||null}));var O=function(e){var n=b.renderTasks.indexOf(R);n>=0&&b.renderTasks.splice(n,1),(t.cleanupAfterRender||"print"===w)&&(t.pendingCleanup=!0),t._tryCleanup(),e?(R.capability.reject(e),t._abortOperatorList({intentState:b,reason:e})):R.capability.resolve(),t._stats&&(t._stats.timeEnd("Rendering"),t._stats.timeEnd("Overall"))},R=new InternalRenderTask({callback:O,params:{canvasContext:n,viewport:r,transform:p,imageLayer:f,background:v},objs:this.objs,commonObjs:this.commonObjs,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:k,webGLContext:P,useRequestAnimationFrame:"print"!==w,pdfBug:this._pdfBug});b.renderTasks||(b.renderTasks=[]),b.renderTasks.push(R);var L=R.task;return Promise.all([b.displayReadyCapability.promise,y]).then((function(e){var n=_slicedToArray(e,2),r=n[0],a=n[1];t.pendingCleanup?O():(t._stats&&t._stats.time("Rendering"),R.initializeGraphics({transparency:r,optionalContentConfig:a}),R.operatorListChanged())})).catch(O),L}},{key:"getOperatorList",value:function(){var e,t="oplist",n=this._intentStates.get(t);return n||(n=Object.create(null),this._intentStates.set(t,n)),n.opListReadCapability||((e=Object.create(null)).operatorListChanged=function(){if(n.operatorList.lastChunk){n.opListReadCapability.resolve(n.operatorList);var t=n.renderTasks.indexOf(e);t>=0&&n.renderTasks.splice(t,1)}},n.opListReadCapability=(0,_util.createPromiseCapability)(),n.renderTasks=[],n.renderTasks.push(e),n.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:t})),n.opListReadCapability.promise}},{key:"streamTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.normalizeWhitespace,n=void 0!==t&&t,r=e.disableCombineTextItems,a=void 0!==r&&r,o=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===n,combineTextItems:!0!==a},{highWaterMark:o,size:function(e){return e.items.length}})}},{key:"getTextContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.streamTextContent(e);return new Promise((function(e,n){var r=t.getReader(),a={items:[],styles:Object.create(null)};!function t(){r.read().then((function(n){var r,o=n.value;n.done?e(a):(Object.assign(a.styles,o.styles),(r=a.items).push.apply(r,_toConsumableArray(o.items)),t())}),n)}()}))}},{key:"_destroy",value:function(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;var e,t=[],n=_createForOfIteratorHelper(this._intentStates);try{for(n.s();!(e=n.n()).done;){var r=_slicedToArray(e.value,2),a=r[0],o=r[1];if(this._abortOperatorList({intentState:o,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==a){var i,s=_createForOfIteratorHelper(o.renderTasks);try{for(s.s();!(i=s.n()).done;){var c=i.value;t.push(c.completed),c.cancel()}}catch(l){s.e(l)}finally{s.f()}}}}catch(l){n.e(l)}finally{n.f()}return this.objs.clear(),this.annotationsPromise=null,this.pendingCleanup=!1,Promise.all(t)}},{key:"cleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.pendingCleanup=!0,this._tryCleanup(e)}},{key:"_tryCleanup",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.pendingCleanup)return!1;var t,n=_createForOfIteratorHelper(this._intentStates.values());try{for(n.s();!(t=n.n()).done;){var r=t.value,a=r.renderTasks,o=r.operatorList;if(0!==a.length||!o.lastChunk)return!1}}catch(i){n.e(i)}finally{n.f()}return this._intentStates.clear(),this.objs.clear(),this.annotationsPromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}},{key:"_startRenderPage",value:function(e,t){var n=this._intentStates.get(t);n&&(this._stats&&this._stats.timeEnd("Page Request"),n.displayReadyCapability&&n.displayReadyCapability.resolve(e))}},{key:"_renderPageChunk",value:function(e,t){for(var n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk;for(var a=0;a<t.renderTasks.length;a++)t.renderTasks[a].operatorListChanged();e.lastChunk&&this._tryCleanup()}},{key:"_pumpOperatorList",value:function(e){var t=this;(0,_util.assert)(e.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');var n=this._transport.messageHandler.sendWithStream("GetOperatorList",e).getReader(),r=this._intentStates.get(e.intent);r.streamReader=n,function e(){n.read().then((function(n){var a=n.value;n.done?r.streamReader=null:t._transport.destroyed||(t._renderPageChunk(a,r),e())}),(function(e){if(r.streamReader=null,!t._transport.destroyed){if(r.operatorList){r.operatorList.lastChunk=!0;for(var n=0;n<r.renderTasks.length;n++)r.renderTasks[n].operatorListChanged();t._tryCleanup()}if(r.displayReadyCapability)r.displayReadyCapability.reject(e);else{if(!r.opListReadCapability)throw e;r.opListReadCapability.reject(e)}}}))}()}},{key:"_abortOperatorList",value:function(e){var t=this,n=e.intentState,r=e.reason,a=e.force,o=void 0!==a&&a;if((0,_util.assert)(r instanceof Error||"object"===typeof r&&null!==r,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),n.streamReader){if(!o){if(0!==n.renderTasks.length)return;if(r instanceof _display_utils.RenderingCancelledException)return void(n.streamReaderCancelTimeout=setTimeout((function(){t._abortOperatorList({intentState:n,reason:r,force:!0}),n.streamReaderCancelTimeout=null}),RENDERING_CANCELLED_TIMEOUT))}if(n.streamReader.cancel(new _util.AbortException(r&&r.message)),n.streamReader=null,!this._transport.destroyed){var i,s=_createForOfIteratorHelper(this._intentStates);try{for(s.s();!(i=s.n()).done;){var c=_slicedToArray(i.value,2),l=c[0];if(c[1]===n){this._intentStates.delete(l);break}}}catch(u){s.e(u)}finally{s.f()}this.cleanup()}}}},{key:"stats",get:function(){return this._stats}}]),e}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,e),this._listeners=[],this._defer=t,this._deferred=Promise.resolve(void 0)}return _createClass(e,[{key:"postMessage",value:function(e,t){var n=this;if(this._defer){var r=new WeakMap,a={data:function e(n){if("object"!==typeof n||null===n)return n;if(r.has(n))return r.get(n);var a,o;if((a=n.buffer)&&(0,_util.isArrayBuffer)(a))return o=t&&t.includes(a)?new n.constructor(a,n.byteOffset,n.byteLength):new n.constructor(n),r.set(n,o),o;for(var i in o=Array.isArray(n)?[]:{},r.set(n,o),n){for(var s=void 0,c=n;!(s=Object.getOwnPropertyDescriptor(c,i));)c=Object.getPrototypeOf(c);if("undefined"!==typeof s.value)if("function"!==typeof s.value)o[i]=e(s.value);else if(n.hasOwnProperty&&n.hasOwnProperty(i))throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(n[i]))}return o}(e)};this._deferred.then((function(){n._listeners.forEach((function(e){e.call(n,a)}))}))}else this._listeners.forEach((function(t){t.call(n,{data:e})}))}},{key:"addEventListener",value:function(e,t){this._listeners.push(t)}},{key:"removeEventListener",value:function(e,t){var n=this._listeners.indexOf(t);this._listeners.splice(n,1)}},{key:"terminate",value:function(){this._listeners.length=0}}]),e}();exports.LoopbackPort=LoopbackPort;var PDFWorker=function PDFWorkerClosure(){var pdfWorkerPorts=new WeakMap,isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"===typeof document&&"currentScript"in document){var pdfjsFilePath=document.currentScript&&document.currentScript.src;pdfjsFilePath&&(fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function _getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if("undefined"!==typeof fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){var e;try{e=globalThis.pdfjsWorker&&globalThis.pdfjsWorker.WorkerMessageHandler}catch(t){}return e||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();var loader=function(){var _ref20=_asyncToGenerator(_regeneratorRuntime.mark((function _callee3(){var mainWorkerMessageHandler,worker;return _regeneratorRuntime.wrap((function _callee3$(_context3){for(;;)switch(_context3.prev=_context3.next){case 0:if(mainWorkerMessageHandler=getMainThreadWorkerMessageHandler(),!mainWorkerMessageHandler){_context3.next=3;break}return _context3.abrupt("return",mainWorkerMessageHandler);case 3:if(!_is_node.isNodeJS){_context3.next=6;break}return worker=eval("require")(_getWorkerSrc()),_context3.abrupt("return",worker.WorkerMessageHandler);case 6:return _context3.next=8,(0,_display_utils.loadScript)(_getWorkerSrc());case 8:return _context3.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context3.stop()}}),_callee3)})));return function(){return _ref20.apply(this,arguments)}}();return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(e){var t="importScripts('"+e+"');";return URL.createObjectURL(new Blob([t]))}var PDFWorker=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.name,r=void 0===n?null:n,a=t.port,o=void 0===a?null:a,i=t.verbosity,s=void 0===i?(0,_util.getVerbosityLevel)():i;if(_classCallCheck(this,e),o&&pdfWorkerPorts.has(o))throw new Error("Cannot use more than one PDFWorker per port");if(this.name=r,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=s,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,o)return pdfWorkerPorts.set(o,this),void this._initializeFromPort(o);this._initialize()}return _createClass(e,[{key:"promise",get:function(){return this._readyCapability.promise}},{key:"port",get:function(){return this._port}},{key:"messageHandler",get:function(){return this._messageHandler}},{key:"_initializeFromPort",value:function(e){this._port=e,this._messageHandler=new _message_handler.MessageHandler("main","worker",e),this._messageHandler.on("ready",(function(){})),this._readyCapability.resolve()}},{key:"_initialize",value:function(){var e=this;if("undefined"!==typeof Worker&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){var t=_getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,t)||(t=createCDNWrapper(new URL(t,window.location).href));var n=new Worker(t),r=new _message_handler.MessageHandler("main","worker",n),a=function(){n.removeEventListener("error",o),r.destroy(),n.terminate(),e.destroyed?e._readyCapability.reject(new Error("Worker was destroyed")):e._setupFakeWorker()},o=function(){e._webWorker||a()};n.addEventListener("error",o),r.on("test",(function(t){n.removeEventListener("error",o),e.destroyed?a():t?(e._messageHandler=r,e._port=n,e._webWorker=n,t.supportTransfers||(e.postMessageTransfers=!1),e._readyCapability.resolve(),r.send("configure",{verbosity:e.verbosity})):(e._setupFakeWorker(),r.destroy(),n.terminate())})),r.on("ready",(function(t){if(n.removeEventListener("error",o),e.destroyed)a();else try{i()}catch(r){e._setupFakeWorker()}}));var i=function(){var t=new Uint8Array([e.postMessageTransfers?255:0]);try{r.send("test",t,[t.buffer])}catch(n){(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,r.send("test",t)}};return void i()}catch(s){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function(){var e=this;isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then((function(t){if(e.destroyed)e._readyCapability.reject(new Error("Worker was destroyed"));else{var n=new LoopbackPort;e._port=n;var r="fake"+nextFakeWorkerId++,a=new _message_handler.MessageHandler(r+"_worker",r,n);t.setup(a,n);var o=new _message_handler.MessageHandler(r,r+"_worker",n);e._messageHandler=o,e._readyCapability.resolve(),o.send("configure",{verbosity:e.verbosity})}})).catch((function(t){e._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(t.message,'".')))}))}},{key:"destroy",value:function(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}}],[{key:"fromPort",value:function(t){if(!t||!t.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(t.port)?pdfWorkerPorts.get(t.port):new e(t)}},{key:"getWorkerSrc",value:function(){return _getWorkerSrc()}}]),e}();return PDFWorker}();exports.PDFWorker=PDFWorker;var WorkerTransport=function(){function e(t,n,r,a){_classCallCheck(this,e),this.messageHandler=t,this.loadingTask=n,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:n.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:a.ownerDocument}),this._params=a,this.CMapReaderFactory=new a.CMapReaderFactory({baseUrl:a.cMapUrl,isCompressed:a.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}return _createClass(e,[{key:"destroy",value:function(){var e=this;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));var t=[];this.pageCache.forEach((function(e){e&&t.push(e._destroy())})),this.pageCache.length=0,this.pagePromises.length=0;var n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((function(){e.fontLoader.clear(),e._networkStream&&e._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),e.messageHandler&&(e.messageHandler.destroy(),e.messageHandler=null),e.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}},{key:"setupMessageHandler",value:function(){var e=this,t=this.messageHandler,n=this.loadingTask;t.on("GetReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetReader - no `IPDFStream` instance available."),e._fullReader=e._networkStream.getFullReader(),e._fullReader.onProgress=function(t){e._lastProgress={loaded:t.loaded,total:t.total}},n.onPull=function(){e._fullReader.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){e._fullReader.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}})),t.on("ReaderHeadersReady",(function(t){var r=(0,_util.createPromiseCapability)(),a=e._fullReader;return a.headersReady.then((function(){a.isStreamingSupported&&a.isRangeSupported||(e._lastProgress&&n.onProgress&&n.onProgress(e._lastProgress),a.onProgress=function(e){n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}),r.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})}),r.reject),r.promise})),t.on("GetRangeReader",(function(t,n){(0,_util.assert)(e._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var r=e._networkStream.getRangeReader(t.begin,t.end);r?(n.onPull=function(){r.read().then((function(e){var t=e.value;e.done?n.close():((0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer."),n.enqueue(new Uint8Array(t),1,[t]))})).catch((function(e){n.error(e)}))},n.onCancel=function(t){r.cancel(t),n.ready.catch((function(t){if(!e.destroyed)throw t}))}):n.close()})),t.on("GetDoc",(function(t){var r=t.pdfInfo;e._numPages=r.numPages,n._capability.resolve(new PDFDocumentProxy(r,e))})),t.on("DocException",(function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details)}t instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),n._capability.reject(t)})),t.on("PasswordRequest",(function(t){if(e._passwordCapability=(0,_util.createPromiseCapability)(),n.onPassword)try{n.onPassword((function(t){e._passwordCapability.resolve({password:t})}),t.code)}catch(r){e._passwordCapability.reject(r)}else e._passwordCapability.reject(new _util.PasswordException(t.message,t.code));return e._passwordCapability.promise})),t.on("DataLoaded",(function(t){n.onProgress&&n.onProgress({loaded:t.length,total:t.length}),e.downloadInfoCapability.resolve(t)})),t.on("StartRenderPage",(function(t){e.destroyed||e.pageCache[t.pageIndex]._startRenderPage(t.transparency,t.intent)})),t.on("commonobj",(function(n){if(!e.destroyed){var r=_slicedToArray(n,3),a=r[0],o=r[1],i=r[2];if(!e.commonObjs.has(a))switch(o){case"Font":var s=e._params;if("error"in i){var c=i.error;(0,_util.warn)("Error during font loading: ".concat(c)),e.commonObjs.resolve(a,c);break}var l=null;s.pdfBug&&globalThis.FontInspector&&globalThis.FontInspector.enabled&&(l={registerFont:function(e,t){globalThis.FontInspector.fontAdded(e,t)}});var u=new _font_loader.FontFaceObject(i,{isEvalSupported:s.isEvalSupported,disableFontFace:s.disableFontFace,ignoreErrors:s.ignoreErrors,onUnsupportedFeature:e._onUnsupportedFeature.bind(e),fontRegistry:l});e.fontLoader.bind(u).catch((function(e){return t.sendWithPromise("FontFallback",{id:a})})).finally((function(){!s.fontExtraProperties&&u.data&&(u.data=null),e.commonObjs.resolve(a,u)}));break;case"FontPath":case"Image":e.commonObjs.resolve(a,i);break;default:throw new Error("Got unknown common object type ".concat(o))}}})),t.on("obj",(function(t){if(!e.destroyed){var n=_slicedToArray(t,4),r=n[0],a=n[1],o=n[2],i=n[3],s=e.pageCache[a];if(!s.objs.has(r))switch(o){case"Image":s.objs.resolve(r,i),i&&"data"in i&&i.data.length>8e6&&(s.cleanupAfterRender=!0);break;default:throw new Error("Got unknown object type ".concat(o))}}})),t.on("DocProgress",(function(t){e.destroyed||n.onProgress&&n.onProgress({loaded:t.loaded,total:t.total})})),t.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),t.on("FetchBuiltInCMap",(function(t,n){if(e.destroyed)n.error(new Error("Worker was destroyed"));else{var r=!1;n.onPull=function(){r?n.close():(r=!0,e.CMapReaderFactory.fetch(t).then((function(e){n.enqueue(e,1,[e.cMapData.buffer])})).catch((function(e){n.error(e)})))}}}))}},{key:"_onUnsupportedFeature",value:function(e){var t=e.featureId;this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(t)}},{key:"getData",value:function(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function(e){var t=this;if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request"));var n=e-1;if(n in this.pagePromises)return this.pagePromises[n];var r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then((function(e){if(t.destroyed)throw new Error("Transport destroyed");var r=new PDFPageProxy(n,e,t,t._params.ownerDocument,t._params.pdfBug);return t.pageCache[n]=r,r}));return this.pagePromises[n]=r,r}},{key:"getPageIndex",value:function(e){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:e}).catch((function(e){return Promise.reject(new Error(e))}))}},{key:"getAnnotations",value:function(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}},{key:"saveDocument",value:function(e){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:e&&e.getAll()||null,filename:this._fullReader?this._fullReader.filename:null}).finally((function(){e&&e.resetModified()}))}},{key:"getDestinations",value:function(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}},{key:"getPageLabels",value:function(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getOutline",value:function(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then((function(e){return new _optional_content_config.OptionalContentConfig(e)}))}},{key:"getPermissions",value:function(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function(){var e=this;return this.messageHandler.sendWithPromise("GetMetadata",null).then((function(t){return{info:t[0],metadata:t[1]?new _metadata.Metadata(t[1]):null,contentDispositionFilename:e._fullReader?e._fullReader.filename:null}}))}},{key:"getStats",value:function(){return this.messageHandler.sendWithPromise("GetStats",null)}},{key:"startCleanup",value:function(){var e=this;return this.messageHandler.sendWithPromise("Cleanup",null).then((function(){for(var t=0,n=e.pageCache.length;t<n;t++){var r=e.pageCache[t];if(r&&!r.cleanup())throw new Error("startCleanup: Page ".concat(t+1," is currently rendering."))}e.commonObjs.clear(),e.fontLoader.clear()}))}},{key:"loadingParams",get:function(){var e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,disableFontFace:e.disableFontFace})}}]),e}(),PDFObjects=function(){function e(){_classCallCheck(this,e),this._objs=Object.create(null)}return _createClass(e,[{key:"_ensureObj",value:function(e){return this._objs[e]?this._objs[e]:this._objs[e]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t)return this._ensureObj(e).capability.promise.then(t),null;var n=this._objs[e];if(!n||!n.resolved)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}},{key:"has",value:function(e){var t=this._objs[e];return!!t&&t.resolved}},{key:"resolve",value:function(e,t){var n=this._ensureObj(e);n.resolved=!0,n.data=t,n.capability.resolve(t)}},{key:"clear",value:function(){this._objs=Object.create(null)}}]),e}(),RenderTask=function(){function e(t){_classCallCheck(this,e),this._internalRenderTask=t,this.onContinue=null}return _createClass(e,[{key:"promise",get:function(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function(){this._internalRenderTask.cancel()}}]),e}(),InternalRenderTask=function(){var e=new WeakSet;return function(){function t(e){var n=e.callback,r=e.params,a=e.objs,o=e.commonObjs,i=e.operatorList,s=e.pageIndex,c=e.canvasFactory,l=e.webGLContext,u=e.useRequestAnimationFrame,p=void 0!==u&&u,d=e.pdfBug,f=void 0!==d&&d;_classCallCheck(this,t),this.callback=n,this.params=r,this.objs=a,this.commonObjs=o,this.operatorListIdx=null,this.operatorList=i,this._pageIndex=s,this.canvasFactory=c,this.webGLContext=l,this._pdfBug=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===p&&"undefined"!==typeof window,this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=r.canvasContext.canvas}return _createClass(t,[{key:"completed",get:function(){return this.capability.promise.catch((function(){}))}},{key:"initializeGraphics",value:function(t){var n=t.transparency,r=void 0!==n&&n,a=t.optionalContentConfig;if(!this.cancelled){if(this._canvas){if(e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager&&globalThis.StepperManager.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());var o=this.params,i=o.canvasContext,s=o.viewport,c=o.transform,l=o.imageLayer,u=o.background;this.gfx=new _canvas.CanvasGraphics(i,this.commonObjs,this.objs,this.canvasFactory,this.webGLContext,l,a),this.gfx.beginDrawing({transform:c,viewport:s,transparency:r,background:u}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}}},{key:"cancel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}},{key:"_continue",value:function(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}},{key:"_scheduleNext",value:function(){var e=this;this._useRequestAnimationFrame?window.requestAnimationFrame((function(){e._nextBound().catch(e.cancel.bind(e))})):Promise.resolve().then(this._nextBound).catch(this.cancel.bind(this))}},{key:"_next",value:function(){var t=_asyncToGenerator(_regeneratorRuntime.mark((function t(){return _regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&e.delete(this._canvas),this.callback()));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}()}(),version="2.6.347";exports.version=version;var build="3be9c65f";exports.build=build},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontLoader=t.FontFaceObject=void 0;var r,a=n(2),o=function(){function e(t){var n=t.docId,r=t.onUnsupportedFeature,o=t.ownerDocument,i=void 0===o?globalThis.document:o;_classCallCheck(this,e),this.constructor===e&&(0,a.unreachable)("Cannot initialize BaseFontLoader."),this.docId=n,this._onUnsupportedFeature=r,this._document=i,this.nativeFontFaces=[],this.styleElement=null}return _createClass(e,[{key:"addNativeFontFace",value:function(e){this.nativeFontFaces.push(e),this._document.fonts.add(e)}},{key:"insertRule",value:function(e){var t=this.styleElement;t||((t=this.styleElement=this._document.createElement("style")).id="PDFJS_FONT_STYLE_TAG_".concat(this.docId),this._document.documentElement.getElementsByTagName("head")[0].appendChild(t));var n=t.sheet;n.insertRule(e,n.cssRules.length)}},{key:"clear",value:function(){var e=this;this.nativeFontFaces.forEach((function(t){e._document.fonts.delete(t)})),this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}},{key:"bind",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){var n,r,o=this;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.attached&&!t.missingFile){e.next=2;break}return e.abrupt("return");case 2:if(t.attached=!0,!this.isFontLoadingAPISupported){e.next=19;break}if(!(n=t.createNativeFontFace())){e.next=18;break}return this.addNativeFontFace(n),e.prev=7,e.next=10,n.loaded;case 10:e.next=18;break;case 12:throw e.prev=12,e.t0=e.catch(7),this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,a.warn)("Failed to load font '".concat(n.family,"': '").concat(e.t0,"'.")),t.disableFontFace=!0,e.t0;case 18:return e.abrupt("return");case 19:if(!(r=t.createFontFaceRule())){e.next=26;break}if(this.insertRule(r),!this.isSyncFontLoadingSupported){e.next=24;break}return e.abrupt("return");case 24:return e.next=26,new Promise((function(e){var n=o._queueLoadingCallback(e);o._prepareFontLoadEvent([r],[t],n)}));case 26:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_queueLoadingCallback",value:function(e){(0,a.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function(){var e="undefined"!==typeof this._document&&!!this._document.fonts;return(0,a.shadow)(this,"isFontLoadingAPISupported",e)}},{key:"isSyncFontLoadingSupported",get:function(){(0,a.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function(){(0,a.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function(e,t,n){(0,a.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]),e}();t.FontLoader=r,t.FontLoader=r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).loadingContext={requests:[],nextRequestId:0},r.loadTestFontId=0,r}return _createClass(n,[{key:"isSyncFontLoadingSupported",get:function(){var e=!1;if("undefined"===typeof navigator)e=!0;else{var t=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);t&&t[1]>=14&&(e=!0)}return(0,a.shadow)(this,"isSyncFontLoadingSupported",e)}},{key:"_queueLoadingCallback",value:function(e){var t=this.loadingContext,n={id:"pdfjs-font-loading-".concat(t.nextRequestId++),done:!1,complete:function(){for((0,a.assert)(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.requests.length>0&&t.requests[0].done;){var e=t.requests.shift();setTimeout(e.callback,0)}},callback:e};return t.requests.push(n),n}},{key:"_loadTestFont",get:function(){return(0,a.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}},{key:"_prepareFontLoadEvent",value:function(e,t,n){var r,o,i=this;function s(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function c(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}var l=this._document.createElement("canvas");l.width=1,l.height=1;var u=l.getContext("2d"),p=0,d="lt".concat(Date.now()).concat(this.loadTestFontId++),f=this._loadTestFont,h=1482184792,g=s(f=c(f,976,d.length,d),16);for(r=0,o=d.length-3;r<o;r+=4)g=g-h+s(d,r)|0;r<d.length&&(g=g-h+s(d+"XXX",r)|0),f=c(f,16,4,(0,a.string32)(g));var m="url(data:font/opentype;base64,".concat(btoa(f),");"),v='@font-face {font-family:"'.concat(d,'";src:').concat(m,"}");this.insertRule(v);var E=[];for(r=0,o=t.length;r<o;r++)E.push(t[r].loadedName);E.push(d);var C=this._document.createElement("div");for(C.style.visibility="hidden",C.style.width=C.style.height="10px",C.style.position="absolute",C.style.top=C.style.left="0px",r=0,o=E.length;r<o;++r){var x=this._document.createElement("span");x.textContent="Hi",x.style.fontFamily=E[r],C.appendChild(x)}this._document.body.appendChild(C),function e(t,n){if(++p>30)return(0,a.warn)("Load test font never loaded."),void n();u.font="30px "+t,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(d,(function(){i._document.body.removeChild(C),n.complete()}))}}]),n}(o);var i=function(){function e(t,n){var r=n.isEvalSupported,a=void 0===r||r,o=n.disableFontFace,i=void 0!==o&&o,s=n.ignoreErrors,c=void 0!==s&&s,l=n.onUnsupportedFeature,u=void 0===l?null:l,p=n.fontRegistry,d=void 0===p?null:p;for(var f in _classCallCheck(this,e),this.compiledGlyphs=Object.create(null),t)this[f]=t[f];this.isEvalSupported=!1!==a,this.disableFontFace=!0===i,this.ignoreErrors=!0===c,this._onUnsupportedFeature=u,this.fontRegistry=d}return _createClass(e,[{key:"createNativeFontFace",value:function(){if(!this.data||this.disableFontFace)return null;var e=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),e}},{key:"createFontFaceRule",value:function(){if(!this.data||this.disableFontFace)return null;var e=(0,a.bytesToString)(new Uint8Array(this.data)),t="url(data:".concat(this.mimetype,";base64,").concat(btoa(e),");"),n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return this.fontRegistry&&this.fontRegistry.registerFont(this,t),n}},{key:"getPathGenerator",value:function(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];var n,r;try{n=e.get(this.loadedName+"_path_"+t)}catch(l){if(!this.ignoreErrors)throw l;return this._onUnsupportedFeature&&this._onUnsupportedFeature({featureId:a.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,a.warn)('getPathGenerator - ignoring character: "'.concat(l,'".')),this.compiledGlyphs[t]=function(e,t){}}if(this.isEvalSupported&&a.IsEvalSupportedCached.value){for(var o,i="",s=0,c=n.length;s<c;s++)o=void 0!==(r=n[s]).args?r.args.join(","):"",i+="c."+r.cmd+"("+o+");\n";return this.compiledGlyphs[t]=new Function("c","size",i)}return this.compiledGlyphs[t]=function(e,t){for(var a=0,o=n.length;a<o;a++)"scale"===(r=n[a]).cmd&&(r.args=[t,-t]),e[r.cmd].apply(e,r.args)}}}]),e}();t.FontFaceObject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeCMapReaderFactory=t.NodeCanvasFactory=void 0;var r=n(1),a=n(4),o=n(2),i=function e(){_classCallCheck(this,e),(0,o.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=i;var s=function e(){_classCallCheck(this,e),(0,o.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=s,a.isNodeJS&&(t.NodeCanvasFactory=i=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"create",value:function(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");var n=__webpack_require__(329).createCanvas(e,t);return{canvas:n,context:n.getContext("2d")}}}]),n}(r.BaseCanvasFactory),t.NodeCMapReaderFactory=s=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"_fetchData",value:function(e,t){return new Promise((function(n,r){__webpack_require__(199).readFile(e,(function(e,a){!e&&a?n({cMapData:new Uint8Array(a),compressionType:t}):r(new Error(e))}))}))}}]),n}(r.BaseCMapReaderFactory))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationStorage=void 0;var r=function(){function e(){_classCallCheck(this,e),this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}return _createClass(e,[{key:"getOrCreateValue",value:function(e,t){return this._storage.has(e)?this._storage.get(e):(this._storage.set(e,t),t)}},{key:"setValue",value:function(e,t){this._storage.get(e)!==t&&this._setModified(),this._storage.set(e,t)}},{key:"getAll",value:function(){return 0===this._storage.size?null:Object.fromEntries(this._storage)}},{key:"size",get:function(){return this._storage.size}},{key:"_setModified",value:function(){this._modified||(this._modified=!0,"function"===typeof this.onSetModified&&this.onSetModified())}},{key:"resetModified",value:function(){this._modified&&(this._modified=!1,"function"===typeof this.onResetModified&&this.onResetModified())}}]),e}();t.AnnotationStorage=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.apiCompatibilityParams=void 0;var r=n(4),a=Object.create(null);r.isNodeJS&&(a.disableFontFace=!0);var o=Object.freeze(a);t.apiCompatibilityParams=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CanvasGraphics=void 0;var r=n(2),a=n(11),o=4096,i=.65,s=16;function c(e){e.mozCurrentTransform||(e._originalSave=e.save,e._originalRestore=e.restore,e._originalRotate=e.rotate,e._originalScale=e.scale,e._originalTranslate=e.translate,e._originalTransform=e.transform,e._originalSetTransform=e.setTransform,e._transformMatrix=e._transformMatrix||[1,0,0,1,0,0],e._transformStack=[],Object.defineProperty(e,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(e,"mozCurrentTransformInverse",{get:function(){var e=this._transformMatrix,t=e[0],n=e[1],r=e[2],a=e[3],o=e[4],i=e[5],s=t*a-n*r,c=n*r-t*a;return[a/s,n/c,r/c,t/s,(a*o-r*i)/c,(n*o-t*i)/s]}}),e.save=function(){var e=this._transformMatrix;this._transformStack.push(e),this._transformMatrix=e.slice(0,6),this._originalSave()},e.restore=function(){var e=this._transformStack.pop();e&&(this._transformMatrix=e,this._originalRestore())},e.translate=function(e,t){var n=this._transformMatrix;n[4]=n[0]*e+n[2]*t+n[4],n[5]=n[1]*e+n[3]*t+n[5],this._originalTranslate(e,t)},e.scale=function(e,t){var n=this._transformMatrix;n[0]=n[0]*e,n[1]=n[1]*e,n[2]=n[2]*t,n[3]=n[3]*t,this._originalScale(e,t)},e.transform=function(t,n,r,a,o,i){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*n,s[1]*t+s[3]*n,s[0]*r+s[2]*a,s[1]*r+s[3]*a,s[0]*o+s[2]*i+s[4],s[1]*o+s[3]*i+s[5]],e._originalTransform(t,n,r,a,o,i)},e.setTransform=function(t,n,r,a,o,i){this._transformMatrix=[t,n,r,a,o,i],e._originalSetTransform(t,n,r,a,o,i)},e.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),r=this._transformMatrix;this._transformMatrix=[r[0]*t+r[2]*n,r[1]*t+r[3]*n,r[0]*-n+r[2]*t,r[1]*-n+r[3]*t,r[4],r[5]],this._originalRotate(e)})}var l=function(){function e(e){this.canvasFactory=e,this.cache=Object.create(null)}return e.prototype={getCanvas:function(e,t,n,r){var a;return void 0!==this.cache[e]?(a=this.cache[e],this.canvasFactory.reset(a,t,n),a.context.setTransform(1,0,0,1,0,0)):(a=this.canvasFactory.create(t,n),this.cache[e]=a),r&&c(a.context),a},clear:function(){for(var e in this.cache){var t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}},e}(),u=function(){function e(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}return e.prototype={clone:function(){return Object.create(this)},setCurrentPoint:function(e,t){this.x=e,this.y=t}},e}(),p=function(){function e(e,t,n,r,a,o,i){this.ctx=e,this.current=new u,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.webGLContext=a,this.imageLayer=o,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=i,this.cachedCanvases=new l(this.canvasFactory),e&&c(e),this._cachedGetSinglePixelWidth=null}function t(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!==typeof ImageData&&t instanceof ImageData)e.putImageData(t,0,0);else{var a,o,i,c,l,u,p,d,f,h=t.height,g=t.width,m=h%s,v=(h-m)/s,E=0===m?v:v+1,C=e.createImageData(g,s),x=0,y=t.data,w=C.data;if(n)switch(n.length){case 1:u=n[0],p=n[0],d=n[0],f=n[0];break;case 4:u=n[0],p=n[1],d=n[2],f=n[3]}if(t.kind===r.ImageKind.GRAYSCALE_1BPP){var b=y.byteLength,k=new Uint32Array(w.buffer,0,w.byteLength>>2),P=k.length,O=g+7>>3,R=4294967295,L=r.IsLittleEndianCached.value?4278190080:255;if(f&&255===f[0]&&0===f[255]){var S=[L,R];R=S[0],L=S[1]}for(o=0;o<E;o++){for(c=o<v?s:m,a=0,i=0;i<c;i++){for(var _=b-x,T=0,A=_>O?g:8*_-7,M=-8&A,N=0,F=0;T<M;T+=8)F=y[x++],k[a++]=128&F?R:L,k[a++]=64&F?R:L,k[a++]=32&F?R:L,k[a++]=16&F?R:L,k[a++]=8&F?R:L,k[a++]=4&F?R:L,k[a++]=2&F?R:L,k[a++]=1&F?R:L;for(;T<A;T++)0===N&&(F=y[x++],N=128),k[a++]=F&N?R:L,N>>=1}for(;a<P;)k[a++]=0;e.putImageData(C,0,o*s)}}else if(t.kind===r.ImageKind.RGBA_32BPP){var I=!!(u||p||d);for(i=0,l=g*s*4,o=0;o<v;o++){if(w.set(y.subarray(x,x+l)),x+=l,I)for(var H=0;H<l;H+=4)u&&(w[H+0]=u[w[H+0]]),p&&(w[H+1]=p[w[H+1]]),d&&(w[H+2]=d[w[H+2]]);e.putImageData(C,0,i),i+=s}if(o<E){if(l=g*m*4,w.set(y.subarray(x,x+l)),I)for(var D=0;D<l;D+=4)u&&(w[D+0]=u[w[D+0]]),p&&(w[D+1]=p[w[D+1]]),d&&(w[D+2]=d[w[D+2]]);e.putImageData(C,0,i)}}else{if(t.kind!==r.ImageKind.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));var B=!!(u||p||d);for(l=g*(c=s),o=0;o<E;o++){for(o>=v&&(l=g*(c=m)),a=0,i=l;i--;)w[a++]=y[x++],w[a++]=y[x++],w[a++]=y[x++],w[a++]=255;if(B)for(var W=0;W<a;W+=4)u&&(w[W+0]=u[w[W+0]]),p&&(w[W+1]=p[w[W+1]]),d&&(w[W+2]=d[w[W+2]]);e.putImageData(C,0,o*s)}}}}function n(e,t){for(var n=t.height,r=t.width,a=n%s,o=(n-a)/s,i=0===a?o:o+1,c=e.createImageData(r,s),l=0,u=t.data,p=c.data,d=0;d<i;d++){for(var f=d<o?s:a,h=3,g=0;g<f;g++)for(var m=0,v=0;v<r;v++){if(!m){var E=u[l++];m=128}p[h]=E&m?0:255,h+=4,m>>=1}e.putImageData(c,0,d*s)}}function p(e,t){for(var n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"],r=0,a=n.length;r<a;r++){var o=n[r];void 0!==e[o]&&(t[o]=e[o])}void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function d(e){e.strokeStyle="#000000",e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0)}function f(e,t,n,r){for(var a=e.length,o=3;o<a;o+=4){var i=e[o];if(0===i)e[o-3]=t,e[o-2]=n,e[o-1]=r;else if(i<255){var s=255-i;e[o-3]=e[o-3]*i+t*s>>8,e[o-2]=e[o-2]*i+n*s>>8,e[o-1]=e[o-1]*i+r*s>>8}}}function h(e,t,n){for(var r=e.length,a=3;a<r;a+=4){var o=n?n[e[a]]:e[a];t[a]=t[a]*o*.00392156862745098|0}}function g(e,t,n){for(var r=e.length,a=3;a<r;a+=4){var o=77*e[a-3]+152*e[a-2]+28*e[a-1];t[a]=n?t[a]*n[o>>8]>>8:t[a]*o>>16}}function m(e,t,n,r){var a=t.canvas,o=t.context;e.setTransform(t.scaleX,0,0,t.scaleY,t.offsetX,t.offsetY);var i=t.backdrop||null;if(!t.transferMap&&r.isEnabled){var s=r.composeSMask({layer:n.canvas,mask:a,properties:{subtype:t.subtype,backdrop:i}});return e.setTransform(1,0,0,1,0,0),void e.drawImage(s,t.offsetX,t.offsetY)}!function(e,t,n,r,a,o,i){var s,c=!!o,l=c?o[0]:0,u=c?o[1]:0,p=c?o[2]:0;s="Luminosity"===a?g:h;for(var d=Math.min(r,Math.ceil(1048576/n)),m=0;m<r;m+=d){var v=Math.min(d,r-m),E=e.getImageData(0,m,n,v),C=t.getImageData(0,m,n,v);c&&f(E.data,l,u,p),s(E.data,C.data,i),e.putImageData(C,0,m)}}(o,n,a.width,a.height,t.subtype,i,t.transferMap),e.drawImage(a,0,0)}var v=["butt","round","square"],E=["miter","round","bevel"],C={},x={};for(var y in e.prototype={beginDrawing:function(e){var t=e.transform,n=e.viewport,r=e.transparency,a=void 0!==r&&r,o=e.background,i=void 0===o?null:o,s=this.ctx.canvas.width,c=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=i||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,c),this.ctx.restore(),a){var l=this.cachedCanvases.getCanvas("transparent",s,c,!0);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),d(this.ctx),t&&this.ctx.transform.apply(this.ctx,t),this.ctx.transform.apply(this.ctx,n.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()},executeOperatorList:function(e,t,n,a){var o=e.argsArray,i=e.fnArray,s=t||0,c=o.length;if(c===s)return s;for(var l,u=c-s>10&&"function"===typeof n,p=u?Date.now()+15:0,d=0,f=this.commonObjs,h=this.objs;;){if(void 0!==a&&s===a.nextBreakPoint)return a.breakIt(s,n),s;if((l=i[s])!==r.OPS.dependency)this[l].apply(this,o[s]);else{var g,m=_createForOfIteratorHelper(o[s]);try{for(m.s();!(g=m.n()).done;){var v=g.value,E=v.startsWith("g_")?f:h;if(!E.has(v))return E.get(v,n),s}}catch(C){m.e(C)}finally{m.f()}}if(++s===c)return s;if(u&&++d>10){if(Date.now()>p)return n(),s;d=0}}},endDrawing:function(){null!==this.current.activeSMask&&this.endSMaskGroup(),this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.webGLContext.clear(),this.imageLayer&&this.imageLayer.endLayout()},setLineWidth:function(e){this.current.lineWidth=e,this.ctx.lineWidth=e},setLineCap:function(e){this.ctx.lineCap=v[e]},setLineJoin:function(e){this.ctx.lineJoin=E[e]},setMiterLimit:function(e){this.ctx.miterLimit=e},setDash:function(e,t){var n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)},setRenderingIntent:function(e){},setFlatness:function(e){},setGState:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],a=r[0],o=r[1];switch(a){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=r[1];break;case"ca":this.current.fillAlpha=r[1],this.ctx.globalAlpha=r[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=o?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=o}}},beginSMaskGroup:function(){var e=this.current.activeSMask,t=e.canvas.width,n=e.canvas.height,r="smaskGroupAt"+this.groupLevel,a=this.cachedCanvases.getCanvas(r,t,n,!0),o=this.ctx,i=o.mozCurrentTransform;this.ctx.save();var s=a.context;s.scale(1/e.scaleX,1/e.scaleY),s.translate(-e.offsetX,-e.offsetY),s.transform.apply(s,i),e.startTransformInverse=s.mozCurrentTransformInverse,p(o,s),this.ctx=s,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(o),this.groupLevel++},suspendSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),m(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),this.ctx.save(),p(e,this.ctx),this.current.resumeSMaskCtx=e;var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t),e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(0,0,e.canvas.width,e.canvas.height),e.restore()},resumeSMaskGroup:function(){var e=this.current.resumeSMaskCtx,t=this.ctx;this.ctx=e,this.groupStack.push(t),this.groupLevel++},endSMaskGroup:function(){var e=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),m(this.ctx,this.current.activeSMask,e,this.webGLContext),this.ctx.restore(),p(e,this.ctx);var t=r.Util.transform(this.current.activeSMask.startTransformInverse,e.mozCurrentTransform);this.ctx.transform.apply(this.ctx,t)},save:function(){this.ctx.save();var e=this.current;this.stateStack.push(e),this.current=e.clone(),this.current.resumeSMaskCtx=null},restore:function(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null)},transform:function(e,t,n,r,a,o){this.ctx.transform(e,t,n,r,a,o),this._cachedGetSinglePixelWidth=null},constructPath:function(e,t){for(var n=this.ctx,a=this.current,o=a.x,i=a.y,s=0,c=0,l=e.length;s<l;s++)switch(0|e[s]){case r.OPS.rectangle:o=t[c++],i=t[c++];var u=t[c++],p=t[c++];0===u&&n.lineWidth<this.getSinglePixelWidth()&&(u=this.getSinglePixelWidth()),0===p&&n.lineWidth<this.getSinglePixelWidth()&&(p=this.getSinglePixelWidth());var d=o+u,f=i+p;n.moveTo(o,i),n.lineTo(d,i),n.lineTo(d,f),n.lineTo(o,f),n.lineTo(o,i),n.closePath();break;case r.OPS.moveTo:o=t[c++],i=t[c++],n.moveTo(o,i);break;case r.OPS.lineTo:o=t[c++],i=t[c++],n.lineTo(o,i);break;case r.OPS.curveTo:o=t[c+4],i=t[c+5],n.bezierCurveTo(t[c],t[c+1],t[c+2],t[c+3],o,i),c+=6;break;case r.OPS.curveTo2:n.bezierCurveTo(o,i,t[c],t[c+1],t[c+2],t[c+3]),o=t[c+2],i=t[c+3],c+=4;break;case r.OPS.curveTo3:o=t[c+2],i=t[c+3],n.bezierCurveTo(t[c],t[c+1],o,i,o,i),c+=4;break;case r.OPS.closePath:n.closePath()}a.setCurrentPoint(o,i)},closePath:function(){this.ctx.closePath()},stroke:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.strokeColor;if(t.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(n&&n.hasOwnProperty("type")&&"Pattern"===n.type){t.save();var a=t.mozCurrentTransform,o=r.Util.singularValueDecompose2dScale(a)[0];t.strokeStyle=n.getPattern(t,this),t.lineWidth=Math.max(this.getSinglePixelWidth()*i,this.current.lineWidth*o),t.stroke(),t.restore()}else t.lineWidth=Math.max(this.getSinglePixelWidth()*i,this.current.lineWidth),t.stroke();e&&this.consumePath(),t.globalAlpha=this.current.fillAlpha},closeStroke:function(){this.closePath(),this.stroke()},fill:function(e){e="undefined"===typeof e||e;var t=this.ctx,n=this.current.fillColor,r=!1;this.current.patternFill&&(t.save(),this.baseTransform&&t.setTransform.apply(t,this.baseTransform),t.fillStyle=n.getPattern(t,this),r=!0),this.contentVisible&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath()},eoFill:function(){this.pendingEOFill=!0,this.fill()},fillStroke:function(){this.fill(!1),this.stroke(!1),this.consumePath()},eoFillStroke:function(){this.pendingEOFill=!0,this.fillStroke()},closeFillStroke:function(){this.closePath(),this.fillStroke()},closeEOFillStroke:function(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()},endPath:function(){this.consumePath()},clip:function(){this.pendingClip=C},eoClip:function(){this.pendingClip=x},beginText:function(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},endText:function(){var e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(var n=0;n<e.length;n++){var r=e[n];t.setTransform.apply(t,r.transform),t.translate(r.x,r.y),r.addToPath(t,r.fontSize)}t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()},setCharSpacing:function(e){this.current.charSpacing=e},setWordSpacing:function(e){this.current.wordSpacing=e},setHScale:function(e){this.current.textHScale=e/100},setLeading:function(e){this.current.leading=-e},setFont:function(e,t){var n=this.commonObjs.get(e),a=this.current;if(!n)throw new Error("Can't find font for ".concat(e));if(a.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX,0!==a.fontMatrix[0]&&0!==a.fontMatrix[3]||(0,r.warn)("Invalid font matrix for font "+e),t<0?(t=-t,a.fontDirection=-1):a.fontDirection=1,this.current.font=n,this.current.fontSize=t,!n.isType3Font){var o=n.loadedName||"sans-serif",i="normal";n.black?i="900":n.bold&&(i="bold");var s=n.italic?"italic":"normal",c='"'.concat(o,'", ').concat(n.fallbackName),l=t;t<16?l=16:t>100&&(l=100),this.current.fontSizeScale=t/l,this.ctx.font="".concat(s," ").concat(i," ").concat(l,"px ").concat(c)}},setTextRenderingMode:function(e){this.current.textRenderingMode=e},setTextRise:function(e){this.current.textRise=e},moveText:function(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t},setLeadingMoveText:function(e,t){this.setLeading(-t),this.moveText(e,t)},setTextMatrix:function(e,t,n,r,a,o){this.current.textMatrix=[e,t,n,r,a,o],this.current.textMatrixScale=Math.sqrt(e*e+t*t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0},nextLine:function(){this.moveText(0,this.current.leading)},paintChar:function(e,t,n,a){var o,i=this.ctx,s=this.current,c=s.font,l=s.textRenderingMode,u=s.fontSize/s.fontSizeScale,p=l&r.TextRenderingMode.FILL_STROKE_MASK,d=!!(l&r.TextRenderingMode.ADD_TO_PATH_FLAG),f=s.patternFill&&!c.missingFile;(c.disableFontFace||d||f)&&(o=c.getPathGenerator(this.commonObjs,e)),c.disableFontFace||f?(i.save(),i.translate(t,n),i.beginPath(),o(i,u),a&&i.setTransform.apply(i,a),p!==r.TextRenderingMode.FILL&&p!==r.TextRenderingMode.FILL_STROKE||i.fill(),p!==r.TextRenderingMode.STROKE&&p!==r.TextRenderingMode.FILL_STROKE||i.stroke(),i.restore()):(p!==r.TextRenderingMode.FILL&&p!==r.TextRenderingMode.FILL_STROKE||i.fillText(e,t,n),p!==r.TextRenderingMode.STROKE&&p!==r.TextRenderingMode.FILL_STROKE||i.strokeText(e,t,n)),d&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:i.mozCurrentTransform,x:t,y:n,fontSize:u,addToPath:o})},get isFontSubpixelAAEnabled(){var e=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10).context;e.scale(1.5,1),e.fillText("I",0,10);for(var t=e.getImageData(0,0,10,10).data,n=!1,a=3;a<t.length;a+=4)if(t[a]>0&&t[a]<255){n=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",n)},showText:function(e){var t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);var a=t.fontSize;if(0!==a){var o,s=this.ctx,c=t.fontSizeScale,l=t.charSpacing,u=t.wordSpacing,p=t.fontDirection,d=t.textHScale*p,f=e.length,h=n.vertical,g=h?1:-1,m=n.defaultVMetrics,v=a*t.fontMatrix[0],E=t.textRenderingMode===r.TextRenderingMode.FILL&&!n.disableFontFace&&!t.patternFill;if(s.save(),t.patternFill){s.save();var C=t.fillColor.getPattern(s,this);o=s.mozCurrentTransform,s.restore(),s.fillStyle=C}s.transform.apply(s,t.textMatrix),s.translate(t.x,t.y+t.textRise),p>0?s.scale(d,-1):s.scale(d,1);var x=t.lineWidth,y=t.textMatrixScale;if(0===y||0===x){var w=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;w!==r.TextRenderingMode.STROKE&&w!==r.TextRenderingMode.FILL_STROKE||(this._cachedGetSinglePixelWidth=null,x=this.getSinglePixelWidth()*i)}else x/=y;1!==c&&(s.scale(c,c),x/=c),s.lineWidth=x;var b,k=0;for(b=0;b<f;++b){var P=e[b];if((0,r.isNum)(P))k+=g*P*a/1e3;else{var O,R,L,S,_,T,A,M=!1,N=(P.isSpace?u:0)+l,F=P.fontChar,I=P.accent,H=P.width;if(h?(_=P.vmetric||m,T=-(T=P.vmetric?_[1]:.5*H)*v,A=_[2]*v,H=_?-_[0]:H,O=T/c,R=(k+A)/c):(O=k/c,R=0),n.remeasure&&H>0){var D=1e3*s.measureText(F).width/a*c;if(H<D&&this.isFontSubpixelAAEnabled){var B=H/D;M=!0,s.save(),s.scale(B,1),O/=B}else H!==D&&(O+=(H-D)/2e3*a/c)}this.contentVisible&&(P.isInFont||n.missingFile)&&(E&&!I?s.fillText(F,O,R):(this.paintChar(F,O,R,o),I&&(L=O+a*I.offset.x/c,S=R-a*I.offset.y/c,this.paintChar(I.fontChar,L,S,o)))),k+=h?H*v-N*p:H*v+N*p,M&&s.restore()}}h?t.y-=k:t.x+=k*d,s.restore()}},showType3Text:function(e){var t,n,a,o,i=this.ctx,s=this.current,c=s.font,l=s.fontSize,u=s.fontDirection,p=c.vertical?1:-1,d=s.charSpacing,f=s.wordSpacing,h=s.textHScale*u,g=s.fontMatrix||r.FONT_IDENTITY_MATRIX,m=e.length;if(s.textRenderingMode!==r.TextRenderingMode.INVISIBLE&&0!==l){for(this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,s.textMatrix),i.translate(s.x,s.y),i.scale(h,u),t=0;t<m;++t)if(n=e[t],(0,r.isNum)(n))o=p*n*l/1e3,this.ctx.translate(o,0),s.x+=o*h;else{var v=(n.isSpace?f:0)+d,E=c.charProcOperatorList[n.operatorListId];E?(this.contentVisible&&(this.processingType3=n,this.save(),i.scale(l,l),i.transform.apply(i,g),this.executeOperatorList(E),this.restore()),a=r.Util.applyTransform([n.width,0],g)[0]*l+v,i.translate(a,0),s.x+=a*h):(0,r.warn)('Type3 character "'.concat(n.operatorListId,'" is not available.'))}i.restore(),this.processingType3=null}},setCharWidth:function(e,t){},setCharWidthAndBounds:function(e,t,n,r,a,o){this.ctx.rect(n,r,a-n,o-r),this.clip(),this.endPath()},getColorN_Pattern:function(t){var n,r=this;if("TilingPattern"===t[0]){var o=t[1],i=this.baseTransform||this.ctx.mozCurrentTransform.slice(),s={createCanvasGraphics:function(t){return new e(t,r.commonObjs,r.objs,r.canvasFactory,r.webGLContext)}};n=new a.TilingPattern(t,o,this.ctx,s,i)}else n=(0,a.getShadingPatternFromIR)(t);return n},setStrokeColorN:function(){this.current.strokeColor=this.getColorN_Pattern(arguments)},setFillColorN:function(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0},setStrokeRGBColor:function(e,t,n){var a=r.Util.makeCssRgb(e,t,n);this.ctx.strokeStyle=a,this.current.strokeColor=a},setFillRGBColor:function(e,t,n){var a=r.Util.makeCssRgb(e,t,n);this.ctx.fillStyle=a,this.current.fillColor=a,this.current.patternFill=!1},shadingFill:function(e){if(this.contentVisible){var t=this.ctx;this.save();var n=(0,a.getShadingPatternFromIR)(e);t.fillStyle=n.getPattern(t,this,!0);var o=t.mozCurrentTransformInverse;if(o){var i=t.canvas,s=i.width,c=i.height,l=r.Util.applyTransform([0,0],o),u=r.Util.applyTransform([0,c],o),p=r.Util.applyTransform([s,0],o),d=r.Util.applyTransform([s,c],o),f=Math.min(l[0],u[0],p[0],d[0]),h=Math.min(l[1],u[1],p[1],d[1]),g=Math.max(l[0],u[0],p[0],d[0]),m=Math.max(l[1],u[1],p[1],d[1]);this.ctx.fillRect(f,h,g-f,m-h)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}},beginInlineImage:function(){(0,r.unreachable)("Should not call beginInlineImage")},beginImageData:function(){(0,r.unreachable)("Should not call beginImageData")},paintFormXObjectBegin:function(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(e)&&6===e.length&&this.transform.apply(this,e),this.baseTransform=this.ctx.mozCurrentTransform,t)){var n=t[2]-t[0],r=t[3]-t[1];this.ctx.rect(t[0],t[1],n,r),this.clip(),this.endPath()}},paintFormXObjectEnd:function(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())},beginGroup:function(e){if(this.contentVisible){this.save();var t=this.ctx;e.isolated||(0,r.info)("TODO: Support non-isolated groups."),e.knockout&&(0,r.warn)("Knockout groups not supported.");var n=t.mozCurrentTransform;if(e.matrix&&t.transform.apply(t,e.matrix),!e.bbox)throw new Error("Bounding box is required.");var a=r.Util.getAxialAlignedBoundingBox(e.bbox,t.mozCurrentTransform),i=[0,0,t.canvas.width,t.canvas.height];a=r.Util.intersect(a,i)||[0,0,0,0];var s=Math.floor(a[0]),c=Math.floor(a[1]),l=Math.max(Math.ceil(a[2])-s,1),u=Math.max(Math.ceil(a[3])-c,1),d=1,f=1;l>o&&(d=l/o,l=o),u>o&&(f=u/o,u=o);var h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);var g=this.cachedCanvases.getCanvas(h,l,u,!0),m=g.context;m.scale(1/d,1/f),m.translate(-s,-c),m.transform.apply(m,n),e.smask?this.smaskStack.push({canvas:g.canvas,context:m,offsetX:s,offsetY:c,scaleX:d,scaleY:f,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,c),t.scale(d,f)),p(t,m),this.ctx=m,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++,this.current.activeSMask=null}},endGroup:function(e){if(this.contentVisible){this.groupLevel--;var t=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,e.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(t.canvas,0,0),this.restore()}},beginAnnotations:function(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)},endAnnotations:function(){this.restore()},beginAnnotation:function(e,t,n){if(this.save(),d(this.ctx),this.current=new u,Array.isArray(e)&&4===e.length){var r=e[2]-e[0],a=e[3]-e[1];this.ctx.rect(e[0],e[1],r,a),this.clip(),this.endPath()}this.transform.apply(this,t),this.transform.apply(this,n)},endAnnotation:function(){this.restore()},paintImageMaskXObject:function(e){if(this.contentVisible){var t=this.ctx,r=e.width,a=e.height,o=this.current.fillColor,i=this.current.patternFill,s=this.processingType3;if(s&&void 0===s.compiled&&(s.compiled=r<=1e3&&a<=1e3?function(e){var t,n,r,a,o=e.width,i=e.height,s=o+1,c=new Uint8Array(s*(i+1)),l=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),u=o+7&-8,p=e.data,d=new Uint8Array(u*i),f=0;for(t=0,a=p.length;t<a;t++)for(var h=128,g=p[t];h>0;)d[f++]=g&h?0:255,h>>=1;var m=0;for(0!==d[f=0]&&(c[0]=1,++m),n=1;n<o;n++)d[f]!==d[f+1]&&(c[n]=d[f]?2:1,++m),f++;for(0!==d[f]&&(c[n]=2,++m),t=1;t<i;t++){r=t*s,d[(f=t*u)-u]!==d[f]&&(c[r]=d[f]?1:8,++m);var v=(d[f]?4:0)+(d[f-u]?8:0);for(n=1;n<o;n++)l[v=(v>>2)+(d[f+1]?4:0)+(d[f-u+1]?8:0)]&&(c[r+n]=l[v],++m),f++;if(d[f-u]!==d[f]&&(c[r+n]=d[f]?2:4,++m),m>1e3)return null}for(r=t*s,0!==d[f=u*(i-1)]&&(c[r]=8,++m),n=1;n<o;n++)d[f]!==d[f+1]&&(c[r+n]=d[f]?4:8,++m),f++;if(0!==d[f]&&(c[r+n]=4,++m),m>1e3)return null;var E=new Int32Array([0,s,-1,0,-s,0,0,0,1]),C=[];for(t=0;m&&t<=i;t++){for(var x=t*s,y=x+o;x<y&&!c[x];)x++;if(x!==y){var w,b=[x%s,t],k=c[x],P=x;do{var O=E[k];do{x+=O}while(!c[x]);5!==(w=c[x])&&10!==w?(k=w,c[x]=0):(k=w&51*k>>4,c[x]&=k>>2|k<<2),b.push(x%s),b.push(x/s|0),c[x]||--m}while(P!==x);C.push(b),--t}}return function(e){e.save(),e.scale(1/o,-1/i),e.translate(0,-i),e.beginPath();for(var t=0,n=C.length;t<n;t++){var r=C[t];e.moveTo(r[0],r[1]);for(var a=2,s=r.length;a<s;a+=2)e.lineTo(r[a],r[a+1])}e.fill(),e.beginPath(),e.restore()}}({data:e.data,width:r,height:a}):null),s&&s.compiled)s.compiled(t);else{var c=this.cachedCanvases.getCanvas("maskCanvas",r,a),l=c.context;l.save(),n(l,e),l.globalCompositeOperation="source-in",l.fillStyle=i?o.getPattern(l,this):o,l.fillRect(0,0,r,a),l.restore(),this.paintInlineImageXObject(c.canvas)}}},paintImageMaskXObjectRepeat:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5?arguments[5]:void 0;if(this.contentVisible){var s=e.width,c=e.height,l=this.current.fillColor,u=this.current.patternFill,p=this.cachedCanvases.getCanvas("maskCanvas",s,c),d=p.context;d.save(),n(d,e),d.globalCompositeOperation="source-in",d.fillStyle=u?l.getPattern(d,this):l,d.fillRect(0,0,s,c),d.restore();for(var f=this.ctx,h=0,g=i.length;h<g;h+=2)f.save(),f.transform(t,r,a,o,i[h],i[h+1]),f.scale(1,-1),f.drawImage(p.canvas,0,0,s,c,0,-1,1,1),f.restore()}},paintImageMaskXObjectGroup:function(e){if(this.contentVisible)for(var t=this.ctx,r=this.current.fillColor,a=this.current.patternFill,o=0,i=e.length;o<i;o++){var s=e[o],c=s.width,l=s.height,u=this.cachedCanvases.getCanvas("maskCanvas",c,l),p=u.context;p.save(),n(p,s),p.globalCompositeOperation="source-in",p.fillStyle=a?r.getPattern(p,this):r,p.fillRect(0,0,c,l),p.restore(),t.save(),t.transform.apply(t,s.transform),t.scale(1,-1),t.drawImage(u.canvas,0,0,c,l,0,-1,1,1),t.restore()}},paintImageXObject:function(e){if(this.contentVisible){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image isn't ready yet")}},paintImageXObjectRepeat:function(e,t,n,a){if(this.contentVisible){var o=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);if(o){for(var i=o.width,s=o.height,c=[],l=0,u=a.length;l<u;l+=2)c.push({transform:[t,0,0,n,a[l],a[l+1]],x:0,y:0,w:i,h:s});this.paintInlineImageXObjectGroup(o,c)}else(0,r.warn)("Dependent image isn't ready yet")}},paintInlineImageXObject:function(e){if(this.contentVisible){var n=e.width,r=e.height,a=this.ctx;this.save(),a.scale(1/n,-1/r);var o,i,s=a.mozCurrentTransformInverse,c=s[0],l=s[1],u=Math.max(Math.sqrt(c*c+l*l),1),p=s[2],d=s[3],f=Math.max(Math.sqrt(p*p+d*d),1);if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)o=e;else{var h=(i=this.cachedCanvases.getCanvas("inlineImage",n,r)).context;t(h,e,this.current.transferMaps),o=i.canvas}for(var g=n,m=r,v="prescale1";u>2&&g>1||f>2&&m>1;){var E=g,C=m;u>2&&g>1&&(u/=g/(E=Math.ceil(g/2))),f>2&&m>1&&(f/=m/(C=Math.ceil(m/2))),(h=(i=this.cachedCanvases.getCanvas(v,E,C)).context).clearRect(0,0,E,C),h.drawImage(o,0,0,g,m,0,0,E,C),o=i.canvas,g=E,m=C,v="prescale1"===v?"prescale2":"prescale1"}if(a.drawImage(o,0,0,g,m,0,-r,n,r),this.imageLayer){var x=this.getCanvasPosition(0,-r);this.imageLayer.appendImage({imgData:e,left:x[0],top:x[1],width:n/s[0],height:r/s[3]})}this.restore()}},paintInlineImageXObjectGroup:function(e,n){if(this.contentVisible){var r=this.ctx,a=e.width,o=e.height,i=this.cachedCanvases.getCanvas("inlineImage",a,o);t(i.context,e,this.current.transferMaps);for(var s=0,c=n.length;s<c;s++){var l=n[s];if(r.save(),r.transform.apply(r,l.transform),r.scale(1,-1),r.drawImage(i.canvas,l.x,l.y,l.w,l.h,0,-1,1,1),this.imageLayer){var u=this.getCanvasPosition(l.x,l.y);this.imageLayer.appendImage({imgData:e,left:u[0],top:u[1],width:a,height:o})}r.restore()}}},paintSolidColorImageMask:function(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)},markPoint:function(e){},markPointProps:function(e,t){},beginMarkedContent:function(e){this.markedContentStack.push({visible:!0})},beginMarkedContentProps:function(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()},endMarkedContent:function(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()},beginCompat:function(){},endCompat:function(){},consumePath:function(){var e=this.ctx;this.pendingClip&&(this.pendingClip===x?e.clip("evenodd"):e.clip(),this.pendingClip=null),e.beginPath()},getSinglePixelWidth:function(e){if(null===this._cachedGetSinglePixelWidth){var t=this.ctx.mozCurrentTransformInverse;this._cachedGetSinglePixelWidth=Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1],t[2]*t[2]+t[3]*t[3]))}return this._cachedGetSinglePixelWidth},getCanvasPosition:function(e,t){var n=this.ctx.mozCurrentTransform;return[n[0]*e+n[2]*t+n[4],n[1]*e+n[3]*t+n[5]]},isContentVisible:function(){for(var e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}},r.OPS)e.prototype[r.OPS[y]]=e.prototype[y];return e}();t.CanvasGraphics=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShadingPatternFromIR=function(e){var t=a[e[0]];if(!t)throw new Error("Unknown IR type: ".concat(e[0]));return t.fromIR(e)},t.TilingPattern=void 0;var r=n(2),a={};function o(e,t){if(t&&"undefined"!==typeof Path2D){var n=t[2]-t[0],r=t[3]-t[1],a=new Path2D;a.rect(t[0],t[1],n,r),e.clip(a)}}a.RadialAxial={fromIR:function(e){var t=e[1],n=e[2],r=e[3],a=e[4],i=e[5],s=e[6],c=e[7];return{type:"Pattern",getPattern:function(e){var l;o(e,n),"axial"===t?l=e.createLinearGradient(a[0],a[1],i[0],i[1]):"radial"===t&&(l=e.createRadialGradient(a[0],a[1],s,i[0],i[1],c));for(var u=0,p=r.length;u<p;++u){var d=r[u];l.addColorStop(d[0],d[1])}return l}}}};var i=function(){function e(e,t,n,r,a,o,i,s){var c,l=t.coords,u=t.colors,p=e.data,d=4*e.width;l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=o,o=i,i=c),l[r+1]>l[a+1]&&(c=r,r=a,a=c,c=i,i=s,s=c),l[n+1]>l[r+1]&&(c=n,n=r,r=c,c=o,o=i,i=c);var f=(l[n]+t.offsetX)*t.scaleX,h=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[a]+t.offsetX)*t.scaleX,E=(l[a+1]+t.offsetY)*t.scaleY;if(!(h>=E))for(var C,x,y,w,b,k,P,O,R=u[o],L=u[o+1],S=u[o+2],_=u[i],T=u[i+1],A=u[i+2],M=u[s],N=u[s+1],F=u[s+2],I=Math.round(h),H=Math.round(E),D=I;D<=H;D++){if(D<m){var B=void 0;C=f-(f-g)*(B=D<h?0:h===m?1:(h-D)/(h-m)),x=R-(R-_)*B,y=L-(L-T)*B,w=S-(S-A)*B}else{var W=void 0;C=g-(g-v)*(W=D>E?1:m===E?0:(m-D)/(m-E)),x=_-(_-M)*W,y=T-(T-N)*W,w=A-(A-F)*W}var j=void 0;b=f-(f-v)*(j=D<h?0:D>E?1:(h-D)/(h-E)),k=R-(R-M)*j,P=L-(L-N)*j,O=S-(S-F)*j;for(var V=Math.round(Math.min(C,b)),z=Math.round(Math.max(C,b)),q=d*D+4*V,U=V;U<=z;U++)(j=(C-U)/(C-b))<0?j=0:j>1&&(j=1),p[q++]=x-(x-k)*j|0,p[q++]=y-(y-P)*j|0,p[q++]=w-(w-O)*j|0,p[q++]=255}}function t(t,n,r){var a,o,i=n.coords,s=n.colors;switch(n.type){case"lattice":var c=n.verticesPerRow,l=Math.floor(i.length/c)-1,u=c-1;for(a=0;a<l;a++)for(var p=a*c,d=0;d<u;d++,p++)e(t,r,i[p],i[p+1],i[p+c],s[p],s[p+1],s[p+c]),e(t,r,i[p+c+1],i[p+1],i[p+c],s[p+c+1],s[p+1],s[p+c]);break;case"triangles":for(a=0,o=i.length;a<o;a+=3)e(t,r,i[a],i[a+1],i[a+2],s[a],s[a+1],s[a+2]);break;default:throw new Error("illegal figure")}}return function(e,n,r,a,o,i,s,c){var l,u,p,d,f=Math.floor(e[0]),h=Math.floor(e[1]),g=Math.ceil(e[2])-f,m=Math.ceil(e[3])-h,v=Math.min(Math.ceil(Math.abs(g*n[0]*1.1)),3e3),E=Math.min(Math.ceil(Math.abs(m*n[1]*1.1)),3e3),C=g/v,x=m/E,y={coords:r,colors:a,offsetX:-f,offsetY:-h,scaleX:1/C,scaleY:1/x},w=v+4,b=E+4;if(c.isEnabled)l=c.drawFigures({width:v,height:E,backgroundColor:i,figures:o,context:y}),(u=s.getCanvas("mesh",w,b,!1)).context.drawImage(l,2,2),l=u.canvas;else{var k=(u=s.getCanvas("mesh",w,b,!1)).context,P=k.createImageData(v,E);if(i){var O=P.data;for(p=0,d=O.length;p<d;p+=4)O[p]=i[0],O[p+1]=i[1],O[p+2]=i[2],O[p+3]=255}for(p=0;p<o.length;p++)t(P,o[p],y);k.putImageData(P,2,2),l=u.canvas}return{canvas:l,offsetX:f-2*C,offsetY:h-2*x,scaleX:C,scaleY:x}}}();a.Mesh={fromIR:function(e){var t=e[2],n=e[3],a=e[4],s=e[5],c=e[6],l=e[7],u=e[8];return{type:"Pattern",getPattern:function(e,p,d){var f;if(o(e,l),d)f=r.Util.singularValueDecompose2dScale(e.mozCurrentTransform);else if(f=r.Util.singularValueDecompose2dScale(p.baseTransform),c){var h=r.Util.singularValueDecompose2dScale(c);f=[f[0]*h[0],f[1]*h[1]]}var g=i(s,f,t,n,a,d?null:u,p.cachedCanvases,p.webGLContext);return d||(e.setTransform.apply(e,p.baseTransform),c&&e.transform.apply(e,c)),e.translate(g.offsetX,g.offsetY),e.scale(g.scaleX,g.scaleY),e.createPattern(g.canvas,"no-repeat")}}}},a.Dummy={fromIR:function(){return{type:"Pattern",getPattern:function(){return"hotpink"}}}};var s=function(){var e=1,t=2;function n(e,t,n,r,a){this.operatorList=e[2],this.matrix=e[3]||[1,0,0,1,0,0],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.canvasGraphicsFactory=r,this.baseTransform=a,this.type="Pattern",this.ctx=n}return n.prototype={createPatternCanvas:function(e){var t=this.operatorList,n=this.bbox,a=this.xstep,o=this.ystep,i=this.paintType,s=this.tilingType,c=this.color,l=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+s);var u=n[0],p=n[1],d=n[2],f=n[3],h=r.Util.singularValueDecompose2dScale(this.matrix),g=r.Util.singularValueDecompose2dScale(this.baseTransform),m=[h[0]*g[0],h[1]*g[1]],v=this.getSizeAndScale(a,this.ctx.canvas.width,m[0]),E=this.getSizeAndScale(o,this.ctx.canvas.height,m[1]),C=e.cachedCanvases.getCanvas("pattern",v.size,E.size,!0),x=C.context,y=l.createCanvasGraphics(x);return y.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(y,i,c),y.transform(v.scale,0,0,E.scale,0,0),y.transform(1,0,0,1,-u,-p),this.clipBbox(y,n,u,p,d,f),y.executeOperatorList(t),this.ctx.transform(1,0,0,1,u,p),this.ctx.scale(1/v.scale,1/E.scale),C.canvas},getSizeAndScale:function(e,t,n){e=Math.abs(e);var r=Math.max(3e3,t),a=Math.ceil(e*n);return a>=r?a=r:n=a/e,{scale:n,size:a}},clipBbox:function(e,t,n,r,a,o){if(Array.isArray(t)&&4===t.length){var i=a-n,s=o-r;e.ctx.rect(n,r,i,s),e.clip(),e.endPath()}},setFillAndStrokeStyleToContext:function(n,a,o){var i=n.ctx,s=n.current;switch(a){case e:var c=this.ctx;i.fillStyle=c.fillStyle,i.strokeStyle=c.strokeStyle,s.fillColor=c.fillStyle,s.strokeColor=c.strokeStyle;break;case t:var l=r.Util.makeCssRgb(o[0],o[1],o[2]);i.fillStyle=l,i.strokeStyle=l,s.fillColor=l,s.strokeColor=l;break;default:throw new r.FormatError("Unsupported paint type: ".concat(a))}},getPattern:function(e,t){(e=this.ctx).setTransform.apply(e,this.baseTransform),e.transform.apply(e,this.matrix);var n=this.createPatternCanvas(t);return e.createPattern(n,"repeat")}},n}();t.TilingPattern=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r,r.workerPort=void 0===r.workerPort?null:r.workerPort,r.workerSrc=void 0===r.workerSrc?"":r.workerSrc},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageHandler=void 0;var r=n(2),a=1,o=2,i=1,s=2,c=3,l=4,u=5,p=6,d=7,f=8;function h(e){if("object"!==typeof e||null===e)return e;switch(e.name){case"AbortException":return new r.AbortException(e.message);case"MissingPDFException":return new r.MissingPDFException(e.message);case"UnexpectedResponseException":return new r.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new r.UnknownErrorException(e.message,e.details);default:return new r.UnknownErrorException(e.message,e.toString())}}var g=function(){function e(t,n,r){var i=this;_classCallCheck(this,e),this.sourceName=t,this.targetName=n,this.comObj=r,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName===i.sourceName)if(t.stream)i._processStreamMessage(t);else if(t.callback){var n=t.callbackId,s=i.callbackCapabilities[n];if(!s)throw new Error("Cannot resolve callback ".concat(n));if(delete i.callbackCapabilities[n],t.callback===a)s.resolve(t.data);else{if(t.callback!==o)throw new Error("Unexpected callback case");s.reject(h(t.reason))}}else{var c=i.actionHandler[t.action];if(!c)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){var l=i.sourceName,u=t.sourceName;new Promise((function(e){e(c(t.data))})).then((function(e){r.postMessage({sourceName:l,targetName:u,callback:a,callbackId:t.callbackId,data:e})}),(function(e){r.postMessage({sourceName:l,targetName:u,callback:o,callbackId:t.callbackId,reason:h(e)})}))}else t.streamId?i._createStreamSink(t):c(t.data)}},r.addEventListener("message",this._onComObjOnMessage)}return _createClass(e,[{key:"on",value:function(e,t){var n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}},{key:"send",value:function(e,t,n){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}},{key:"sendWithPromise",value:function(e,t,n){var a=this.callbackId++,o=(0,r.createPromiseCapability)();this.callbackCapabilities[a]=o;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:a,data:t},n)}catch(i){o.reject(i)}return o.promise}},{key:"sendWithStream",value:function(e,t,n,a){var o=this,s=this.streamId++,c=this.sourceName,l=this.targetName,u=this.comObj;return new ReadableStream({start:function(n){var i=(0,r.createPromiseCapability)();return o.streamControllers[s]={controller:n,startCall:i,pullCall:null,cancelCall:null,isClosed:!1},o._postMessage({sourceName:c,targetName:l,action:e,streamId:s,data:t,desiredSize:n.desiredSize},a),i.promise},pull:function(e){var t=(0,r.createPromiseCapability)();return o.streamControllers[s].pullCall=t,u.postMessage({sourceName:c,targetName:l,stream:p,streamId:s,desiredSize:e.desiredSize}),t.promise},cancel:function(e){(0,r.assert)(e instanceof Error,"cancel must have a valid reason");var t=(0,r.createPromiseCapability)();return o.streamControllers[s].cancelCall=t,o.streamControllers[s].isClosed=!0,u.postMessage({sourceName:c,targetName:l,stream:i,streamId:s,reason:h(e)}),t.promise}},n)}},{key:"_createStreamSink",value:function(e){var t=this,n=this.actionHandler[e.action],a=e.streamId,o=this.sourceName,i=e.sourceName,s=this.comObj,p={enqueue:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2?arguments[2]:void 0;if(!this.isCancelled){var c=this.desiredSize;this.desiredSize-=n,c>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),t._postMessage({sourceName:o,targetName:i,stream:l,streamId:a,chunk:e},s)}},close:function(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:i,stream:c,streamId:a}),delete t.streamSinks[a])},error:function(e){(0,r.assert)(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:o,targetName:i,stream:u,streamId:a,reason:h(e)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};p.sinkCapability.resolve(),p.ready=p.sinkCapability.promise,this.streamSinks[a]=p,new Promise((function(t){t(n(e.data,p))})).then((function(){s.postMessage({sourceName:o,targetName:i,stream:f,streamId:a,success:!0})}),(function(e){s.postMessage({sourceName:o,targetName:i,stream:f,streamId:a,reason:h(e)})}))}},{key:"_processStreamMessage",value:function(e){var t=e.streamId,n=this.sourceName,a=e.sourceName,o=this.comObj;switch(e.stream){case f:e.success?this.streamControllers[t].startCall.resolve():this.streamControllers[t].startCall.reject(h(e.reason));break;case d:e.success?this.streamControllers[t].pullCall.resolve():this.streamControllers[t].pullCall.reject(h(e.reason));break;case p:if(!this.streamSinks[t]){o.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,success:!0});break}this.streamSinks[t].desiredSize<=0&&e.desiredSize>0&&this.streamSinks[t].sinkCapability.resolve(),this.streamSinks[t].desiredSize=e.desiredSize;var g=this.streamSinks[e.streamId].onPull;new Promise((function(e){e(g&&g())})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:a,stream:d,streamId:t,reason:h(e)})}));break;case l:if((0,r.assert)(this.streamControllers[t],"enqueue should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].controller.enqueue(e.chunk);break;case c:if((0,r.assert)(this.streamControllers[t],"close should have stream controller"),this.streamControllers[t].isClosed)break;this.streamControllers[t].isClosed=!0,this.streamControllers[t].controller.close(),this._deleteStreamController(t);break;case u:(0,r.assert)(this.streamControllers[t],"error should have stream controller"),this.streamControllers[t].controller.error(h(e.reason)),this._deleteStreamController(t);break;case s:e.success?this.streamControllers[t].cancelCall.resolve():this.streamControllers[t].cancelCall.reject(h(e.reason)),this._deleteStreamController(t);break;case i:if(!this.streamSinks[t])break;var m=this.streamSinks[e.streamId].onCancel;new Promise((function(t){t(m&&m(h(e.reason)))})).then((function(){o.postMessage({sourceName:n,targetName:a,stream:s,streamId:t,success:!0})}),(function(e){o.postMessage({sourceName:n,targetName:a,stream:s,streamId:t,reason:h(e)})})),this.streamSinks[t].sinkCapability.reject(h(e.reason)),this.streamSinks[t].isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(t){return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.allSettled([this.streamControllers[t].startCall,this.streamControllers[t].pullCall,this.streamControllers[t].cancelCall].map((function(e){return e&&e.promise})));case 2:delete this.streamControllers[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_postMessage",value:function(e,t){t&&this.postMessageTransfers?this.comObj.postMessage(e,t):this.comObj.postMessage(e)}},{key:"destroy",value:function(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]),e}();t.MessageHandler=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Metadata=void 0;var r=n(2),a=n(15),o=function(){function e(t){_classCallCheck(this,e),(0,r.assert)("string"===typeof t,"Metadata: input is not a string"),t=this._repair(t);var n=(new a.SimpleXMLParser).parseFromString(t);this._metadataMap=new Map,n&&this._parse(n)}return _createClass(e,[{key:"_repair",value:function(e){return e.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,(function(e,t){for(var n=t.replace(/\\([0-3])([0-7])([0-7])/g,(function(e,t,n,r){return String.fromCharCode(64*t+8*n+1*r)})).replace(/&(amp|apos|gt|lt|quot);/g,(function(e,t){switch(t){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error("_repair: ".concat(t," isn't defined."))})),r="",a=0,o=n.length;a<o;a+=2){var i=256*n.charCodeAt(a)+n.charCodeAt(a+1);r+=i>=32&&i<127&&60!==i&&62!==i&&38!==i?String.fromCharCode(i):"&#x"+(65536+i).toString(16).substring(1)+";"}return">"+r}))}},{key:"_parse",value:function(e){var t=e.documentElement;if("rdf:rdf"!==t.nodeName.toLowerCase())for(t=t.firstChild;t&&"rdf:rdf"!==t.nodeName.toLowerCase();)t=t.nextSibling;var n=t?t.nodeName.toLowerCase():null;if(t&&"rdf:rdf"===n&&t.hasChildNodes())for(var r=t.childNodes,a=0,o=r.length;a<o;a++){var i=r[a];if("rdf:description"===i.nodeName.toLowerCase())for(var s=0,c=i.childNodes.length;s<c;s++)if("#text"!==i.childNodes[s].nodeName.toLowerCase()){var l=i.childNodes[s],u=l.nodeName.toLowerCase();this._metadataMap.set(u,l.textContent.trim())}}}},{key:"get",value:function(e){return this._metadataMap.has(e)?this._metadataMap.get(e):null}},{key:"getAll",value:function(){return Object.fromEntries(this._metadataMap)}},{key:"has",value:function(e){return this._metadataMap.has(e)}}]),e}();t.Metadata=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleXMLParser=void 0;var r=0,a=-2,o=-3,i=-4,s=-5,c=-6,l=-9;function u(e,t){var n=e[t];return" "===n||"\n"===n||"\r"===n||"\t"===n}var p=function(){function e(){_classCallCheck(this,e)}return _createClass(e,[{key:"_resolveEntities",value:function(e){var t=this;return e.replace(/&([^;]+);/g,(function(e,n){if("#x"===n.substring(0,2))return String.fromCharCode(parseInt(n.substring(2),16));if("#"===n.substring(0,1))return String.fromCharCode(parseInt(n.substring(1),10));switch(n){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"'}return t.onResolveEntity(n)}))}},{key:"_parseContent",value:function(e,t){var n=[],r=t;function a(){for(;r<e.length&&u(e,r);)++r}for(;r<e.length&&!u(e,r)&&">"!==e[r]&&"/"!==e[r];)++r;var o=e.substring(t,r);for(a();r<e.length&&">"!==e[r]&&"/"!==e[r]&&"?"!==e[r];){a();for(var i,s="";r<e.length&&!u(e,r)&&"="!==e[r];)s+=e[r],++r;if(a(),"="!==e[r])return null;++r,a();var c=e[r];if('"'!==c&&"'"!==c)return null;var l=e.indexOf(c,++r);if(l<0)return null;i=e.substring(r,l),n.push({name:s,value:this._resolveEntities(i)}),r=l+1,a()}return{name:o,attributes:n,parsed:r-t}}},{key:"_parseProcessingInstruction",value:function(e,t){for(var n=t;n<e.length&&!u(e,n)&&">"!==e[n]&&"/"!==e[n];)++n;var r=e.substring(t,n);!function(){for(;n<e.length&&u(e,n);)++n}();for(var a=n;n<e.length&&("?"!==e[n]||">"!==e[n+1]);)++n;return{name:r,value:e.substring(a,n),parsed:n-t}}},{key:"parseXml",value:function(e){for(var t=0;t<e.length;){var n=t;if("<"===e[t]){var r=void 0;switch(e[++n]){case"/":if(++n,(r=e.indexOf(">",n))<0)return void this.onError(l);this.onEndElement(e.substring(n,r)),n=r+1;break;case"?":++n;var u=this._parseProcessingInstruction(e,n);if("?>"!==e.substring(n+u.parsed,n+u.parsed+2))return void this.onError(o);this.onPi(u.name,u.value),n+=u.parsed+2;break;case"!":if("--"===e.substring(n+1,n+3)){if((r=e.indexOf("--\x3e",n+3))<0)return void this.onError(s);this.onComment(e.substring(n+3,r)),n=r+3}else if("[CDATA["===e.substring(n+1,n+8)){if((r=e.indexOf("]]>",n+8))<0)return void this.onError(a);this.onCdata(e.substring(n+8,r)),n=r+3}else{if("DOCTYPE"!==e.substring(n+1,n+8))return void this.onError(c);var p=e.indexOf("[",n+8),d=!1;if((r=e.indexOf(">",n+8))<0)return void this.onError(i);if(p>0&&r>p){if((r=e.indexOf("]>",n+8))<0)return void this.onError(i);d=!0}var f=e.substring(n+8,r+(d?1:0));this.onDoctype(f),n=r+(d?2:1)}break;default:var h=this._parseContent(e,n);if(null===h)return void this.onError(c);var g=!1;if("/>"===e.substring(n+h.parsed,n+h.parsed+2))g=!0;else if(">"!==e.substring(n+h.parsed,n+h.parsed+1))return void this.onError(l);this.onBeginElement(h.name,h.attributes,g),n+=h.parsed+(g?2:1)}}else{for(;n<e.length&&"<"!==e[n];)n++;var m=e.substring(t,n);this.onText(this._resolveEntities(m))}t=n}}},{key:"onResolveEntity",value:function(e){return"&".concat(e,";")}},{key:"onPi",value:function(e,t){}},{key:"onComment",value:function(e){}},{key:"onCdata",value:function(e){}},{key:"onDoctype",value:function(e){}},{key:"onText",value:function(e){}},{key:"onBeginElement",value:function(e,t,n){}},{key:"onEndElement",value:function(e){}},{key:"onError",value:function(e){}}]),e}(),d=function(){function e(t,n){_classCallCheck(this,e),this.nodeName=t,this.nodeValue=n,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}return _createClass(e,[{key:"firstChild",get:function(){return this.childNodes&&this.childNodes[0]}},{key:"nextSibling",get:function(){var e=this.parentNode.childNodes;if(e){var t=e.indexOf(this);if(-1!==t)return e[t+1]}}},{key:"textContent",get:function(){return this.childNodes?this.childNodes.map((function(e){return e.textContent})).join(""):this.nodeValue||""}},{key:"hasChildNodes",value:function(){return this.childNodes&&this.childNodes.length>0}}]),e}(),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),(e=t.call(this))._currentFragment=null,e._stack=null,e._errorCode=r,e}return _createClass(n,[{key:"parseFromString",value:function(e){if(this._currentFragment=[],this._stack=[],this._errorCode=r,this.parseXml(e),this._errorCode===r){var t=_slicedToArray(this._currentFragment,1)[0];if(t)return{documentElement:t}}}},{key:"onResolveEntity",value:function(e){switch(e){case"apos":return"'"}return _get(_getPrototypeOf(n.prototype),"onResolveEntity",this).call(this,e)}},{key:"onText",value:function(e){if(!function(e){for(var t=0,n=e.length;t<n;t++)if(!u(e,t))return!1;return!0}(e)){var t=new d("#text",e);this._currentFragment.push(t)}}},{key:"onCdata",value:function(e){var t=new d("#text",e);this._currentFragment.push(t)}},{key:"onBeginElement",value:function(e,t,n){var r=new d(e);r.childNodes=[],this._currentFragment.push(r),n||(this._stack.push(this._currentFragment),this._currentFragment=r.childNodes)}},{key:"onEndElement",value:function(e){this._currentFragment=this._stack.pop()||[];var t=this._currentFragment[this._currentFragment.length-1];if(t)for(var n=0,r=t.childNodes.length;n<r;n++)t.childNodes[n].parentNode=t}},{key:"onError",value:function(e){this._errorCode=e}}]),n}(p);t.SimpleXMLParser=f},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptionalContentConfig=void 0;var r=n(2),a=function e(t,n){_classCallCheck(this,e),this.visible=!0,this.name=t,this.intent=n},o=function(){function e(t){if(_classCallCheck(this,e),this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==t){this.name=t.name,this.creator=t.creator,this._order=t.order;var n,r=_createForOfIteratorHelper(t.groups);try{for(r.s();!(n=r.n()).done;){var o=n.value;this._groups.set(o.id,new a(o.name,o.intent))}}catch(h){r.e(h)}finally{r.f()}if("OFF"===t.baseState){var i,s=_createForOfIteratorHelper(this._groups);try{for(s.s();!(i=s.n()).done;)i.value.visible=!1}catch(h){s.e(h)}finally{s.f()}}var c,l=_createForOfIteratorHelper(t.on);try{for(l.s();!(c=l.n()).done;){var u=c.value;this._groups.get(u).visible=!0}}catch(h){l.e(h)}finally{l.f()}var p,d=_createForOfIteratorHelper(t.off);try{for(d.s();!(p=d.n()).done;){var f=p.value;this._groups.get(f).visible=!1}}catch(h){d.e(h)}finally{d.f()}}}return _createClass(e,[{key:"isVisible",value:function(e){if("OCG"===e.type)return this._groups.has(e.id)?this._groups.get(e.id).visible:((0,r.warn)("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression&&(0,r.warn)("Visibility expression not supported yet."),!e.policy||"AnyOn"===e.policy){var t,n=_createForOfIteratorHelper(e.ids);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(!this._groups.has(a))return(0,r.warn)("Optional content group not found: ".concat(a)),!0;if(this._groups.get(a).visible)return!0}}catch(h){n.e(h)}finally{n.f()}return!1}if("AllOn"===e.policy){var o,i=_createForOfIteratorHelper(e.ids);try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!this._groups.has(s))return(0,r.warn)("Optional content group not found: ".concat(s)),!0;if(!this._groups.get(s).visible)return!1}}catch(h){i.e(h)}finally{i.f()}return!0}if("AnyOff"===e.policy){var c,l=_createForOfIteratorHelper(e.ids);try{for(l.s();!(c=l.n()).done;){var u=c.value;if(!this._groups.has(u))return(0,r.warn)("Optional content group not found: ".concat(u)),!0;if(!this._groups.get(u).visible)return!0}}catch(h){l.e(h)}finally{l.f()}return!1}if("AllOff"===e.policy){var p,d=_createForOfIteratorHelper(e.ids);try{for(d.s();!(p=d.n()).done;){var f=p.value;if(!this._groups.has(f))return(0,r.warn)("Optional content group not found: ".concat(f)),!0;if(this._groups.get(f).visible)return!1}}catch(h){d.e(h)}finally{d.f()}return!0}return(0,r.warn)("Unknown optional content policy ".concat(e.policy,".")),!0}return(0,r.warn)("Unknown group type ".concat(e.type,".")),!0}},{key:"setVisibility",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._groups.has(e)?this._groups.get(e).visible=!!t:(0,r.warn)("Optional content group not found: ".concat(e))}},{key:"getOrder",value:function(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}},{key:"getGroups",value:function(){return this._groups.size?Object.fromEntries(this._groups):null}},{key:"getGroup",value:function(e){return this._groups.get(e)||null}}]),e}();t.OptionalContentConfig=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFDataTransportStream=void 0;var r=n(2),a=function(){function e(t,n){var a=this;_classCallCheck(this,e),(0,r.assert)(n,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=t.progressiveDone||!1;var o=t.initialData;if(o&&o.length>0){var i=new Uint8Array(o).buffer;this._queuedChunks.push(i)}this._pdfDataRangeTransport=n,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._contentLength=t.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((function(e,t){a._onReceiveData({begin:e,chunk:t})})),this._pdfDataRangeTransport.addProgressListener((function(e,t){a._onProgress({loaded:e,total:t})})),this._pdfDataRangeTransport.addProgressiveReadListener((function(e){a._onReceiveData({chunk:e})})),this._pdfDataRangeTransport.addProgressiveDoneListener((function(){a._onProgressiveDone()})),this._pdfDataRangeTransport.transportReady()}return _createClass(e,[{key:"_onReceiveData",value:function(e){var t=new Uint8Array(e.chunk).buffer;if(void 0===e.begin)this._fullRequestReader?this._fullRequestReader._enqueue(t):this._queuedChunks.push(t);else{var n=this._rangeReaders.some((function(n){return n._begin===e.begin&&(n._enqueue(t),!0)}));(0,r.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"_onProgress",value:function(e){if(void 0===e.total){var t=this._rangeReaders[0];t&&t.onProgress&&t.onProgress({loaded:e.loaded})}else{var n=this._fullRequestReader;n&&n.onProgress&&n.onProgress({loaded:e.loaded,total:e.total})}}},{key:"_onProgressiveDone",value:function(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}},{key:"_removeRangeReader",value:function(e){var t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}},{key:"getFullReader",value:function(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var e=this._queuedChunks;return this._queuedChunks=null,new o(this,e,this._progressiveDone)}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new i(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeReaders.slice(0).forEach((function(t){t.cancel(e)})),this._pdfDataRangeTransport.abort()}}]),e}();t.PDFDataTransportStream=a;var o=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this._stream=t,this._done=r||!1,this._filename=null,this._queuedChunks=n||[],this._loaded=0;var a,o=_createForOfIteratorHelper(this._queuedChunks);try{for(o.s();!(a=o.n()).done;){var i=a.value;this._loaded+=i.byteLength}}catch(s){o.e(s)}finally{o.f()}this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}},{key:"headersReady",get:function(){return this._headersReady}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function(){return this._stream._contentLength}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this._queuedChunks.length>0)){e.next=3;break}return t=this._queuedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 3:if(!this._done){e.next=5;break}return e.abrupt("return",{value:void 0,done:!0});case 5:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]}},{key:"progressiveDone",value:function(){this._done||(this._done=!0)}}]),e}(),i=function(){function e(t,n,r){_classCallCheck(this,e),this._stream=t,this._begin=n,this._end=r,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}return _createClass(e,[{key:"_enqueue",value:function(e){this._done||(0===this._requests.length?this._queuedChunk=e:(this._requests.shift().resolve({value:e,done:!1}),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[]),this._done=!0,this._stream._removeRangeReader(this))}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._stream._removeRangeReader(this)}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebGLContext=void 0;var r=n(2),a=function(){function e(t){var n=t.enable,r=void 0!==n&&n;_classCallCheck(this,e),this._enabled=!0===r}return _createClass(e,[{key:"isEnabled",get:function(){var e=this._enabled;return e&&(e=o.tryInitGL()),(0,r.shadow)(this,"isEnabled",e)}},{key:"composeSMask",value:function(e){var t=e.layer,n=e.mask,r=e.properties;return o.composeSMask(t,n,r)}},{key:"drawFigures",value:function(e){var t=e.width,n=e.height,r=e.backgroundColor,a=e.figures,i=e.context;return o.drawFigures(t,n,r,a,i)}},{key:"clear",value:function(){o.cleanup()}}]),e}();t.WebGLContext=a;var o=function(){function e(e,t,n){var r=e.createShader(n);if(e.shaderSource(r,t),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var a=e.getShaderInfoLog(r);throw new Error("Error during shader compilation: "+a)}return r}function t(t,n){return e(t,n,t.VERTEX_SHADER)}function n(t,n){return e(t,n,t.FRAGMENT_SHADER)}function r(e,t){for(var n=e.createProgram(),r=0,a=t.length;r<a;++r)e.attachShader(n,t[r]);if(e.linkProgram(n),!e.getProgramParameter(n,e.LINK_STATUS)){var o=e.getProgramInfoLog(n);throw new Error("Error during program linking: "+o)}return n}function a(e,t,n){e.activeTexture(n);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),r}var o,i;function s(){o||(i=document.createElement("canvas"),o=i.getContext("webgl",{premultipliedalpha:!1}))}var c=null,l=null;return{tryInitGL:function(){try{return s(),!!o}catch(e){}return!1},composeSMask:function(e,l,u){var p=e.width,d=e.height;c||function(){var e,a;s(),e=i,i=null,a=o,o=null;var l=r(a,[t(a,"  attribute vec2 a_position;                                      attribute vec2 a_texCoord;                                                                                                      uniform vec2 u_resolution;                                                                                                      varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec2 clipSpace = (a_position / u_resolution) * 2.0 - 1.0;       gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_texCoord = a_texCoord;                                      }                                                             "),n(a,"  precision mediump float;                                                                                                        uniform vec4 u_backdrop;                                        uniform int u_subtype;                                          uniform sampler2D u_image;                                      uniform sampler2D u_mask;                                                                                                       varying vec2 v_texCoord;                                                                                                        void main() {                                                     vec4 imageColor = texture2D(u_image, v_texCoord);               vec4 maskColor = texture2D(u_mask, v_texCoord);                 if (u_backdrop.a > 0.0) {                                         maskColor.rgb = maskColor.rgb * maskColor.a +                                   u_backdrop.rgb * (1.0 - maskColor.a);         }                                                               float lum;                                                      if (u_subtype == 0) {                                             lum = maskColor.a;                                            } else {                                                          lum = maskColor.r * 0.3 + maskColor.g * 0.59 +                        maskColor.b * 0.11;                                     }                                                               imageColor.a *= lum;                                            imageColor.rgb *= imageColor.a;                                 gl_FragColor = imageColor;                                    }                                                             ")]);a.useProgram(l);var u={};u.gl=a,u.canvas=e,u.resolutionLocation=a.getUniformLocation(l,"u_resolution"),u.positionLocation=a.getAttribLocation(l,"a_position"),u.backdropLocation=a.getUniformLocation(l,"u_backdrop"),u.subtypeLocation=a.getUniformLocation(l,"u_subtype");var p=a.getAttribLocation(l,"a_texCoord"),d=a.getUniformLocation(l,"u_image"),f=a.getUniformLocation(l,"u_mask"),h=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,h),a.bufferData(a.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,0,1,1,0,1,1]),a.STATIC_DRAW),a.enableVertexAttribArray(p),a.vertexAttribPointer(p,2,a.FLOAT,!1,0,0),a.uniform1i(d,0),a.uniform1i(f,1),c=u}();var f=c,h=f.canvas,g=f.gl;h.width=p,h.height=d,g.viewport(0,0,g.drawingBufferWidth,g.drawingBufferHeight),g.uniform2f(f.resolutionLocation,p,d),u.backdrop?g.uniform4f(f.resolutionLocation,u.backdrop[0],u.backdrop[1],u.backdrop[2],1):g.uniform4f(f.resolutionLocation,0,0,0,0),g.uniform1i(f.subtypeLocation,"Luminosity"===u.subtype?1:0);var m=a(g,e,g.TEXTURE0),v=a(g,l,g.TEXTURE1),E=g.createBuffer();return g.bindBuffer(g.ARRAY_BUFFER,E),g.bufferData(g.ARRAY_BUFFER,new Float32Array([0,0,p,0,0,d,0,d,p,0,p,d]),g.STATIC_DRAW),g.enableVertexAttribArray(f.positionLocation),g.vertexAttribPointer(f.positionLocation,2,g.FLOAT,!1,0,0),g.clearColor(0,0,0,0),g.enable(g.BLEND),g.blendFunc(g.ONE,g.ONE_MINUS_SRC_ALPHA),g.clear(g.COLOR_BUFFER_BIT),g.drawArrays(g.TRIANGLES,0,6),g.flush(),g.deleteTexture(m),g.deleteTexture(v),g.deleteBuffer(E),h},drawFigures:function(e,a,c,u,p){l||function(){var e,a;s(),e=i,i=null,a=o,o=null;var c=r(a,[t(a,"  attribute vec2 a_position;                                      attribute vec3 a_color;                                                                                                         uniform vec2 u_resolution;                                      uniform vec2 u_scale;                                           uniform vec2 u_offset;                                                                                                          varying vec4 v_color;                                                                                                           void main() {                                                     vec2 position = (a_position + u_offset) * u_scale;              vec2 clipSpace = (position / u_resolution) * 2.0 - 1.0;         gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);                                                                              v_color = vec4(a_color / 255.0, 1.0);                         }                                                             "),n(a,"  precision mediump float;                                                                                                        varying vec4 v_color;                                                                                                           void main() {                                                     gl_FragColor = v_color;                                       }                                                             ")]);a.useProgram(c);var u={};u.gl=a,u.canvas=e,u.resolutionLocation=a.getUniformLocation(c,"u_resolution"),u.scaleLocation=a.getUniformLocation(c,"u_scale"),u.offsetLocation=a.getUniformLocation(c,"u_offset"),u.positionLocation=a.getAttribLocation(c,"a_position"),u.colorLocation=a.getAttribLocation(c,"a_color"),l=u}();var d=l,f=d.canvas,h=d.gl;f.width=e,f.height=a,h.viewport(0,0,h.drawingBufferWidth,h.drawingBufferHeight),h.uniform2f(d.resolutionLocation,e,a);var g,m,v,E=0;for(g=0,m=u.length;g<m;g++)switch(u[g].type){case"lattice":E+=((v=u[g].coords.length/u[g].verticesPerRow|0)-1)*(u[g].verticesPerRow-1)*6;break;case"triangles":E+=u[g].coords.length}var C=new Float32Array(2*E),x=new Uint8Array(3*E),y=p.coords,w=p.colors,b=0,k=0;for(g=0,m=u.length;g<m;g++){var P=u[g],O=P.coords,R=P.colors;switch(P.type){case"lattice":var L=P.verticesPerRow;v=O.length/L|0;for(var S=1;S<v;S++)for(var _=S*L+1,T=1;T<L;T++,_++)C[b]=y[O[_-L-1]],C[b+1]=y[O[_-L-1]+1],C[b+2]=y[O[_-L]],C[b+3]=y[O[_-L]+1],C[b+4]=y[O[_-1]],C[b+5]=y[O[_-1]+1],x[k]=w[R[_-L-1]],x[k+1]=w[R[_-L-1]+1],x[k+2]=w[R[_-L-1]+2],x[k+3]=w[R[_-L]],x[k+4]=w[R[_-L]+1],x[k+5]=w[R[_-L]+2],x[k+6]=w[R[_-1]],x[k+7]=w[R[_-1]+1],x[k+8]=w[R[_-1]+2],C[b+6]=C[b+2],C[b+7]=C[b+3],C[b+8]=C[b+4],C[b+9]=C[b+5],C[b+10]=y[O[_]],C[b+11]=y[O[_]+1],x[k+9]=x[k+3],x[k+10]=x[k+4],x[k+11]=x[k+5],x[k+12]=x[k+6],x[k+13]=x[k+7],x[k+14]=x[k+8],x[k+15]=w[R[_]],x[k+16]=w[R[_]+1],x[k+17]=w[R[_]+2],b+=12,k+=18;break;case"triangles":for(var A=0,M=O.length;A<M;A++)C[b]=y[O[A]],C[b+1]=y[O[A]+1],x[k]=w[R[A]],x[k+1]=w[R[A]+1],x[k+2]=w[R[A]+2],b+=2,k+=3}}c?h.clearColor(c[0]/255,c[1]/255,c[2]/255,1):h.clearColor(0,0,0,0),h.clear(h.COLOR_BUFFER_BIT);var N=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,N),h.bufferData(h.ARRAY_BUFFER,C,h.STATIC_DRAW),h.enableVertexAttribArray(d.positionLocation),h.vertexAttribPointer(d.positionLocation,2,h.FLOAT,!1,0,0);var F=h.createBuffer();return h.bindBuffer(h.ARRAY_BUFFER,F),h.bufferData(h.ARRAY_BUFFER,x,h.STATIC_DRAW),h.enableVertexAttribArray(d.colorLocation),h.vertexAttribPointer(d.colorLocation,3,h.UNSIGNED_BYTE,!1,0,0),h.uniform2f(d.scaleLocation,p.scaleX,p.scaleY),h.uniform2f(d.offsetLocation,p.offsetX,p.offsetY),h.drawArrays(h.TRIANGLES,0,E),h.flush(),h.deleteBuffer(N),h.deleteBuffer(F),f},cleanup:function(){c&&c.canvas&&(c.canvas.width=0,c.canvas.height=0),l&&l.canvas&&(l.canvas.width=0,l.canvas.height=0),c=null,l=null}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationLayer=void 0;var r=n(1),a=n(2),o=n(8),i=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"create",value:function(e){switch(e.data.annotationType){case a.AnnotationType.LINK:return new c(e);case a.AnnotationType.TEXT:return new l(e);case a.AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new p(e);case"Btn":return e.data.radioButton?new f(e):e.data.checkBox?new d(e):new h(e);case"Ch":return new g(e)}return new u(e);case a.AnnotationType.POPUP:return new m(e);case a.AnnotationType.FREETEXT:return new E(e);case a.AnnotationType.LINE:return new C(e);case a.AnnotationType.SQUARE:return new x(e);case a.AnnotationType.CIRCLE:return new y(e);case a.AnnotationType.POLYLINE:return new w(e);case a.AnnotationType.CARET:return new k(e);case a.AnnotationType.INK:return new P(e);case a.AnnotationType.POLYGON:return new b(e);case a.AnnotationType.HIGHLIGHT:return new O(e);case a.AnnotationType.UNDERLINE:return new R(e);case a.AnnotationType.SQUIGGLY:return new L(e);case a.AnnotationType.STRIKEOUT:return new S(e);case a.AnnotationType.STAMP:return new _(e);case a.AnnotationType.FILEATTACHMENT:return new T(e);default:return new s(e)}}}]),e}(),s=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck(this,e),this.isRenderable=n,this.data=t.data,this.layer=t.layer,this.page=t.page,this.viewport=t.viewport,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderInteractiveForms=t.renderInteractiveForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,n&&(this.container=this._createContainer(r))}return _createClass(e,[{key:"_createContainer",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.data,n=this.page,r=this.viewport,o=document.createElement("section"),i=t.rect[2]-t.rect[0],s=t.rect[3]-t.rect[1];o.setAttribute("data-annotation-id",t.id);var c=a.Util.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]);if(o.style.transform="matrix(".concat(r.transform.join(","),")"),o.style.transformOrigin="-".concat(c[0],"px -").concat(c[1],"px"),!e&&t.borderStyle.width>0){o.style.borderWidth="".concat(t.borderStyle.width,"px"),t.borderStyle.style!==a.AnnotationBorderStyleType.UNDERLINE&&(i-=2*t.borderStyle.width,s-=2*t.borderStyle.width);var l=t.borderStyle.horizontalCornerRadius,u=t.borderStyle.verticalCornerRadius;if(l>0||u>0){var p="".concat(l,"px / ").concat(u,"px");o.style.borderRadius=p}switch(t.borderStyle.style){case a.AnnotationBorderStyleType.SOLID:o.style.borderStyle="solid";break;case a.AnnotationBorderStyleType.DASHED:o.style.borderStyle="dashed";break;case a.AnnotationBorderStyleType.BEVELED:(0,a.warn)("Unimplemented border style: beveled");break;case a.AnnotationBorderStyleType.INSET:(0,a.warn)("Unimplemented border style: inset");break;case a.AnnotationBorderStyleType.UNDERLINE:o.style.borderBottomStyle="solid"}t.color?o.style.borderColor=a.Util.makeCssRgb(0|t.color[0],0|t.color[1],0|t.color[2]):o.style.borderWidth=0}return o.style.left="".concat(c[0],"px"),o.style.top="".concat(c[1],"px"),o.style.width="".concat(i,"px"),o.style.height="".concat(s,"px"),o}},{key:"_createPopup",value:function(e,t,n){t||((t=document.createElement("div")).style.height=e.style.height,t.style.width=e.style.width,e.appendChild(t));var r=new v({container:e,trigger:t,color:n.color,title:n.title,modificationDate:n.modificationDate,contents:n.contents,hideWrapper:!0}).render();r.style.left=e.style.width,e.appendChild(r)}},{key:"render",value:function(){(0,a.unreachable)("Abstract method `AnnotationElement.render` called")}}]),e}(),c=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.url||e.data.dest||e.data.action);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){this.container.className="linkAnnotation";var e=this.data,t=this.linkService,n=document.createElement("a");return e.url?(0,r.addLinkAttributes)(n,{url:e.url,target:e.newWindow?r.LinkTarget.BLANK:t.externalLinkTarget,rel:t.externalLinkRel,enabled:t.externalLinkEnabled}):e.action?this._bindNamedAction(n,e.action):this._bindLink(n,e.dest),this.container.appendChild(n),this.container}},{key:"_bindLink",value:function(e,t){var n=this;e.href=this.linkService.getDestinationHash(t),e.onclick=function(){return t&&n.linkService.navigateTo(t),!1},t&&(e.className="internalLink")}},{key:"_bindNamedAction",value:function(e,t){var n=this;e.href=this.linkService.getAnchorUrl(""),e.onclick=function(){return n.linkService.executeNamedAction(t),!1},e.className="internalLink"}}]),n}(s),l=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){this.container.className="textAnnotation";var e=document.createElement("img");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.alt="[{{type}} Annotation]",e.dataset.l10nId="text_annotation_type",e.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}}]),n}(s),u=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){return this.container}}]),n}(s),p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=e.renderInteractiveForms||!e.data.hasAppearance&&!!e.data.fieldValue;return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){var e=this.annotationStorage,t=this.data.id;this.container.className="textWidgetAnnotation";var n=null;if(this.renderInteractiveForms){var r=e.getOrCreateValue(t,this.data.fieldValue);if(this.data.multiLine?(n=document.createElement("textarea")).textContent=r:((n=document.createElement("input")).type="text",n.setAttribute("value",r)),n.addEventListener("input",(function(n){e.setValue(t,n.target.value)})),n.disabled=this.data.readOnly,n.name=this.data.fieldName,null!==this.data.maxLen&&(n.maxLength=this.data.maxLen),this.data.comb){var a=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(a,"px - 1ch)")}}else{(n=document.createElement("div")).textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell";var o=null;this.data.fontRefName&&this.page.commonObjs.has(this.data.fontRefName)&&(o=this.page.commonObjs.get(this.data.fontRefName)),this._setTextStyle(n,o)}return null!==this.data.textAlignment&&(n.style.textAlign=["left","center","right"][this.data.textAlignment]),this.container.appendChild(n),this.container}},{key:"_setTextStyle",value:function(e,t){var n=e.style;if(n.fontSize="".concat(this.data.fontSize,"px"),n.direction=this.data.fontDirection<0?"rtl":"ltr",t){var r="normal";t.black?r="900":t.bold&&(r="bold"),n.fontWeight=r,n.fontStyle=t.italic?"italic":"normal";var a=t.loadedName?'"'.concat(t.loadedName,'", '):"",o=t.fallbackName||"Helvetica, sans-serif";n.fontFamily=a+o}}}]),n}(u),d=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){var e=this.annotationStorage,t=this.data,n=t.id,r=e.getOrCreateValue(n,t.fieldValue&&"Off"!==t.fieldValue);this.container.className="buttonWidgetAnnotation checkBox";var a=document.createElement("input");return a.disabled=t.readOnly,a.type="checkbox",a.name=this.data.fieldName,r&&a.setAttribute("checked",!0),a.addEventListener("change",(function(t){e.setValue(n,t.target.checked)})),this.container.appendChild(a),this.container}}]),n}(u),f=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="buttonWidgetAnnotation radioButton";var e=this.annotationStorage,t=this.data,n=t.id,r=e.getOrCreateValue(n,t.fieldValue===t.buttonValue),a=document.createElement("input");return a.disabled=t.readOnly,a.type="radio",a.name=t.fieldName,r&&a.setAttribute("checked",!0),a.addEventListener("change",(function(t){var r,a=t.target.name,o=_createForOfIteratorHelper(document.getElementsByName(a));try{for(o.s();!(r=o.n()).done;){var i=r.value;i!==t.target&&e.setValue(i.parentNode.getAttribute("data-annotation-id"),!1)}}catch(s){o.e(s)}finally{o.f()}e.setValue(n,t.target.checked)})),this.container.appendChild(a),this.container}}]),n}(u),h=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck(this,n),t.apply(this,arguments)}return _createClass(n,[{key:"render",value:function(){var e=_get(_getPrototypeOf(n.prototype),"render",this).call(this);return e.className="buttonWidgetAnnotation pushButton",e}}]),n}(c),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck(this,n),t.call(this,e,e.renderInteractiveForms)}return _createClass(n,[{key:"render",value:function(){this.container.className="choiceWidgetAnnotation";var e=this.annotationStorage,t=this.data.id;e.getOrCreateValue(t,this.data.fieldValue.length>0?this.data.fieldValue[0]:null);var n=document.createElement("select");n.disabled=this.data.readOnly,n.name=this.data.fieldName,this.data.combo||(n.size=this.data.options.length,this.data.multiSelect&&(n.multiple=!0));var r,a=_createForOfIteratorHelper(this.data.options);try{for(a.s();!(r=a.n()).done;){var o=r.value,i=document.createElement("option");i.textContent=o.displayValue,i.value=o.exportValue,this.data.fieldValue.includes(o.exportValue)&&i.setAttribute("selected",!0),n.appendChild(i)}}catch(s){a.e(s)}finally{a.f()}return n.addEventListener("input",(function(n){var r=n.target.options,a=r[r.selectedIndex].value;e.setValue(t,a)})),this.container.appendChild(n),this.container}}]),n}(u),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!(!e.data.title&&!e.data.contents);return t.call(this,e,r)}return _createClass(n,[{key:"render",value:function(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;var e='[data-annotation-id="'.concat(this.data.parentId,'"]'),t=this.layer.querySelector(e);if(!t)return this.container;var n=new v({container:this.container,trigger:t,color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),r=parseFloat(t.style.left),a=parseFloat(t.style.width);return this.container.style.transformOrigin="-".concat(r+a,"px -").concat(t.style.top),this.container.style.left="".concat(r+a,"px"),this.container.appendChild(n.render()),this.container}}]),n}(s),v=function(){function e(t){_classCallCheck(this,e),this.container=t.container,this.trigger=t.trigger,this.color=t.color,this.title=t.title,this.modificationDate=t.modificationDate,this.contents=t.contents,this.hideWrapper=t.hideWrapper||!1,this.pinned=!1}return _createClass(e,[{key:"render",value:function(){var e=document.createElement("div");e.className="popupWrapper",this.hideElement=this.hideWrapper?e:this.container,this.hideElement.setAttribute("hidden",!0);var t=document.createElement("div");t.className="popup";var n=this.color;if(n){var o=.7*(255-n[0])+n[0],i=.7*(255-n[1])+n[1],s=.7*(255-n[2])+n[2];t.style.backgroundColor=a.Util.makeCssRgb(0|o,0|i,0|s)}var c=document.createElement("h1");c.textContent=this.title,t.appendChild(c);var l=r.PDFDateString.toDateObject(this.modificationDate);if(l){var u=document.createElement("span");u.textContent="{{date}}, {{time}}",u.dataset.l10nId="annotation_date_string",u.dataset.l10nArgs=JSON.stringify({date:l.toLocaleDateString(),time:l.toLocaleTimeString()}),t.appendChild(u)}var p=this._formatContents(this.contents);return t.appendChild(p),this.trigger.addEventListener("click",this._toggle.bind(this)),this.trigger.addEventListener("mouseover",this._show.bind(this,!1)),this.trigger.addEventListener("mouseout",this._hide.bind(this,!1)),t.addEventListener("click",this._hide.bind(this,!0)),e.appendChild(t),e}},{key:"_formatContents",value:function(e){for(var t=document.createElement("p"),n=e.split(/(?:\r\n?|\n)/),r=0,a=n.length;r<a;++r){var o=n[r];t.appendChild(document.createTextNode(o)),r<a-1&&t.appendChild(document.createElement("br"))}return t}},{key:"_toggle",value:function(){this.pinned?this._hide(!0):this._show(!0)}},{key:"_show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.pinned=!0),this.hideElement.hasAttribute("hidden")&&(this.hideElement.removeAttribute("hidden"),this.container.style.zIndex+=1)}},{key:"_hide",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(this.pinned=!1),this.hideElement.hasAttribute("hidden")||this.pinned||(this.hideElement.setAttribute("hidden",!0),this.container.style.zIndex-=1)}}]),e}(),E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),C=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="lineAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=this.svgFactory.createElement("svg:line");return a.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),a.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),a.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),a.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),a.setAttribute("stroke-width",e.borderStyle.width||1),a.setAttribute("stroke","transparent"),r.appendChild(a),this.container.append(r),this._createPopup(this.container,a,e),this.container}}]),n}(s),x=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="squareAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:rect");return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",t-a),o.setAttribute("height",n-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(s),y=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){this.container.className="circleAnnotation";var e=this.data,t=e.rect[2]-e.rect[0],n=e.rect[3]-e.rect[1],r=this.svgFactory.create(t,n),a=e.borderStyle.width,o=this.svgFactory.createElement("svg:ellipse");return o.setAttribute("cx",t/2),o.setAttribute("cy",n/2),o.setAttribute("rx",t/2-a/2),o.setAttribute("ry",n/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","none"),r.appendChild(o),this.container.append(r),this._createPopup(this.container,o,e),this.container}}]),n}(s),w=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var a=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,a,!0)).containerClassName="polylineAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],a=this.svgFactory.create(n,r),o=[],i=_createForOfIteratorHelper(t.vertices);try{for(i.s();!(e=i.n()).done;){var s=e.value,c=s.x-t.rect[0],l=t.rect[3]-s.y;o.push(c+","+l)}}catch(p){i.e(p)}finally{i.f()}o=o.join(" ");var u=this.svgFactory.createElement(this.svgElementName);return u.setAttribute("points",o),u.setAttribute("stroke-width",t.borderStyle.width||1),u.setAttribute("stroke","transparent"),u.setAttribute("fill","none"),a.appendChild(u),this.container.append(a),this._createPopup(this.container,u,t),this.container}}]),n}(s),b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck(this,n),(r=t.call(this,e)).containerClassName="polygonAnnotation",r.svgElementName="svg:polygon",r}return n}(w),k=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;_classCallCheck(this,n);var a=!!(e.data.hasPopup||e.data.title||e.data.contents);return(r=t.call(this,e,a,!0)).containerClassName="inkAnnotation",r.svgElementName="svg:polyline",r}return _createClass(n,[{key:"render",value:function(){this.container.className=this.containerClassName;var e,t=this.data,n=t.rect[2]-t.rect[0],r=t.rect[3]-t.rect[1],a=this.svgFactory.create(n,r),o=_createForOfIteratorHelper(t.inkLists);try{for(o.s();!(e=o.n()).done;){var i,s=e.value,c=[],l=_createForOfIteratorHelper(s);try{for(l.s();!(i=l.n()).done;){var u=i.value,p=u.x-t.rect[0],d=t.rect[3]-u.y;c.push("".concat(p,",").concat(d))}}catch(h){l.e(h)}finally{l.f()}c=c.join(" ");var f=this.svgFactory.createElement(this.svgElementName);f.setAttribute("points",c),f.setAttribute("stroke-width",t.borderStyle.width||1),f.setAttribute("stroke","transparent"),f.setAttribute("fill","none"),this._createPopup(this.container,f,t),a.appendChild(f)}}catch(h){o.e(h)}finally{o.f()}return this.container.append(a),this.container}}]),n}(s),O=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="highlightAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),R=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="underlineAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),L=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="squigglyAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),S=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="strikeoutAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),_=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){_classCallCheck(this,n);var r=!!(e.data.hasPopup||e.data.title||e.data.contents);return t.call(this,e,r,!0)}return _createClass(n,[{key:"render",value:function(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(this.container,null,this.data),this.container}}]),n}(s),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var o;_classCallCheck(this,n);var i=(o=t.call(this,e,!0)).data.file,s=i.filename,c=i.content;return o.filename=(0,r.getFilenameFromUrl)(s),o.content=c,o.linkService.eventBus&&o.linkService.eventBus.dispatch("fileattachmentannotation",{source:_assertThisInitialized(o),id:(0,a.stringToPDFString)(s),filename:s,content:c}),o}return _createClass(n,[{key:"render",value:function(){this.container.className="fileAttachmentAnnotation";var e=document.createElement("div");return e.style.height=this.container.style.height,e.style.width=this.container.style.width,e.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(this.container,e,this.data),this.container.appendChild(e),this.container}},{key:"_download",value:function(){this.downloadManager?this.downloadManager.downloadData(this.content,this.filename,""):(0,a.warn)("Download cannot be started due to unavailable download manager")}}]),n}(s),A=function(){function e(){_classCallCheck(this,e)}return _createClass(e,null,[{key:"render",value:function(e){var t,n=[],s=[],c=_createForOfIteratorHelper(e.annotations);try{for(c.s();!(t=c.n()).done;){var l=t.value;l&&(l.annotationType!==a.AnnotationType.POPUP?n.push(l):s.push(l))}}catch(h){c.e(h)}finally{c.f()}s.length&&n.push.apply(n,s);for(var u=0,p=n;u<p.length;u++){var d=p[u],f=i.create({data:d,layer:e.div,page:e.page,viewport:e.viewport,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderInteractiveForms:"boolean"!==typeof e.renderInteractiveForms||e.renderInteractiveForms,svgFactory:new r.DOMSVGFactory,annotationStorage:e.annotationStorage||new o.AnnotationStorage});f.isRenderable&&e.div.appendChild(f.render())}}},{key:"update",value:function(e){var t,n=_createForOfIteratorHelper(e.annotations);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=e.div.querySelector('[data-annotation-id="'.concat(r.id,'"]'));a&&(a.style.transform="matrix(".concat(e.viewport.transform.join(","),")"))}}catch(o){n.e(o)}finally{n.f()}e.div.removeAttribute("hidden")}}]),e}();t.AnnotationLayer=A},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderTextLayer=void 0;var r=n(2),a=function(){var e=/\S/;function t(t,n,a){var o,i=document.createElement("span"),s={angle:0,canvasWidth:0,isWhitespace:!1,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};if(t._textDivs.push(i),o=n.str,!e.test(o))return s.isWhitespace=!0,void t._textDivProperties.set(i,s);var c=r.Util.transform(t._viewport.transform,n.transform),l=Math.atan2(c[1],c[0]),u=a[n.fontName];u.vertical&&(l+=Math.PI/2);var p,d,f=Math.sqrt(c[2]*c[2]+c[3]*c[3]),h=f;u.ascent?h=u.ascent*h:u.descent&&(h=(1+u.descent)*h),0===l?(p=c[4],d=c[5]-h):(p=c[4]+h*Math.sin(l),d=c[5]-h*Math.cos(l)),i.style.left="".concat(p,"px"),i.style.top="".concat(d,"px"),i.style.fontSize="".concat(f,"px"),i.style.fontFamily=u.fontFamily,i.textContent=n.str,t._fontInspectorEnabled&&(i.dataset.fontName=n.fontName),0!==l&&(s.angle=l*(180/Math.PI));var g=!1;if(n.str.length>1)g=!0;else if(n.transform[0]!==n.transform[3]){var m=Math.abs(n.transform[0]),v=Math.abs(n.transform[3]);m!==v&&Math.max(m,v)/Math.min(m,v)>1.5&&(g=!0)}if(g&&(u.vertical?s.canvasWidth=n.height*t._viewport.scale:s.canvasWidth=n.width*t._viewport.scale),t._textDivProperties.set(i,s),t._textContentStream&&t._layoutText(i),t._enhanceTextSelection){var E=1,C=0;0!==l&&(E=Math.cos(l),C=Math.sin(l));var x,y,w=(u.vertical?n.height:n.width)*t._viewport.scale,b=f;0!==l?(x=[E,C,-C,E,p,d],y=r.Util.getAxialAlignedBoundingBox([0,0,w,b],x)):y=[p,d,p+w,d+b],t._bounds.push({left:y[0],top:y[1],right:y[2],bottom:y[3],div:i,size:[w,b],m:x})}}function n(e){if(!e._canceled){var t=e._textDivs,n=e._capability,r=t.length;if(r>1e5)return e._renderingDone=!0,void n.resolve();if(!e._textContentStream)for(var a=0;a<r;a++)e._layoutText(t[a]);e._renderingDone=!0,n.resolve()}}function a(e,t,n){for(var r=0,a=0;a<n;a++){var o=e[t++];o>0&&(r=r?Math.min(o,r):o)}return r}function o(e){for(var t=e._bounds,n=e._viewport,o=function(e,t,n){var r=n.map((function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:void 0,x2New:void 0}}));i(e,r);var a=new Array(n.length);return r.forEach((function(e){var t=e.index;a[t]={left:e.x1New,top:0,right:e.x2New,bottom:0}})),n.map((function(t,n){var o=a[n],i=r[n];i.x1=t.top,i.y1=e-o.right,i.x2=t.bottom,i.y2=e-o.left,i.index=n,i.x1New=void 0,i.x2New=void 0})),i(t,r),r.forEach((function(e){var t=e.index;a[t].top=e.x1New,a[t].bottom=e.x2New})),a}(n.width,n.height,t),s=0;s<o.length;s++){var c=t[s].div,l=e._textDivProperties.get(c);if(0!==l.angle){var u=o[s],p=t[s],d=p.m,f=d[0],h=d[1],g=[[0,0],[0,p.size[1]],[p.size[0],0],p.size],m=new Float64Array(64);g.forEach((function(e,t){var n=r.Util.applyTransform(e,d);m[t+0]=f&&(u.left-n[0])/f,m[t+4]=h&&(u.top-n[1])/h,m[t+8]=f&&(u.right-n[0])/f,m[t+12]=h&&(u.bottom-n[1])/h,m[t+16]=h&&(u.left-n[0])/-h,m[t+20]=f&&(u.top-n[1])/f,m[t+24]=h&&(u.right-n[0])/-h,m[t+28]=f&&(u.bottom-n[1])/f,m[t+32]=f&&(u.left-n[0])/-f,m[t+36]=h&&(u.top-n[1])/-h,m[t+40]=f&&(u.right-n[0])/-f,m[t+44]=h&&(u.bottom-n[1])/-h,m[t+48]=h&&(u.left-n[0])/h,m[t+52]=f&&(u.top-n[1])/-f,m[t+56]=h&&(u.right-n[0])/h,m[t+60]=f&&(u.bottom-n[1])/-f}));var v=1+Math.min(Math.abs(f),Math.abs(h));l.paddingLeft=a(m,32,16)/v,l.paddingTop=a(m,48,16)/v,l.paddingRight=a(m,0,16)/v,l.paddingBottom=a(m,16,16)/v,e._textDivProperties.set(c,l)}else l.paddingLeft=t[s].left-o[s].left,l.paddingTop=t[s].top-o[s].top,l.paddingRight=o[s].right-t[s].right,l.paddingBottom=o[s].bottom-t[s].bottom,e._textDivProperties.set(c,l)}}function i(e,t){t.sort((function(e,t){return e.x1-t.x1||e.index-t.index}));var n=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];t.forEach((function(e){for(var t=0;t<n.length&&n[t].end<=e.y1;)t++;for(var r,a,o=n.length-1;o>=0&&n[o].start>=e.y2;)o--;var i,s,c=-1/0;for(i=t;i<=o;i++){var l;(l=(a=(r=n[i]).boundary).x2>e.x1?a.index>e.index?a.x1New:e.x1:void 0===a.x2New?(a.x2+e.x1)/2:a.x2New)>c&&(c=l)}for(e.x1New=c,i=t;i<=o;i++)void 0===(a=(r=n[i]).boundary).x2New?a.x2>e.x1?a.index>e.index&&(a.x2New=a.x2):a.x2New=c:a.x2New>c&&(a.x2New=Math.max(c,a.x2));var u=[],p=null;for(i=t;i<=o;i++){var d=(a=(r=n[i]).boundary).x2>e.x2?a:e;p===d?u[u.length-1].end=r.end:(u.push({start:r.start,end:r.end,boundary:d}),p=d)}for(n[t].start<e.y1&&(u[0].start=e.y1,u.unshift({start:n[t].start,end:e.y1,boundary:n[t].boundary})),e.y2<n[o].end&&(u[u.length-1].end=e.y2,u.push({start:e.y2,end:n[o].end,boundary:n[o].boundary})),i=t;i<=o;i++)if(void 0===(a=(r=n[i]).boundary).x2New){var f=!1;for(s=t-1;!f&&s>=0&&n[s].start>=a.y1;s--)f=n[s].boundary===a;for(s=o+1;!f&&s<n.length&&n[s].end<=a.y2;s++)f=n[s].boundary===a;for(s=0;!f&&s<u.length;s++)f=u[s].boundary===a;f||(a.x2New=c)}Array.prototype.splice.apply(n,[t,o-t+1].concat(u))})),n.forEach((function(t){var n=t.boundary;void 0===n.x2New&&(n.x2New=Math.max(e,n.x2))}))}function s(e){var t=this,n=e.textContent,a=e.textContentStream,o=e.container,i=e.viewport,s=e.textDivs,c=e.textContentItemsStr,l=e.enhanceTextSelection;this._textContent=n,this._textContentStream=a,this._container=o,this._document=o.ownerDocument,this._viewport=i,this._textDivs=s||[],this._textContentItemsStr=c||[],this._enhanceTextSelection=!!l,this._fontInspectorEnabled=!(!globalThis.FontInspector||!globalThis.FontInspector.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally((function(){t._layoutTextCtx&&(t._layoutTextCtx.canvas.width=0,t._layoutTextCtx.canvas.height=0,t._layoutTextCtx=null)})).catch((function(){}))}return s.prototype={get promise(){return this._capability.promise},cancel:function(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))},_processItems:function(e,n){for(var r=0,a=e.length;r<a;r++)this._textContentItemsStr.push(e[r].str),t(this,e[r],n)},_layoutText:function(e){var t=this._textDivProperties.get(e);if(!t.isWhitespace){var n="";if(0!==t.canvasWidth){var r=e.style,a=r.fontSize,o=r.fontFamily;a===this._layoutTextLastFontSize&&o===this._layoutTextLastFontFamily||(this._layoutTextCtx.font="".concat(a," ").concat(o),this._layoutTextLastFontSize=a,this._layoutTextLastFontFamily=o);var i=this._layoutTextCtx.measureText(e.textContent).width;i>0&&(t.scale=t.canvasWidth/i,n="scaleX(".concat(t.scale,")"))}0!==t.angle&&(n="rotate(".concat(t.angle,"deg) ").concat(n)),n.length>0&&(this._enhanceTextSelection&&(t.originalTransform=n),e.style.transform=n),this._textDivProperties.set(e,t),this._container.appendChild(e)}},_render:function(e){var t=this,a=(0,r.createPromiseCapability)(),o=Object.create(null),i=this._document.createElement("canvas");if(i.mozOpaque=!0,this._layoutTextCtx=i.getContext("2d",{alpha:!1}),this._textContent){var s=this._textContent.items,c=this._textContent.styles;this._processItems(s,c),a.resolve()}else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');this._reader=this._textContentStream.getReader(),function e(){t._reader.read().then((function(n){var r=n.value;n.done?a.resolve():(Object.assign(o,r.styles),t._processItems(r.items,o),e())}),a.reject)}()}a.promise.then((function(){o=null,e?t._renderTimer=setTimeout((function(){n(t),t._renderTimer=null}),e):n(t)}),this._capability.reject)},expandTextDivs:function(e){if(this._enhanceTextSelection&&this._renderingDone){null!==this._bounds&&(o(this),this._bounds=null);for(var t=[],n=[],r=0,a=this._textDivs.length;r<a;r++){var i=this._textDivs[r],s=this._textDivProperties.get(i);s.isWhitespace||(e?(t.length=0,n.length=0,s.originalTransform&&t.push(s.originalTransform),s.paddingTop>0?(n.push("".concat(s.paddingTop,"px")),t.push("translateY(".concat(-s.paddingTop,"px)"))):n.push(0),s.paddingRight>0?n.push("".concat(s.paddingRight/s.scale,"px")):n.push(0),s.paddingBottom>0?n.push("".concat(s.paddingBottom,"px")):n.push(0),s.paddingLeft>0?(n.push("".concat(s.paddingLeft/s.scale,"px")),t.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))):n.push(0),i.style.padding=n.join(" "),t.length&&(i.style.transform=t.join(" "))):(i.style.padding=null,i.style.transform=s.originalTransform))}}}},function(e){var t=new s({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});return t._render(e.timeout),t}}();t.renderTextLayer=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SVGGraphics=void 0;var r=n(2),a=n(1),o=n(4),i=function(){throw new Error("Not implemented: SVGGraphics")};t.SVGGraphics=i;var s=function(e){if(Number.isInteger(e))return e.toString();var t=e.toFixed(10),n=t.length-1;if("0"!==t[n])return t;do{n--}while("0"===t[n]);return t.substring(0,"."===t[n]?n:n+1)},c=function(e){if(0===e[4]&&0===e[5]){if(0===e[1]&&0===e[2])return 1===e[0]&&1===e[3]?"":"scale(".concat(s(e[0])," ").concat(s(e[3]),")");if(e[0]===e[3]&&e[1]===-e[2]){var t=180*Math.acos(e[0])/Math.PI;return"rotate(".concat(s(t),")")}}else if(1===e[0]&&0===e[1]&&0===e[2]&&1===e[3])return"translate(".concat(s(e[4])," ").concat(s(e[5]),")");return"matrix(".concat(s(e[0])," ").concat(s(e[1])," ").concat(s(e[2])," ").concat(s(e[3])," ").concat(s(e[4])," ")+"".concat(s(e[5]),")")},l={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u=["butt","round","square"],p=["miter","round","bevel"],d=function(){for(var e=new Uint8Array([137,80,78,71,13,10,26,10]),t=new Int32Array(256),n=0;n<256;n++){for(var a=n,i=0;i<8;i++)a=1&a?3988292384^a>>1&2147483647:a>>1&2147483647;t[n]=a}function s(e,n,r,a){var o=a,i=n.length;r[o]=i>>24&255,r[o+1]=i>>16&255,r[o+2]=i>>8&255,r[o+3]=255&i,r[o+=4]=255&e.charCodeAt(0),r[o+1]=255&e.charCodeAt(1),r[o+2]=255&e.charCodeAt(2),r[o+3]=255&e.charCodeAt(3),o+=4,r.set(n,o);var s=function(e,n,r){for(var a=-1,o=n;o<r;o++){var i=255&(a^e[o]);a=a>>>8^t[i]}return-1^a}(r,a+4,o+=n.length);r[o]=s>>24&255,r[o+1]=s>>16&255,r[o+2]=s>>8&255,r[o+3]=255&s}function c(e){var t=e.length,n=65535,r=Math.ceil(t/n),a=new Uint8Array(2+t+5*r+4),o=0;a[o++]=120,a[o++]=156;for(var i=0;t>n;)a[o++]=0,a[o++]=255,a[o++]=255,a[o++]=0,a[o++]=0,a.set(e.subarray(i,i+n),o),o+=n,i+=n,t-=n;a[o++]=1,a[o++]=255&t,a[o++]=t>>8&255,a[o++]=255&~t,a[o++]=(65535&~t)>>8&255,a.set(e.subarray(i),o),o+=e.length-i;var s=function(e,t,n){for(var r=1,a=0,o=t;o<n;++o)a=(a+(r=(r+(255&e[o]))%65521))%65521;return a<<16|r}(e,0,e.length);return a[o++]=s>>24&255,a[o++]=s>>16&255,a[o++]=s>>8&255,a[o++]=255&s,a}function l(t,n,a,i){var l,u,p,d=t.width,f=t.height,h=t.data;switch(n){case r.ImageKind.GRAYSCALE_1BPP:u=0,l=1,p=d+7>>3;break;case r.ImageKind.RGB_24BPP:u=2,l=8,p=3*d;break;case r.ImageKind.RGBA_32BPP:u=6,l=8,p=4*d;break;default:throw new Error("invalid format")}for(var g=new Uint8Array((1+p)*f),m=0,v=0,E=0;E<f;++E)g[m++]=0,g.set(h.subarray(v,v+p),m),v+=p,m+=p;if(n===r.ImageKind.GRAYSCALE_1BPP&&i){m=0;for(var C=0;C<f;C++){m++;for(var x=0;x<p;x++)g[m++]^=255}}var y=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,f>>24&255,f>>16&255,f>>8&255,255&f,l,u,0,0,0]),w=function(e){if(!o.isNodeJS)return c(e);try{var t;t=parseInt(process.versions.node)>=8?e:Buffer.from(e);var n=__webpack_require__(330).deflateSync(t,{level:9});return n instanceof Uint8Array?n:new Uint8Array(n)}catch(a){(0,r.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+a)}return c(e)}(g),b=e.length+36+y.length+w.length,k=new Uint8Array(b),P=0;return k.set(e,P),s("IHDR",y,k,P+=e.length),s("IDATA",w,k,P+=12+y.length),P+=12+w.length,s("IEND",new Uint8Array(0),k,P),(0,r.createObjectURL)(k,"image/png",a)}return function(e,t,n){return l(e,void 0===e.kind?r.ImageKind.GRAYSCALE_1BPP:e.kind,t,n)}}(),f=function(){function e(){_classCallCheck(this,e),this.fontSizeScale=1,this.fontWeight=l.fontWeight,this.fontSize=0,this.textMatrix=r.IDENTITY_MATRIX,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=r.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=l.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}return _createClass(e,[{key:"clone",value:function(){return Object.create(this)}},{key:"setCurrentPoint",value:function(e,t){this.x=e,this.y=t}}]),e}(),h=0,g=0,m=0;t.SVGGraphics=i=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var i in _classCallCheck(this,e),this.svgFactory=new a.DOMSVGFactory,this.current=new f,this.transformMatrix=r.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=t,this.objs=n,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!o,this._operatorIdMapping=[],r.OPS)this._operatorIdMapping[r.OPS[i]]=i}return _createClass(e,[{key:"save",value:function(){this.transformStack.push(this.transformMatrix);var e=this.current;this.extraStack.push(e),this.current=e.clone()}},{key:"restore",value:function(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}},{key:"group",value:function(e){this.save(),this.executeOpTree(e),this.restore()}},{key:"loadDependencies",value:function(e){for(var t=this,n=e.fnArray,a=e.argsArray,o=0,i=n.length;o<i;o++)if(n[o]===r.OPS.dependency){var s,c=_createForOfIteratorHelper(a[o]);try{var l=function(){var e=s.value,n=e.startsWith("g_")?t.commonObjs:t.objs,r=new Promise((function(t){n.get(e,t)}));t.current.dependencies.push(r)};for(c.s();!(s=c.n()).done;)l()}catch(u){c.e(u)}finally{c.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function(e,t,n,a,o,i){var s=[e,t,n,a,o,i];this.transformMatrix=r.Util.transform(this.transformMatrix,s),this.tgrp=null}},{key:"getSVG",value:function(e,t){var n=this;this.viewport=t;var a=this._initialize(t);return this.loadDependencies(e).then((function(){return n.transformMatrix=r.IDENTITY_MATRIX,n.executeOpTree(n.convertOpList(e)),a}))}},{key:"convertOpList",value:function(e){for(var t=this._operatorIdMapping,n=e.argsArray,r=e.fnArray,a=[],o=0,i=r.length;o<i;o++){var s=r[o];a.push({fnId:s,fn:t[s],args:n[o]})}return function(e){var t,n=[],r=[],a=_createForOfIteratorHelper(e);try{for(a.s();!(t=a.n()).done;){var o=t.value;"save"!==o.fn?"restore"===o.fn?n=r.pop():n.push(o):(n.push({fnId:92,fn:"group",items:[]}),r.push(n),n=n[n.length-1].items)}}catch(i){a.e(i)}finally{a.f()}return n}(a)}},{key:"executeOpTree",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=a.fn,i=a.fnId,s=a.args;switch(0|i){case r.OPS.beginText:this.beginText();break;case r.OPS.dependency:break;case r.OPS.setLeading:this.setLeading(s);break;case r.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case r.OPS.setFont:this.setFont(s);break;case r.OPS.showText:case r.OPS.showSpacedText:this.showText(s[0]);break;case r.OPS.endText:this.endText();break;case r.OPS.moveText:this.moveText(s[0],s[1]);break;case r.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case r.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case r.OPS.setHScale:this.setHScale(s[0]);break;case r.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.setTextRise:this.setTextRise(s[0]);break;case r.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case r.OPS.setLineWidth:this.setLineWidth(s[0]);break;case r.OPS.setLineJoin:this.setLineJoin(s[0]);break;case r.OPS.setLineCap:this.setLineCap(s[0]);break;case r.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case r.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case r.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case r.OPS.setFillColorN:this.setFillColorN(s);break;case r.OPS.shadingFill:this.shadingFill(s[0]);break;case r.OPS.setDash:this.setDash(s[0],s[1]);break;case r.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case r.OPS.setFlatness:this.setFlatness(s[0]);break;case r.OPS.setGState:this.setGState(s[0]);break;case r.OPS.fill:this.fill();break;case r.OPS.eoFill:this.eoFill();break;case r.OPS.stroke:this.stroke();break;case r.OPS.fillStroke:this.fillStroke();break;case r.OPS.eoFillStroke:this.eoFillStroke();break;case r.OPS.clip:this.clip("nonzero");break;case r.OPS.eoClip:this.clip("evenodd");break;case r.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case r.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case r.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case r.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case r.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case r.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case r.OPS.closePath:this.closePath();break;case r.OPS.closeStroke:this.closeStroke();break;case r.OPS.closeFillStroke:this.closeFillStroke();break;case r.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case r.OPS.nextLine:this.nextLine();break;case r.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case r.OPS.constructPath:this.constructPath(s[0],s[1]);break;case r.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,r.warn)("Unimplemented operator ".concat(o))}}}catch(c){n.e(c)}finally{n.f()}}},{key:"setWordSpacing",value:function(e){this.current.wordSpacing=e}},{key:"setCharSpacing",value:function(e){this.current.charSpacing=e}},{key:"nextLine",value:function(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function(e,t,n,r,a,o){var i=this.current;i.textMatrix=i.lineMatrix=[e,t,n,r,a,o],i.textMatrixScale=Math.sqrt(e*e+t*t),i.x=i.lineX=0,i.y=i.lineY=0,i.xcoords=[],i.ycoords=[],i.tspan=this.svgFactory.createElement("svg:tspan"),i.tspan.setAttributeNS(null,"font-family",i.fontFamily),i.tspan.setAttributeNS(null,"font-size","".concat(s(i.fontSize),"px")),i.tspan.setAttributeNS(null,"y",s(-i.y)),i.txtElement=this.svgFactory.createElement("svg:text"),i.txtElement.appendChild(i.tspan)}},{key:"beginText",value:function(){var e=this.current;e.x=e.lineX=0,e.y=e.lineY=0,e.textMatrix=r.IDENTITY_MATRIX,e.lineMatrix=r.IDENTITY_MATRIX,e.textMatrixScale=1,e.tspan=this.svgFactory.createElement("svg:tspan"),e.txtElement=this.svgFactory.createElement("svg:text"),e.txtgrp=this.svgFactory.createElement("svg:g"),e.xcoords=[],e.ycoords=[]}},{key:"moveText",value:function(e,t){var n=this.current;n.x=n.lineX+=e,n.y=n.lineY+=t,n.xcoords=[],n.ycoords=[],n.tspan=this.svgFactory.createElement("svg:tspan"),n.tspan.setAttributeNS(null,"font-family",n.fontFamily),n.tspan.setAttributeNS(null,"font-size","".concat(s(n.fontSize),"px")),n.tspan.setAttributeNS(null,"y",s(-n.y))}},{key:"showText",value:function(e){var t=this.current,n=t.font,a=t.fontSize;if(0!==a){var o,i=t.fontSizeScale,u=t.charSpacing,p=t.wordSpacing,d=t.fontDirection,f=t.textHScale*d,h=n.vertical,g=h?1:-1,m=n.defaultVMetrics,v=a*t.fontMatrix[0],E=0,C=_createForOfIteratorHelper(e);try{for(C.s();!(o=C.n()).done;){var x=o.value;if(null!==x)if((0,r.isNum)(x))E+=g*x*a/1e3;else{var y=(x.isSpace?p:0)+u,w=x.fontChar,b=void 0,k=void 0,P=x.width;if(h){var O=void 0,R=x.vmetric||m;O=-(O=x.vmetric?R[1]:.5*P)*v;var L=R[2]*v;P=R?-R[0]:P,b=O/i,k=(E+L)/i}else b=E/i,k=0;(x.isInFont||n.missingFile)&&(t.xcoords.push(t.x+b),h&&t.ycoords.push(-t.y+k),t.tspan.textContent+=w),E+=h?P*v-y*d:P*v+y*d}else E+=d*p}}catch(A){C.e(A)}finally{C.f()}t.tspan.setAttributeNS(null,"x",t.xcoords.map(s).join(" ")),h?t.tspan.setAttributeNS(null,"y",t.ycoords.map(s).join(" ")):t.tspan.setAttributeNS(null,"y",s(-t.y)),h?t.y-=E:t.x+=E*f,t.tspan.setAttributeNS(null,"font-family",t.fontFamily),t.tspan.setAttributeNS(null,"font-size","".concat(s(t.fontSize),"px")),t.fontStyle!==l.fontStyle&&t.tspan.setAttributeNS(null,"font-style",t.fontStyle),t.fontWeight!==l.fontWeight&&t.tspan.setAttributeNS(null,"font-weight",t.fontWeight);var S=t.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;if(S===r.TextRenderingMode.FILL||S===r.TextRenderingMode.FILL_STROKE?(t.fillColor!==l.fillColor&&t.tspan.setAttributeNS(null,"fill",t.fillColor),t.fillAlpha<1&&t.tspan.setAttributeNS(null,"fill-opacity",t.fillAlpha)):t.textRenderingMode===r.TextRenderingMode.ADD_TO_PATH?t.tspan.setAttributeNS(null,"fill","transparent"):t.tspan.setAttributeNS(null,"fill","none"),S===r.TextRenderingMode.STROKE||S===r.TextRenderingMode.FILL_STROKE){var _=1/(t.textMatrixScale||1);this._setStrokeAttributes(t.tspan,_)}var T=t.textMatrix;0!==t.textRise&&((T=T.slice())[5]+=t.textRise),t.txtElement.setAttributeNS(null,"transform","".concat(c(T)," scale(").concat(s(f),", -1)")),t.txtElement.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),t.txtElement.appendChild(t.tspan),t.txtgrp.appendChild(t.txtElement),this._ensureTransformGroup().appendChild(t.txtElement)}}},{key:"setLeadingMoveText",value:function(e,t){this.setLeading(-t),this.moveText(e,t)}},{key:"addFontStyle",value:function(e){if(!e.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));var t=(0,r.createObjectURL)(e.data,e.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(e.loadedName,'";')+" src: url(".concat(t,"); }\n")}},{key:"setFont",value:function(e){var t=this.current,n=this.commonObjs.get(e[0]),a=e[1];t.font=n,!this.embedFonts||n.missingFile||this.embeddedFonts[n.loadedName]||(this.addFontStyle(n),this.embeddedFonts[n.loadedName]=n),t.fontMatrix=n.fontMatrix?n.fontMatrix:r.FONT_IDENTITY_MATRIX;var o="normal";n.black?o="900":n.bold&&(o="bold");var i=n.italic?"italic":"normal";a<0?(a=-a,t.fontDirection=-1):t.fontDirection=1,t.fontSize=a,t.fontFamily=n.loadedName,t.fontWeight=o,t.fontStyle=i,t.tspan=this.svgFactory.createElement("svg:tspan"),t.tspan.setAttributeNS(null,"y",s(-t.y)),t.xcoords=[],t.ycoords=[]}},{key:"endText",value:function(){var e=this.current;e.textRenderingMode&r.TextRenderingMode.ADD_TO_PATH_FLAG&&e.txtElement&&e.txtElement.hasChildNodes()&&(e.element=e.txtElement,this.clip("nonzero"),this.endPath())}},{key:"setLineWidth",value:function(e){e>0&&(this.current.lineWidth=e)}},{key:"setLineCap",value:function(e){this.current.lineCap=u[e]}},{key:"setLineJoin",value:function(e){this.current.lineJoin=p[e]}},{key:"setMiterLimit",value:function(e){this.current.miterLimit=e}},{key:"setStrokeAlpha",value:function(e){this.current.strokeAlpha=e}},{key:"setStrokeRGBColor",value:function(e,t,n){this.current.strokeColor=r.Util.makeCssRgb(e,t,n)}},{key:"setFillAlpha",value:function(e){this.current.fillAlpha=e}},{key:"setFillRGBColor",value:function(e,t,n){this.current.fillColor=r.Util.makeCssRgb(e,t,n),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}},{key:"setStrokeColorN",value:function(e){this.current.strokeColor=this._makeColorN_Pattern(e)}},{key:"setFillColorN",value:function(e){this.current.fillColor=this._makeColorN_Pattern(e)}},{key:"shadingFill",value:function(e){var t=this.viewport.width,n=this.viewport.height,a=r.Util.inverseTransform(this.transformMatrix),o=r.Util.applyTransform([0,0],a),i=r.Util.applyTransform([0,n],a),s=r.Util.applyTransform([t,0],a),c=r.Util.applyTransform([t,n],a),l=Math.min(o[0],i[0],s[0],c[0]),u=Math.min(o[1],i[1],s[1],c[1]),p=Math.max(o[0],i[0],s[0],c[0]),d=Math.max(o[1],i[1],s[1],c[1]),f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x",l),f.setAttributeNS(null,"y",u),f.setAttributeNS(null,"width",p-l),f.setAttributeNS(null,"height",d-u),f.setAttributeNS(null,"fill",this._makeShadingPattern(e)),this.current.fillAlpha<1&&f.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(f)}},{key:"_makeColorN_Pattern",value:function(e){return"TilingPattern"===e[0]?this._makeTilingPattern(e):this._makeShadingPattern(e)}},{key:"_makeTilingPattern",value:function(e){var t=e[1],n=e[2],a=e[3]||r.IDENTITY_MATRIX,o=_slicedToArray(e[4],4),i=o[0],s=o[1],c=o[2],l=o[3],u=e[5],p=e[6],d=e[7],f="shading".concat(m++),h=r.Util.applyTransform([i,s],a),g=_slicedToArray(h,2),v=g[0],E=g[1],C=r.Util.applyTransform([c,l],a),x=_slicedToArray(C,2),y=x[0],w=x[1],b=r.Util.singularValueDecompose2dScale(a),k=_slicedToArray(b,2),P=u*k[0],O=p*k[1],R=this.svgFactory.createElement("svg:pattern");R.setAttributeNS(null,"id",f),R.setAttributeNS(null,"patternUnits","userSpaceOnUse"),R.setAttributeNS(null,"width",P),R.setAttributeNS(null,"height",O),R.setAttributeNS(null,"x","".concat(v)),R.setAttributeNS(null,"y","".concat(E));var L=this.svg,S=this.transformMatrix,_=this.current.fillColor,T=this.current.strokeColor,A=this.svgFactory.create(y-v,w-E);if(this.svg=A,this.transformMatrix=a,2===d){var M,N=(M=r.Util).makeCssRgb.apply(M,_toConsumableArray(t));this.current.fillColor=N,this.current.strokeColor=N}return this.executeOpTree(this.convertOpList(n)),this.svg=L,this.transformMatrix=S,this.current.fillColor=_,this.current.strokeColor=T,R.appendChild(A.childNodes[0]),this.defs.appendChild(R),"url(#".concat(f,")")}},{key:"_makeShadingPattern",value:function(e){switch(e[0]){case"RadialAxial":var t,n="shading".concat(m++),a=e[3];switch(e[1]){case"axial":var o=e[4],i=e[5];(t=this.svgFactory.createElement("svg:linearGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"x1",o[0]),t.setAttributeNS(null,"y1",o[1]),t.setAttributeNS(null,"x2",i[0]),t.setAttributeNS(null,"y2",i[1]);break;case"radial":var s=e[4],c=e[5],l=e[6],u=e[7];(t=this.svgFactory.createElement("svg:radialGradient")).setAttributeNS(null,"id",n),t.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),t.setAttributeNS(null,"cx",c[0]),t.setAttributeNS(null,"cy",c[1]),t.setAttributeNS(null,"r",u),t.setAttributeNS(null,"fx",s[0]),t.setAttributeNS(null,"fy",s[1]),t.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(e[1]))}var p,d=_createForOfIteratorHelper(a);try{for(d.s();!(p=d.n()).done;){var f=p.value,h=this.svgFactory.createElement("svg:stop");h.setAttributeNS(null,"offset",f[0]),h.setAttributeNS(null,"stop-color",f[1]),t.appendChild(h)}}catch(g){d.e(g)}finally{d.f()}return this.defs.appendChild(t),"url(#".concat(n,")");case"Mesh":return(0,r.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(e[0]))}}},{key:"setDash",value:function(e,t){this.current.dashArray=e,this.current.dashPhase=t}},{key:"constructPath",value:function(e,t){var n,a=this.current,o=a.x,i=a.y,c=[],l=0,u=_createForOfIteratorHelper(e);try{for(u.s();!(n=u.n()).done;)switch(0|n.value){case r.OPS.rectangle:o=t[l++],i=t[l++];var p=t[l++],d=t[l++],f=o+p,h=i+d;c.push("M",s(o),s(i),"L",s(f),s(i),"L",s(f),s(h),"L",s(o),s(h),"Z");break;case r.OPS.moveTo:o=t[l++],i=t[l++],c.push("M",s(o),s(i));break;case r.OPS.lineTo:o=t[l++],i=t[l++],c.push("L",s(o),s(i));break;case r.OPS.curveTo:o=t[l+4],i=t[l+5],c.push("C",s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3]),s(o),s(i)),l+=6;break;case r.OPS.curveTo2:c.push("C",s(o),s(i),s(t[l]),s(t[l+1]),s(t[l+2]),s(t[l+3])),o=t[l+2],i=t[l+3],l+=4;break;case r.OPS.curveTo3:o=t[l+2],i=t[l+3],c.push("C",s(t[l]),s(t[l+1]),s(o),s(i),s(o),s(i)),l+=4;break;case r.OPS.closePath:c.push("Z")}}catch(g){u.e(g)}finally{u.f()}c=c.join(" "),a.path&&e.length>0&&e[0]!==r.OPS.rectangle&&e[0]!==r.OPS.moveTo?c=a.path.getAttributeNS(null,"d")+c:(a.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(a.path)),a.path.setAttributeNS(null,"d",c),a.path.setAttributeNS(null,"fill","none"),a.element=a.path,a.setCurrentPoint(o,i)}},{key:"endPath",value:function(){var e=this.current;if(e.path=null,this.pendingClip)if(e.element){var t="clippath".concat(h++),n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",t),n.setAttributeNS(null,"transform",c(this.transformMatrix));var r=e.element.cloneNode(!0);"evenodd"===this.pendingClip?r.setAttributeNS(null,"clip-rule","evenodd"):r.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,n.appendChild(r),this.defs.appendChild(n),e.activeClipUrl&&(e.clipGroup=null,this.extraStack.forEach((function(e){e.clipGroup=null})),n.setAttributeNS(null,"clip-path",e.activeClipUrl)),e.activeClipUrl="url(#".concat(t,")"),this.tgrp=null}else this.pendingClip=null}},{key:"clip",value:function(e){this.pendingClip=e}},{key:"closePath",value:function(){var e=this.current;if(e.path){var t="".concat(e.path.getAttributeNS(null,"d"),"Z");e.path.setAttributeNS(null,"d",t)}}},{key:"setLeading",value:function(e){this.current.leading=-e}},{key:"setTextRise",value:function(e){this.current.textRise=e}},{key:"setTextRenderingMode",value:function(e){this.current.textRenderingMode=e}},{key:"setHScale",value:function(e){this.current.textHScale=e/100}},{key:"setRenderingIntent",value:function(e){}},{key:"setFlatness",value:function(e){}},{key:"setGState",value:function(e){var t,n=_createForOfIteratorHelper(e);try{for(n.s();!(t=n.n()).done;){var a=_slicedToArray(t.value,2),o=a[0],i=a[1];switch(o){case"LW":this.setLineWidth(i);break;case"LC":this.setLineCap(i);break;case"LJ":this.setLineJoin(i);break;case"ML":this.setMiterLimit(i);break;case"D":this.setDash(i[0],i[1]);break;case"RI":this.setRenderingIntent(i);break;case"FL":this.setFlatness(i);break;case"Font":this.setFont(i);break;case"CA":this.setStrokeAlpha(i);break;case"ca":this.setFillAlpha(i);break;default:(0,r.warn)("Unimplemented graphic state operator ".concat(o))}}}catch(s){n.e(s)}finally{n.f()}}},{key:"fill",value:function(){var e=this.current;e.element&&(e.element.setAttributeNS(null,"fill",e.fillColor),e.element.setAttributeNS(null,"fill-opacity",e.fillAlpha),this.endPath())}},{key:"stroke",value:function(){var e=this.current;e.element&&(this._setStrokeAttributes(e.element),e.element.setAttributeNS(null,"fill","none"),this.endPath())}},{key:"_setStrokeAttributes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=this.current,r=n.dashArray;1!==t&&r.length>0&&(r=r.map((function(e){return t*e}))),e.setAttributeNS(null,"stroke",n.strokeColor),e.setAttributeNS(null,"stroke-opacity",n.strokeAlpha),e.setAttributeNS(null,"stroke-miterlimit",s(n.miterLimit)),e.setAttributeNS(null,"stroke-linecap",n.lineCap),e.setAttributeNS(null,"stroke-linejoin",n.lineJoin),e.setAttributeNS(null,"stroke-width",s(t*n.lineWidth)+"px"),e.setAttributeNS(null,"stroke-dasharray",r.map(s).join(" ")),e.setAttributeNS(null,"stroke-dashoffset",s(t*n.dashPhase)+"px")}},{key:"eoFill",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}},{key:"fillStroke",value:function(){this.stroke(),this.fill()}},{key:"eoFillStroke",value:function(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}},{key:"closeStroke",value:function(){this.closePath(),this.stroke()}},{key:"closeFillStroke",value:function(){this.closePath(),this.fillStroke()}},{key:"closeEOFillStroke",value:function(){this.closePath(),this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function(){var e=this.svgFactory.createElement("svg:rect");e.setAttributeNS(null,"x","0"),e.setAttributeNS(null,"y","0"),e.setAttributeNS(null,"width","1px"),e.setAttributeNS(null,"height","1px"),e.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(e)}},{key:"paintImageXObject",value:function(e){var t=e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e);t?this.paintInlineImageXObject(t):(0,r.warn)("Dependent image with object ID ".concat(e," is not ready yet"))}},{key:"paintInlineImageXObject",value:function(e,t){var n=e.width,r=e.height,a=d(e,this.forceDataSchema,!!t),o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0"),o.setAttributeNS(null,"y","0"),o.setAttributeNS(null,"width",s(n)),o.setAttributeNS(null,"height",s(r)),this.current.element=o,this.clip("nonzero");var i=this.svgFactory.createElement("svg:image");i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y",s(-r)),i.setAttributeNS(null,"width",s(n)+"px"),i.setAttributeNS(null,"height",s(r)+"px"),i.setAttributeNS(null,"transform","scale(".concat(s(1/n)," ").concat(s(-1/r),")")),t?t.appendChild(i):this._ensureTransformGroup().appendChild(i)}},{key:"paintImageMaskXObject",value:function(e){var t=this.current,n=e.width,r=e.height,a=t.fillColor;t.maskId="mask".concat(g++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",t.maskId);var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x","0"),i.setAttributeNS(null,"y","0"),i.setAttributeNS(null,"width",s(n)),i.setAttributeNS(null,"height",s(r)),i.setAttributeNS(null,"fill",a),i.setAttributeNS(null,"mask","url(#".concat(t.maskId,")")),this.defs.appendChild(o),this._ensureTransformGroup().appendChild(i),this.paintInlineImageXObject(e,o)}},{key:"paintFormXObjectBegin",value:function(e,t){if(Array.isArray(e)&&6===e.length&&this.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t){var n=t[2]-t[0],r=t[3]-t[1],a=this.svgFactory.createElement("svg:rect");a.setAttributeNS(null,"x",t[0]),a.setAttributeNS(null,"y",t[1]),a.setAttributeNS(null,"width",s(n)),a.setAttributeNS(null,"height",s(r)),this.current.element=a,this.clip("nonzero"),this.endPath()}}},{key:"paintFormXObjectEnd",value:function(){}},{key:"_initialize",value:function(e){var t=this.svgFactory.create(e.width,e.height),n=this.svgFactory.createElement("svg:defs");t.appendChild(n),this.defs=n;var r=this.svgFactory.createElement("svg:g");return r.setAttributeNS(null,"transform",c(e.transform)),t.appendChild(r),this.svg=r,t}},{key:"_ensureClipGroup",value:function(){if(!this.current.clipGroup){var e=this.svgFactory.createElement("svg:g");e.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(e),this.current.clipGroup=e}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",c(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNodeStream=void 0;var r=n(2),a=n(23),o=__webpack_require__(199),i=__webpack_require__(331),s=__webpack_require__(332),c=__webpack_require__(333),l=/^file:\/\/\/[a-zA-Z]:\//,u=function(){function e(t){_classCallCheck(this,e),this.source=t,this.url=function(e){var t=c.parse(e);return"file:"===t.protocol||t.host?t:/^[a-z]:[/\\]/i.test(e)?c.parse("file:///".concat(e)):(t.host||(t.protocol="file:"),t)}(t.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new m(this):new h(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=this.isFsUrl?new v(this,e,t):new g(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFNodeStream=u;var p=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;var n=t.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}(),d=function(){function e(t){_classCallCheck(this,e),this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();var n=t.source;this._isStreamingSupported=!n.disableStream}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:if(!this._done){e.next=4;break}return e.abrupt("return",{value:void 0,done:!0});case 4:if(!this._storedError){e.next=6;break}throw this._storedError;case 6:if(null!==(t=this._readableStream.read())){e.next=10;break}return this._readCapability=(0,r.createPromiseCapability)(),e.abrupt("return",this.read());case 10:return this._loaded+=t.length,this.onProgress&&this.onProgress({loaded:this._loaded}),n=new Uint8Array(t).buffer,e.abrupt("return",{value:n,done:!1});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}},{key:"_error",value:function(e){this._storedError=e,this._readCapability.resolve()}},{key:"_setReadableStream",value:function(e){var t=this;this._readableStream=e,e.on("readable",(function(){t._readCapability.resolve()})),e.on("end",(function(){e.destroy(),t._done=!0,t._readCapability.resolve()})),e.on("error",(function(e){t._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}]),e}();function f(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var h=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var o;_classCallCheck(this,n);var c=function(t){if(404===t.statusCode){var n=new r.MissingPDFException('Missing PDF "'.concat(o._url,'".'));return o._storedError=n,void o._headersCapability.reject(n)}o._headersCapability.resolve(),o._setReadableStream(t);var i=function(e){return o._readableStream.headers[e.toLowerCase()]},s=(0,a.validateRangeRequestCapabilities)({getResponseHeader:i,isHttp:e.isHttp,rangeChunkSize:o._rangeChunkSize,disableRange:o._disableRange}),c=s.allowRangeRequests,l=s.suggestedLength;o._isRangeSupported=c,o._contentLength=l||o._contentLength,o._filename=(0,a.extractFilenameFromHeader)(i)};return(o=t.call(this,e))._request=null,"http:"===o._url.protocol?o._request=i.request(f(o._url,e.httpHeaders),c):o._request=s.request(f(o._url,e.httpHeaders),c),o._request.on("error",(function(e){o._storedError=e,o._headersCapability.reject(e)})),o._request.end(),o}return n}(p),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,a,o){var c;for(var l in _classCallCheck(this,n),(c=t.call(this,e))._httpHeaders={},e.httpHeaders){var u=e.httpHeaders[l];"undefined"!==typeof u&&(c._httpHeaders[l]=u)}c._httpHeaders.Range="bytes=".concat(a,"-").concat(o-1);var p=function(e){if(404!==e.statusCode)c._setReadableStream(e);else{var t=new r.MissingPDFException('Missing PDF "'.concat(c._url,'".'));c._storedError=t}};return c._request=null,"http:"===c._url.protocol?c._request=i.request(f(c._url,c._httpHeaders),p):c._request=s.request(f(c._url,c._httpHeaders),p),c._request.on("error",(function(e){c._storedError=e})),c._request.end(),c}return n}(d),m=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var a;_classCallCheck(this,n),a=t.call(this,e);var i=decodeURIComponent(a._url.path);return l.test(a._url.href)&&(i=i.replace(/^\//,"")),o.lstat(i,(function(e,t){if(e)return"ENOENT"===e.code&&(e=new r.MissingPDFException('Missing PDF "'.concat(i,'".'))),a._storedError=e,void a._headersCapability.reject(e);a._contentLength=t.size,a._setReadableStream(o.createReadStream(i)),a._headersCapability.resolve()})),a}return n}(p),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,a){var i;_classCallCheck(this,n),i=t.call(this,e);var s=decodeURIComponent(i._url.path);return l.test(i._url.href)&&(s=s.replace(/^\//,"")),i._setReadableStream(o.createReadStream(s,{start:r,end:a-1})),i}return n}(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createResponseStatusError=function(e,t){return 404===e||0===e&&t.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+t+'".'):new r.UnexpectedResponseException("Unexpected server response ("+e+') while retrieving PDF "'+t+'".',e)},t.extractFilenameFromHeader=function(e){var t=e("Content-Disposition");if(t){var n=(0,a.getFilenameFromContentDispositionHeader)(t);if(n.includes("%"))try{n=decodeURIComponent(n)}catch(r){}if(/\.pdf$/i.test(n))return n}return null},t.validateRangeRequestCapabilities=function(e){var t=e.getResponseHeader,n=e.isHttp,a=e.rangeChunkSize,o=e.disableRange;(0,r.assert)(a>0,"Range chunk size must be larger than zero");var i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(t("Content-Length"),10);return Number.isInteger(s)?(i.suggestedLength=s,s<=2*a||o||!n||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(i.allowRangeRequests=!0),i):i},t.validateResponseStatus=function(e){return 200===e||206===e};var r=n(2),a=n(24)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFilenameFromContentDispositionHeader=function(e){var t=!0,n=o("filename\\*","i").exec(e);if(n){var r=c(n=n[1]);return s(r=u(r=l(r=unescape(r))))}if(n=function(e){for(var t,n=[],r=o("filename\\*((?!0\\d)\\d+)(\\*?)","ig");null!==(t=r.exec(e));){var a=_slicedToArray(t,4),i=a[1],s=a[2],u=a[3];if((i=parseInt(i,10))in n){if(0===i)break}else n[i]=[s,u]}for(var p=[],d=0;d<n.length&&d in n;++d){var f=_slicedToArray(n[d],2),h=f[0],g=f[1];g=c(g),h&&(g=unescape(g),0===d&&(g=l(g))),p.push(g)}return p.join("")}(e))return s(u(n));if(n=o("filename","i").exec(e)){var a=c(n=n[1]);return s(a=u(a))}function o(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{var r=new TextDecoder(e,{fatal:!0}),a=Array.from(n,(function(e){return 255&e.charCodeAt(0)}));n=r.decode(new Uint8Array(a)),t=!1}catch(o){if(/^utf-?8$/i.test(e))try{n=decodeURIComponent(escape(n)),t=!1}catch(i){}}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function c(e){if(e.startsWith('"')){for(var t=e.slice(1).split('\\"'),n=0;n<t.length;++n){var r=t[n].indexOf('"');-1!==r&&(t[n]=t[n].slice(0,r),t.length=n+1),t[n]=t[n].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function l(e){var t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function u(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return i(t,r=(r=r.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})));try{r=atob(r)}catch(a){}return i(t,r)}))}return""}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFNetworkStream=void 0;var r=n(2),a=n(23),o=function(){function e(t,n){_classCallCheck(this,e),this.url=t,n=n||{},this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&n.httpHeaders||{},this.withCredentials=n.withCredentials||!1,this.getXhr=n.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}return _createClass(e,[{key:"requestRange",value:function(e,t,n){var r={begin:e,end:t};for(var a in n)r[a]=n[a];return this.request(r)}},{key:"requestFull",value:function(e){return this.request(e)}},{key:"request",value:function(e){var t=this.getXhr(),n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};for(var a in t.open("GET",this.url),t.withCredentials=this.withCredentials,this.httpHeaders){var o=this.httpHeaders[a];"undefined"!==typeof o&&t.setRequestHeader(a,o)}return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}},{key:"onProgress",value:function(e,t){var n=this.pendingRequests[e];n&&n.onProgress&&n.onProgress(t)}},{key:"onStateChange",value:function(e,t){var n=this.pendingRequests[e];if(n){var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4===a.readyState&&e in this.pendingRequests)if(delete this.pendingRequests[e],0===a.status&&this.isHttp)n.onError&&n.onError(a.status);else{var o=a.status||200;if(200===o&&206===n.expectedStatus||o===n.expectedStatus){var i=function(e){var t=e.response;return"string"!==typeof t?t:(0,r.stringToBytes)(t).buffer}(a);if(206===o){var s=a.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(s);n.onDone({begin:parseInt(c[1],10),chunk:i})}else i?n.onDone({begin:0,chunk:i}):n.onError&&n.onError(a.status)}else n.onError&&n.onError(a.status)}}}},{key:"getRequestXhr",value:function(e){return this.pendingRequests[e].xhr}},{key:"isPendingRequest",value:function(e){return e in this.pendingRequests}},{key:"abortRequest",value:function(e){var t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}]),e}(),i=function(){function e(t){_classCallCheck(this,e),this._source=t,this._manager=new o(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_onRangeRequestReaderClosed",value:function(e){var t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new s(this._manager,this._source),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){var n=new c(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFNetworkStream=i;var s=function(){function e(t,n){_classCallCheck(this,e),this._manager=t;var a={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=n.url,this._fullRequestId=t.requestFull(a),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=n.disableRange||!1,this._contentLength=n.length,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}return _createClass(e,[{key:"_onHeadersReceived",value:function(){var e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=function(e){return t.getResponseHeader(e)},r=(0,a.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),o=r.allowRangeRequests,i=r.suggestedLength;o&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function(e){e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,this._cachedChunks.length>0||(this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[])}},{key:"_onError",value:function(e){var t=this._url,n=(0,a.createResponseStatusError)(e,t);this._storedError=n,this._headersReceivedCapability.reject(n),this._requests.forEach((function(e){e.reject(n)})),this._requests=[],this._cachedChunks=[]}},{key:"_onProgress",value:function(e){this.onProgress&&this.onProgress({loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}},{key:"filename",get:function(){return this._filename}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"contentLength",get:function(){return this._contentLength}},{key:"headersReady",get:function(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._storedError){e.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){e.next=5;break}return t=this._cachedChunks.shift(),e.abrupt("return",{value:t,done:!1});case 5:if(!this._done){e.next=7;break}return e.abrupt("return",{value:void 0,done:!0});case 7:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._headersReceivedCapability.reject(e),this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}]),e}(),c=function(){function e(t,n,r){_classCallCheck(this,e),this._manager=t;var a={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=t.requestRange(n,r,a),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}return _createClass(e,[{key:"_close",value:function(){this.onClosed&&this.onClosed(this)}},{key:"_onDone",value:function(e){var t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._close()}},{key:"_onProgress",value:function(e){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:e.loaded})}},{key:"isStreamingSupported",get:function(){return!1}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===this._queuedChunk){e.next=4;break}return t=this._queuedChunk,this._queuedChunk=null,e.abrupt("return",{value:t,done:!1});case 4:if(!this._done){e.next=6;break}return e.abrupt("return",{value:void 0,done:!0});case 6:return n=(0,r.createPromiseCapability)(),this._requests.push(n),e.abrupt("return",n.promise);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._done=!0,this._requests.forEach((function(e){e.resolve({value:void 0,done:!0})})),this._requests=[],this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PDFFetchStream=void 0;var r=n(2),a=n(23);function o(e,t,n){return{method:"GET",headers:e,signal:n&&n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function i(e){var t=new Headers;for(var n in e){var r=e[n];"undefined"!==typeof r&&t.append(n,r)}return t}var s=function(){function e(t){_classCallCheck(this,e),this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}return _createClass(e,[{key:"_progressiveDataLength",get:function(){return this._fullRequestReader?this._fullRequestReader._loaded:0}},{key:"getFullReader",value:function(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}},{key:"getRangeReader",value:function(e,t){if(t<=this._progressiveDataLength)return null;var n=new l(this,e,t);return this._rangeRequestReaders.push(n),n}},{key:"cancelAllRequests",value:function(e){this._fullRequestReader&&this._fullRequestReader.cancel(e),this._rangeRequestReaders.slice(0).forEach((function(t){t.cancel(e)}))}}]),e}();t.PDFFetchStream=s;var c=function(){function e(t){var n=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0,this._filename=null;var s=t.source;this._withCredentials=s.withCredentials||!1,this._contentLength=s.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=s.disableRange||!1,this._rangeChunkSize=s.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._isStreamingSupported=!s.disableStream,this._isRangeSupported=!s.disableRange,this._headers=i(this._stream.httpHeaders);var c=s.url;fetch(c,o(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,c);n._reader=e.body.getReader(),n._headersCapability.resolve();var t=function(t){return e.headers.get(t)},o=(0,a.validateRangeRequestCapabilities)({getResponseHeader:t,isHttp:n._stream.isHttp,rangeChunkSize:n._rangeChunkSize,disableRange:n._disableRange}),i=o.allowRangeRequests,s=o.suggestedLength;n._isRangeSupported=i,n._contentLength=s||n._contentLength,n._filename=(0,a.extractFilenameFromHeader)(t),!n._isStreamingSupported&&n._isRangeSupported&&n.cancel(new r.AbortException("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}return _createClass(e,[{key:"headersReady",get:function(){return this._headersCapability.promise}},{key:"filename",get:function(){return this._filename}},{key:"contentLength",get:function(){return this._contentLength}},{key:"isRangeSupported",get:function(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._headersCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}(),l=function(){function e(t,n,s){var c=this;_classCallCheck(this,e),this._stream=t,this._reader=null,this._loaded=0;var l=t.source;this._withCredentials=l.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!l.disableStream,"undefined"!==typeof AbortController&&(this._abortController=new AbortController),this._headers=i(this._stream.httpHeaders),this._headers.append("Range","bytes=".concat(n,"-").concat(s-1));var u=l.url;fetch(u,o(this._headers,this._withCredentials,this._abortController)).then((function(e){if(!(0,a.validateResponseStatus)(e.status))throw(0,a.createResponseStatusError)(e.status,u);c._readCapability.resolve(),c._reader=e.body.getReader()})).catch((function(e){if(!e||"AbortError"!==e.name)throw e})),this.onProgress=null}return _createClass(e,[{key:"isStreamingSupported",get:function(){return this._isStreamingSupported}},{key:"read",value:function(){var e=_asyncToGenerator(_regeneratorRuntime.mark((function e(){var t,n,r,a;return _regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._readCapability.promise;case 2:return e.next=4,this._reader.read();case 4:if(t=e.sent,n=t.value,!(r=t.done)){e.next=9;break}return e.abrupt("return",{value:n,done:r});case 9:return this._loaded+=n.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),a=new Uint8Array(n).buffer,e.abrupt("return",{value:a,done:!1});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cancel",value:function(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}]),e}()}])},module.exports=factory()}).call(this,__webpack_require__(50),__webpack_require__(196).Buffer)},,,,,,,,,,,,,function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(123);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},,,,,,,,,,,,,,,,,,,function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},,,,,,,,,,,function(e,t){e.exports=function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},function(e,t,n){var r=n(166),a=n(122);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!==typeof t?a(e):t}},,,,,,,,,,,,,,,function(e,t,n){e.exports=n(155)},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(T){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new L(r||[]);return o._invoke=function(e,t,n){var r=p;return function(a,o){if(r===f)throw new Error("Generator is already running");if(r===h){if("throw"===a)throw o;return _()}for(n.method=a,n.arg=o;;){var i=n.delegate;if(i){var s=P(i,n);if(s){if(s===g)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=h,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=u(e,t,n);if("normal"===c.type){if(r=n.done?h:d,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=h,n.method="throw",n.arg=c.arg)}}}(e,n,i),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var p="suspendedStart",d="suspendedYield",f="executing",h="completed",g={};function m(){}function v(){}function E(){}var C={};C[o]=function(){return this};var x=Object.getPrototypeOf,y=x&&x(x(S([])));y&&y!==n&&r.call(y,o)&&(C=y);var w=E.prototype=m.prototype=Object.create(C);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(a,o,i,s){var c=u(e[a],e,o);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"===typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,i,s)}),(function(e){n("throw",e,i,s)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return n("throw",e,i,s)}))}s(c.arg)}var a;this._invoke=function(e,r){function o(){return new t((function(t,a){n(e,r,t,a)}))}return a=a?a.then(o,o):o()}}function P(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,P(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var a=u(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function S(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var a=-1,i=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return v.prototype=w.constructor=E,E.constructor=v,v.displayName=c(E,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(k.prototype),k.prototype[i]=function(){return this},e.AsyncIterator=k,e.async=function(t,n,r,a,o){void 0===o&&(o=Promise);var i=new k(l(t,n,r,a),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},b(w),c(w,s,"Generator"),w[o]=function(){return this},w.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(R),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;R(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:S(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=r}catch(a){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){var r=n(157);function a(t,n,o){return"undefined"!==typeof Reflect&&Reflect.get?e.exports=a=Reflect.get:e.exports=a=function(e,t,n){var a=r(e,t);if(a){var o=Object.getOwnPropertyDescriptor(a,t);return o.get?o.get.call(n):o.value}},a(t,n,o||t)}e.exports=a},function(e,t,n){var r=n(102);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=r(e)););return e}},function(e,t,n){var r=n(159),a=n(135),o=n(103),i=n(160);e.exports=function(e){return r(e)||a(e)||o(e)||i()}},function(e,t,n){var r=n(123);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(136),a=n(162),o=n(103),i=n(137);e.exports=function(e,t){return r(e)||a(e,t)||o(e,t)||i()}},function(e,t){e.exports=function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,o=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(c){a=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(a)throw o}}return n}}},function(e,t,n){var r=n(103);e.exports=function(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}},function(e,t,n){var r=n(124);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(102),a=n(138),o=n(139);e.exports=function(e){var t=a();return function(){var n,a=r(e);if(t){var i=r(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return o(this,n)}}},function(e,t){function n(t){return"function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";e.exports=n(327)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(89);function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var i,s,c,l,u,p=o(r),d=o(a);t.AnnotationType=void 0,(i=t.AnnotationType||(t.AnnotationType={}))[i.Text=1]="Text",i[i.Link=2]="Link",i[i.FreeText=3]="FreeText",i[i.Line=4]="Line",i[i.Square=5]="Square",i[i.Circle=6]="Circle",i[i.Polygon=7]="Polygon",i[i.Polyline=8]="Polyline",i[i.Highlight=9]="Highlight",i[i.Underline=10]="Underline",i[i.Squiggly=11]="Squiggly",i[i.StrikeOut=12]="StrikeOut",i[i.Stamp=13]="Stamp",i[i.Caret=14]="Caret",i[i.Ink=15]="Ink",i[i.Popup=16]="Popup",i[i.FileAttachment=17]="FileAttachment",t.LayerRenderStatus=void 0,(s=t.LayerRenderStatus||(t.LayerRenderStatus={}))[s.PreRender=0]="PreRender",s[s.DidRender=1]="DidRender",t.Position=void 0,(c=t.Position||(t.Position={})).TopLeft="TOP_LEFT",c.TopCenter="TOP_CENTER",c.TopRight="TOP_RIGHT",c.RightTop="RIGHT_TOP",c.RightCenter="RIGHT_CENTER",c.RightBottom="RIGHT_BOTTOM",c.BottomLeft="BOTTOM_LEFT",c.BottomCenter="BOTTOM_CENTER",c.BottomRight="BOTTOM_RIGHT",c.LeftTop="LEFT_TOP",c.LeftCenter="LEFT_CENTER",c.LeftBottom="LEFT_BOTTOM",t.SpecialZoomLevel=void 0,(l=t.SpecialZoomLevel||(t.SpecialZoomLevel={})).ActualSize="ActualSize",l.PageFit="PageFit",l.PageWidth="PageWidth",t.ToggleStatus=void 0,(u=t.ToggleStatus||(t.ToggleStatus={})).Close="Close",u.Open="Open",u.Toggle="Toggle";var f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var g,m=function(){return(m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};t.TextDirection=void 0,(g=t.TextDirection||(t.TextDirection={})).RightToLeft="RTL",g.LeftToRight="LTR";var v,E=p.createContext({currentTheme:"light",direction:t.TextDirection.LeftToRight,setCurrentTheme:function(){}}),C=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},x="undefined"!=typeof window?p.useLayoutEffect:p.useEffect,y=function(e){var n=e.children,r=e.ignoreDirection,a=void 0!==r&&r,o=e.size,i=void 0===o?24:o,s=p.useContext(E).direction,c=!a&&s===t.TextDirection.RightToLeft,l=(i||24)+"px";return p.createElement("svg",{"aria-hidden":"true",className:C({"rpv-core__icon":!0,"rpv-core__icon--rtl":c}),focusable:"false",height:l,viewBox:"0 0 24 24",width:l},n)},w=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},b=function(e){var n=e.children,r=e.onClick,a=p.useContext(E).direction===t.TextDirection.RightToLeft;return p.createElement("button",{className:C({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":a}),type:"button",onClick:r},n)},k=function(e){var t=p.useRef(null),n=e.threshold,r=e.onVisibilityChanged;return x((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;r({isVisible:t,ratio:n})}))}),{threshold:n||0}),a=t.current;if(a)return e.observe(a),function(){e.unobserve(a)}}),[]),t},P=function(e){var t=e.size,n=void 0===t?"4rem":t,r=p.useState(!1),a=r[0],o=r[1],i=k({onVisibilityChanged:function(e){o(e.isVisible)}});return p.createElement("div",{className:C({"rpv-core__spinner":!0,"rpv-core__spinner--animating":a}),ref:i,style:{height:n,width:n}})},O=function(e){var n=e.ariaLabel,r=void 0===n?"":n,a=e.autoFocus,o=void 0!==a&&a,i=e.placeholder,s=void 0===i?"":i,c=e.testId,l=e.type,u=void 0===l?"text":l,d=e.value,f=void 0===d?"":d,h=e.onChange,g=e.onKeyDown,v=void 0===g?function(){}:g,y=p.useContext(E).direction,w=p.useRef(),b=y===t.TextDirection.RightToLeft,k={ref:w,"data-testid":"","aria-label":r,className:C({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":b}),placeholder:s,value:f,onChange:function(e){return h(e.target.value)},onKeyDown:v};return c&&(k["data-testid"]=c),x((function(){if(o){var e=w.current;if(e){var t=window.scrollX,n=window.scrollY;e.focus(),window.scrollTo(t,n)}}}),[]),"text"===u?p.createElement("input",m({type:"text"},k)):p.createElement("input",m({type:"password"},k))},R=function(e,t,n){var r=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};p.useEffect((function(){if(e){var t={capture:!0};return document.addEventListener("click",r,t),function(){document.removeEventListener("click",r,t)}}}),[])},L=function(e){var t=function(t){"Escape"===t.key&&e()};p.useEffect((function(){return document.addEventListener("keyup",t),function(){document.removeEventListener("keyup",t)}}),[])},S=function(e){var n=e.ariaControlsSuffix,r=e.children,a=e.closeOnClickOutside,o=e.closeOnEscape,i=e.onToggle,s=p.useRef(),c=p.useContext(E).direction===t.TextDirection.RightToLeft;return p.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),L((function(){s.current&&o&&i()})),R(a,s,i),x((function(){var e=s.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight=t+"px")}}),[]),p.createElement("div",{"aria-modal":"true",className:C({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":c}),id:"rpv-core__modal-body-"+n,ref:s,role:"dialog",tabIndex:-1},r)},_=function(e){var t=e.children;return p.createElement("div",{className:"rpv-core__modal-overlay"},t)},T=function(e){var n=p.useState(e),r=n[0],a=n[1];return{opened:r,toggle:function(e){switch(e){case t.ToggleStatus.Close:a(!1);break;case t.ToggleStatus.Open:a(!0);break;case t.ToggleStatus.Toggle:default:a((function(e){return!e}))}}}},A=function(e){var t=e.content,n=e.isOpened,r=void 0!==n&&n,a=e.target,o=T(r),i=o.opened,s=o.toggle;return p.createElement(p.Fragment,null,a&&a(s,i),i&&t(s))},M=0,N=function(){return M++},F=function(e,n,r,a,o){x((function(){var i=n.current,s=e.current,c=r.current;if(s&&i&&c){var l=c.getBoundingClientRect(),u=function(e,n,r,a){var o=n.getBoundingClientRect(),i=e.getBoundingClientRect(),s=i.height,c=i.width,l=0,u=0;switch(r){case t.Position.TopLeft:l=o.top-s,u=o.left;break;case t.Position.TopCenter:l=o.top-s,u=o.left+o.width/2-c/2;break;case t.Position.TopRight:l=o.top-s,u=o.left+o.width-c;break;case t.Position.RightTop:l=o.top,u=o.left+o.width;break;case t.Position.RightCenter:l=o.top+o.height/2-s/2,u=o.left+o.width;break;case t.Position.RightBottom:l=o.top+o.height-s,u=o.left+o.width;break;case t.Position.BottomLeft:l=o.top+o.height,u=o.left;break;case t.Position.BottomCenter:l=o.top+o.height,u=o.left+o.width/2-c/2;break;case t.Position.BottomRight:l=o.top+o.height,u=o.left+o.width-c;break;case t.Position.LeftTop:l=o.top,u=o.left-c;break;case t.Position.LeftCenter:l=o.top+o.height/2-s/2,u=o.left-c;break;case t.Position.LeftBottom:l=o.top+o.height-s,u=o.left-c}return{left:u+(a.left||0),top:l+(a.top||0)}}(s,i,a,o),p=u.top,d=u.left;s.style.top=p-l.top+"px",s.style.left=d-l.left+"px"}}),[])},I=function(e){var n,r=e.customClassName,a=e.position;return p.createElement("div",{className:C((n={"rpv-core__arrow":!0,"rpv-core__arrow--tl":a===t.Position.TopLeft,"rpv-core__arrow--tc":a===t.Position.TopCenter,"rpv-core__arrow--tr":a===t.Position.TopRight,"rpv-core__arrow--rt":a===t.Position.RightTop,"rpv-core__arrow--rc":a===t.Position.RightCenter,"rpv-core__arrow--rb":a===t.Position.RightBottom,"rpv-core__arrow--bl":a===t.Position.BottomLeft,"rpv-core__arrow--bc":a===t.Position.BottomCenter,"rpv-core__arrow--br":a===t.Position.BottomRight,"rpv-core__arrow--lt":a===t.Position.LeftTop,"rpv-core__arrow--lc":a===t.Position.LeftCenter,"rpv-core__arrow--lb":a===t.Position.LeftBottom},n[""+r]=""!==r,n))})},H=function(e){var n=e.ariaControlsSuffix,r=e.children,a=e.closeOnClickOutside,o=e.offset,i=e.position,s=e.targetRef,c=e.onClose,l=p.useRef(),u=p.useRef(),d=p.useRef(),f=p.useContext(E).direction===t.TextDirection.RightToLeft;R(a,l,c),F(l,s,d,i,o),x((function(){var e=u.current;if(e){var t=.75*document.body.clientHeight;e.getBoundingClientRect().height>=t&&(e.style.overflow="auto",e.style.maxHeight=t+"px")}}),[]);var h="rpv-core__popover-body-inner-"+n;return p.createElement(p.Fragment,null,p.createElement("div",{ref:d,style:{left:0,position:"absolute",top:0}}),p.createElement("div",{"aria-describedby":h,className:C({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":f}),id:"rpv-core__popover-body-"+n,ref:l,role:"dialog",tabIndex:-1},p.createElement(I,{customClassName:"rpv-core__popover-body-arrow",position:i}),p.createElement("div",{id:h,ref:u},r)))},D=function(e){var t=e.closeOnEscape,n=e.onClose,r=p.useRef();return L((function(){r.current&&t&&n()})),p.createElement("div",{className:"rpv-core__popover-overlay",ref:r})},B=function(e){var n=e.ariaControlsSuffix,r=e.children,a=e.contentRef,o=e.offset,i=e.position,s=e.targetRef,c=p.useRef(),l=p.useContext(E).direction===t.TextDirection.RightToLeft;return F(a,s,c,i,o),p.createElement(p.Fragment,null,p.createElement("div",{ref:c,style:{left:0,position:"absolute",top:0}}),p.createElement("div",{className:C({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":l}),id:"rpv-core__tooltip-body-"+n,ref:a,role:"tooltip"},p.createElement(I,{customClassName:"rpv-core__tooltip-body-arrow",position:i}),p.createElement("div",{className:"rpv-core__tooltip-body-content"},r)))},W={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},j=p.createContext({l10n:W,setL10n:function(){}});function V(e){var t=p.useRef(e);return p.useEffect((function(){t.current=e}),[e]),t.current}!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(v||(v={}));var z,q=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),U=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},G=function(e){var n=e.annotation,r=p.useContext(E).direction===t.TextDirection.RightToLeft,a=p.useRef(),o="";if(n.modificationDate){var i=function(e){var t=q.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=U(t[2],1,12,1)-1,a=U(t[3],1,31,1),o=U(t[4],0,23,0),i=U(t[5],0,59,0),s=U(t[6],0,59,0),c=t[7]||"Z",l=U(t[8],0,23,0),u=U(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(n.modificationDate);o=i?i.toLocaleDateString()+", "+i.toLocaleTimeString():""}return p.useLayoutEffect((function(){if(a.current){var e=document.querySelector('[data-annotation-id="'+n.id+'"]');if(e){var t=e;return t.style.zIndex+=1,function(){t.style.zIndex=""+(parseInt(t.style.zIndex,10)-1)}}}}),[]),p.createElement("div",{ref:a,className:C({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":r}),style:{top:n.annotationType===t.AnnotationType.Popup?"":"100%"}},n.title&&p.createElement(p.Fragment,null,p.createElement("div",{className:C({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!r,"rpv-core__annotation-popup-title--rtl":r})},n.title),p.createElement("div",{className:"rpv-core__annotation-popup-date"},o)),n.contents&&p.createElement("div",{className:"rpv-core__annotation-popup-content"},n.contents.split("\n").map((function(e,t){return p.createElement(p.Fragment,{key:t},e,p.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(z||(z={}));var Z,J=function(e){var n,r=e.annotation,a=e.children,o=e.ignoreBorder,i=e.hasPopup,s=e.isRenderable,c=e.page,l=e.viewport,u=r.rect,d=function(){var e=T(!1),n=e.opened,r=e.toggle,a=p.useState(z.Hover),o=a[0],i=a[1];return{opened:n,closeOnHover:function(){o===z.Hover&&r(t.ToggleStatus.Close)},openOnHover:function(){o===z.Hover&&r(t.ToggleStatus.Open)},toggleOnClick:function(){switch(o){case z.Click:n&&i(z.Hover),r(t.ToggleStatus.Toggle);break;case z.Hover:i(z.Click),r(t.ToggleStatus.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,E=(n=[u[0],c.view[3]+c.view[1]-u[1],u[2],c.view[3]+c.view[1]-u[3]],[Math.min(n[0],n[2]),Math.min(n[1],n[3]),Math.max(n[0],n[2]),Math.max(n[1],n[3])]),C=u[2]-u[0],x=u[3]-u[1],y={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&r.borderStyle.width>0){switch(r.borderStyle.style){case v.Dashed:y.borderStyle="dashed";break;case v.Solid:y.borderStyle="solid";break;case v.Underline:y=Object.assign({borderBottomStyle:"solid"},y);case v.Beveled:case v.Inset:}var w=r.borderStyle.width;y.borderWidth=w+"px",r.borderStyle.style!==v.Underline&&(C-=2*w,x-=2*w);var b=r.borderStyle,k=b.horizontalCornerRadius,P=b.verticalCornerRadius;(k>0||P>0)&&(y.borderRadius=k+"px / "+P+"px"),r.color?y.borderColor="rgb("+(0|r.color[0])+", "+(0|r.color[1])+", "+(0|r.color[2])+")":y.borderWidth="0"}return p.createElement(p.Fragment,null,s&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:x+"px",left:E[0]+"px",top:E[1]+"px",transform:"matrix("+l.transform.join(",")+")",transformOrigin:"-"+E[0]+"px -"+E[1]+"px",width:C+"px"},y)},children:p.createElement(p.Fragment,null,i&&h&&p.createElement(G,{annotation:r}))}}))},X=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Y=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},p.createElement("circle",{cy:c/2,fill:"none",rx:s/2-l/2,ry:c/2-l/2,stroke:"transparent",strokeWidth:l||1})),e.slot.children)}))},K=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!(!1!==t.hasPopup||!t.title&&!t.contents),o=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:!0,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:o,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},$=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!(!t.title&&!t.contents),o=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return x((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),p.createElement(J,{annotation:t,hasPopup:o,ignoreBorder:!1,isRenderable:a,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":t.id}),p.createElement(G,{annotation:t}))}))},ee=function e(n){var r=n.annotation,a=n.childAnnotation,o=n.page,i=n.viewport,s=!1===r.hasPopup,c=!!(r.hasPopup||r.title||r.contents);if(r.quadPoints&&r.quadPoints.length>0){var l=r.quadPoints.map((function(e){return Object.assign({},r,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return p.createElement(p.Fragment,null,l.map((function(t,n){return p.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return p.createElement(J,{annotation:r,hasPopup:s,ignoreBorder:!0,isRenderable:c,page:o,viewport:i},(function(e){return p.createElement(p.Fragment,null,p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":r.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===t.AnnotationType.Popup&&e.popup.opened&&p.createElement($,{annotation:a,page:o,viewport:i}))}))},te=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},t.inkLists.map((function(e,t){return p.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:l||1,points:e.map((function(e){return e.x-i[0]+","+(i[3]-e.y)})).join(" ")})}))),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},p.createElement("line",{stroke:"transparent",strokeWidth:l||1,x1:i[2]-t.lineCoordinates[0],x2:i[2]-t.lineCoordinates[2],y1:i[3]-t.lineCoordinates[1],y2:i[3]-t.lineCoordinates[3]})),e.slot.children)}))},re=function(e,n){return new Promise((function(r){new Promise((function(t){"string"==typeof n?e.getDestination(n).then((function(e){t(e)})):t(n)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var n=function(e,n){switch(n[1].name){case"XYZ":return{bottomOffset:n[3],pageIndex:e-1,scaleTo:n[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:t.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:n[2],pageIndex:e-1,scaleTo:t.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);r(n)}))}))},ae=function(e){var t=e.annotation,n=e.doc,r=e.page,a=e.viewport,o=e.onExecuteNamedAction,i=e.onJumpToDest,s=!!(t.url||t.dest||t.action),c=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"","data-annotation-link-dest":t.dest,onClick:function(e){e.preventDefault(),t.action?o(t.action):re(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;i(n?t+1:t,n,0,r)}))}};return p.createElement(J,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:s,page:r,viewport:a},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":t.id}),p.createElement("a",m({},c)))}))},oe=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},p.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:l||1,points:t.vertices.map((function(e){return e.x-i[0]+","+(i[3]-e.y)})).join(" ")})),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},p.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:l||1,points:t.vertices.map((function(e){return e.x-i[0]+","+(i[3]-e.y)})).join(" ")})),e.slot.children)}))},se=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents),i=t.rect,s=i[2]-i[0],c=i[3]-i[1],l=t.borderStyle.width;return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),p.createElement("svg",{height:c+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+s+" "+c,width:s+"px"},p.createElement("rect",{height:c-l,fill:"none",stroke:"transparent",strokeWidth:l||1,x:l/2,y:l/2,width:s-l})),e.slot.children)}))},ce=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},le=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ue=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},pe=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),p.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),p.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),p.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},de=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),p.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),p.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),p.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),p.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),p.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),p.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),p.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),p.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),p.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},fe=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),p.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},he=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),p.createElement("path",{d:"M6 4.5L6 0.5"}),p.createElement("path",{d:"M18 4.5L18 0.5"}),p.createElement("path",{d:"M10 4.5L10 0.5"}),p.createElement("path",{d:"M14 4.5L14 0.5"}))},ge=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),p.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),p.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},me=function(){return p.createElement(y,{size:16},p.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},ve=function(e){var n=e.annotation,r=e.childAnnotation,a=e.page,o=e.viewport,i=!1===n.hasPopup,s=!!(n.hasPopup||n.title||n.contents),c=n.name?n.name.toLowerCase():"";return p.createElement(J,{annotation:n,hasPopup:i,ignoreBorder:!1,isRenderable:s,page:a,viewport:o},(function(e){return p.createElement(p.Fragment,null,p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),c&&p.createElement("div",{className:"rpv-core__annotation-text-icon"},"check"===c&&p.createElement(w,null),"comment"===c&&p.createElement(pe,null),"help"===c&&p.createElement(de,null),"insert"===c&&p.createElement(me,null),"key"===c&&p.createElement(fe,null),"note"===c&&p.createElement(he,null),("newparagraph"===c||"paragraph"===c)&&p.createElement(ge,null)),e.slot.children),r&&r.annotationType===t.AnnotationType.Popup&&e.popup.opened&&p.createElement($,{annotation:r,page:a,viewport:o}))}))},Ee=function(e){var t=e.annotation,n=e.page,r=e.viewport,a=!1===t.hasPopup,o=!!(t.hasPopup||t.title||t.contents);return p.createElement(J,{annotation:t,hasPopup:a,ignoreBorder:!0,isRenderable:o,page:n,viewport:r},(function(e){return p.createElement("div",m({},e.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},Ce=function(e){var n=e.annotations,r=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,s=e.plugins,c=e.rotation,l=e.scale,u=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:c,scale:l}).clone({dontFlip:!0}),h=n.filter((function(e){return!e.parentId}));return p.useEffect((function(){var e=r.current;e&&s.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:c,scale:l})}))}),[]),p.createElement(p.Fragment,null,h.map((function(e){var r=n.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case t.AnnotationType.Caret:return p.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Circle:return p.createElement(Y,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.FileAttachment:return p.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.FreeText:return p.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Highlight:return p.createElement(ee,{key:e.id,annotation:e,childAnnotation:r,page:o,viewport:f});case t.AnnotationType.Ink:return p.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Line:return p.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Link:return p.createElement(ae,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:u,onJumpToDest:d});case t.AnnotationType.Polygon:return p.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Polyline:return p.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Popup:return p.createElement($,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Square:return p.createElement(se,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Squiggly:return p.createElement(ce,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Stamp:return p.createElement(le,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.StrikeOut:return p.createElement(ue,{key:e.id,annotation:e,page:o,viewport:f});case t.AnnotationType.Text:return p.createElement(ve,{key:e.id,annotation:e,childAnnotation:r,page:o,viewport:f});case t.AnnotationType.Underline:return p.createElement(Ee,{key:e.id,annotation:e,page:o,viewport:f});default:return p.createElement(p.Fragment,{key:e.id})}})))},xe=function(e){var t=e.page,n=e.renderAnnotations,r=p.useState({loading:!0,annotations:[]}),a=r[0],o=r[1];return p.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){o({loading:!1,annotations:e})}))}),[]),a.loading?p.createElement(p.Fragment,null):n(a.annotations)},ye=function(e){var t=e.doc,n=e.page,r=e.pageIndex,a=e.plugins,o=e.rotation,i=e.scale,s=e.onExecuteNamedAction,c=e.onJumpToDest,l=p.useRef();return p.createElement("div",{ref:l,className:"rpv-core__annotation-layer"},p.createElement(xe,{page:n,renderAnnotations:function(e){return p.createElement(Ce,{annotations:e,containerRef:l,doc:t,page:n,pageIndex:r,plugins:a,rotation:o,scale:i,onExecuteNamedAction:s,onJumpToDest:c})}}))},we=function(e){var t=e.callback,n=e.children,r=e.rotation,a=e.scale;return x((function(){t()}),[r,a]),p.createElement(p.Fragment,null,n)},be=function(e){var n=e.height,r=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,c=e.width,l=p.useRef(),u=p.useRef(),d=p.useState(!1),f=d[0],h=d[1],g=window.devicePixelRatio||1;return p.createElement(we,{callback:function(){h(!1);var e=u.current;e&&e.cancel();var p=l.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:p,pageIndex:a,rotation:i,scale:s,status:t.LayerRenderStatus.PreRender})})),p.height=n*g,p.width=c*g,p.style.opacity="0";var d=p.getContext("2d",{alpha:!1}),f=r.getViewport({rotation:i,scale:s*g});u.current=r.render({canvasContext:d,viewport:f}),u.current.promise.then((function(){h(!0),p.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:p,pageIndex:a,rotation:i,scale:s,status:t.LayerRenderStatus.DidRender})}))}),(function(){h(!0)}))},rotation:i,scale:s},p.createElement("div",{className:"rpv-core__canvas-layer",style:{height:n+"px",width:c+"px"}},!f&&p.createElement("div",{className:"rpv-core__canvas-layer-loader"},p.createElement(P,null)),p.createElement("canvas",{ref:l,style:{transform:"scale("+1/g+")",transformOrigin:"top left"}})))},ke=function(e){var t=e.height,n=e.page,r=e.rotation,a=e.scale,o=e.width,i=p.useRef();return p.createElement(we,{callback:function(){var e=i.current,s=n.getViewport({rotation:r,scale:a});n.getOperatorList().then((function(r){!function(){var e=i.current;e&&(e.innerHTML="")}(),new d.SVGGraphics(n.commonObjs,n.objs).getSVG(r,s).then((function(n){n.style.height=t+"px",n.style.width=o+"px",e.appendChild(n)}))}))},rotation:r,scale:a},p.createElement("div",{className:"rpv-core__svg-layer",ref:i}))},Pe=function(e){var n=e.page,r=e.pageIndex,a=e.plugins,o=e.rotation,i=e.scale,s=p.useRef(),c=p.useRef();return p.createElement(we,{callback:function(){var e=c.current;e&&e.cancel();var l=s.current;if(l){var u=n.getViewport({rotation:o,scale:i});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:l,pageIndex:r,scale:i,status:t.LayerRenderStatus.PreRender})})),n.getTextContent().then((function(e){!function(){var e=s.current;e&&([].slice.call(e.querySelectorAll("span.rpv-core__text-layer-text")).forEach((function(t){return e.removeChild(t)})),[].slice.call(e.querySelectorAll('br[role="presentation"]')).forEach((function(t){return e.removeChild(t)})))}(),c.current=d.renderTextLayer({container:l,textContent:e,viewport:u,enhanceTextSelection:!0}),c.current.promise.then((function(){[].slice.call(l.children).forEach((function(e){return e.classList.add("rpv-core__text-layer-text")})),a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:l,pageIndex:r,scale:i,status:t.LayerRenderStatus.DidRender})}))}),(function(){}))}))}},rotation:o,scale:i},p.createElement("div",{className:"rpv-core__text-layer",ref:s}))},Oe=function(e){var t=e.currentPage,n=e.doc,r=e.height,a=e.pageIndex,o=e.plugins,i=e.renderPage,s=e.rotation,c=e.scale,l=e.width,u=e.onExecuteNamedAction,d=e.onJumpToDest,f=e.onPageVisibilityChanged,h=p.useState({page:null,pageHeight:r,pageWidth:l,viewportRotation:0}),g=h[0],m=h[1],v=g.page,E=g.pageHeight,C=g.pageWidth,x=p.useRef(!1),y=Array(10).fill(null).map((function(e,t){return t/10})),w=C*c,b=E*c,O=Math.abs(s)%180==0,R=O?w:b,L=O?b:w,S=function(){x.current||(x.current=!0,n.getPage(a+1).then((function(e){var t=e.getViewport({scale:1});m({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},_=i||function(e){return p.createElement(p.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},T=(s+g.viewportRotation)%360,A=k({threshold:y,onVisibilityChanged:function(e){f(a,e.isVisible?e.ratio:-1),e.isVisible&&S()}});return p.useEffect((function(){t-2<=a&&a<=t+2&&S()}),[t]),p.createElement("div",{ref:A,className:"rpv-core__page-layer","data-testid":"core__page-layer-"+a,style:{height:L+"px",width:R+"px"}},v?p.createElement(p.Fragment,null,_({annotationLayer:{attrs:{},children:p.createElement(ye,{doc:n,page:v,pageIndex:a,plugins:o,rotation:T,scale:c,onExecuteNamedAction:u,onJumpToDest:d})},canvasLayer:{attrs:{},children:p.createElement(be,{height:L,page:v,pageIndex:a,plugins:o,rotation:T,scale:c,width:R})},doc:n,height:L,pageIndex:a,rotation:s,scale:c,svgLayer:{attrs:{},children:p.createElement(ke,{height:L,page:v,rotation:T,scale:c,width:R})},textLayer:{attrs:{},children:p.createElement(Pe,{page:v,pageIndex:a,plugins:o,rotation:T,scale:c})},width:R}),o.map((function(e,t){return e.renderPageLayer?p.createElement(p.Fragment,{key:t},e.renderPageLayer({doc:n,height:L,pageIndex:a,rotation:s,scale:c,width:R})):p.createElement(p.Fragment,{key:t})}))):p.createElement(P,null))},Re=function(e,n,r,a){switch(a){case t.SpecialZoomLevel.ActualSize:return 1;case t.SpecialZoomLevel.PageFit:return Math.min((e.clientWidth-17)/r,(e.clientHeight-16)/n);case t.SpecialZoomLevel.PageWidth:return(e.clientWidth-17)/r}},Le=function(e){var n=e.currentFile,r=e.defaultScale,a=e.doc,o=e.initialPage,i=e.pageSize,s=e.plugins,c=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,d=e.onOpenFile,f=e.onPageChange,h=e.onZoom,g=p.useContext(j).l10n,v=p.useContext(E),C=p.useRef(null),y=p.useRef(null),w=p.useState(0),b=w[0],k=w[1],P=p.useState(0),O=P[0],R=P[1],L=p.useRef(l),S=p.useState(i.scale),_=S[0],T=S[1],A=p.useRef("string"==typeof r?r:null);!function(e){var t=e.targetRef,n=e.onResize;x((function(){var e=new ResizeObserver((function(e){e.forEach((function(e){n(e.target)}))})),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[])}({targetRef:y,onResize:function(e){A.current&&J(A.current)}});var M=a.numPages,N=i.pageWidth,F=i.pageHeight,I=Array(M).fill(null),H=I.map((function(){return 0})),D=I.map((function(){return p.useRef()})),B=function(e){var t=e;s.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),L.current=t},W=function(){return y.current},V=function(e){return e<0||e>=M?null:D[e].current},z=function(){return L.current},q=function(e,n,r,o){var i=y.current,s=L.current;if(i&&s){var c=e+1;a.getPage(c).then((function(a){var c=a.getViewport({scale:1}),l=0,u=n||0,p=r||0,d=s.scale;switch(o){case t.SpecialZoomLevel.PageFit:l=0,p=0,J(t.SpecialZoomLevel.PageFit);break;case t.SpecialZoomLevel.PageWidth:d=Re(i,F,N,t.SpecialZoomLevel.PageWidth),l=(c.height-u)*d,p*=d,J(d);break;default:l=(c.height-u)*s.scale,p*=s.scale}var f=D[e].current;f&&(i.scrollTop=f.offsetTop+l,i.scrollLeft=f.offsetLeft+p)}))}},U=function(e){if(!(e<0||e>=M)){var t=y.current,n=D[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),k(e)}},G=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){d(e.name,t)}))},Z=function(e){R(e),B({file:l.file,pageIndex:b,pageHeight:F,pageWidth:N,rotation:e,scale:_})},J=function(e){var t=y.current,n=t?"string"==typeof e?Re(t,F,N,e):e:1;A.current="string"==typeof e?e:null,T(n),h({doc:a,scale:n})};p.useEffect((function(){var e=y.current,t=L.current;e&&t&&(e.scrollTop=e.scrollTop*_/t.scale,e.scrollLeft=e.scrollLeft*_/t.scale,B({file:l.file,pageIndex:t.pageIndex,pageHeight:F,pageWidth:N,rotation:O,scale:_}))}),[_]),p.useEffect((function(){var e={getPageElement:V,getPagesContainer:W,getViewerState:z,jumpToDestination:q,jumpToPage:U,openFile:G,rotate:Z,setViewerState:B,zoom:J};return s.forEach((function(t){t.install&&t.install(e)})),function(){s.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),p.useEffect((function(){u({doc:a,file:n}),s.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:a,file:n})})),o&&U(o)}),[]),p.useEffect((function(){f({currentPage:b,doc:a}),B({file:l.file,pageIndex:b,pageHeight:F,pageWidth:N,rotation:O,scale:_})}),[b]);var X,Y=function(e,t){H[e]=t;var n=H.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);k(n)},K=function(e){var t=b-1,n=b+1;switch(e){case"FirstPage":U(0);break;case"LastPage":U(M-1);break;case"NextPage":n<M&&U(n);break;case"PrevPage":t>=0&&U(t)}},Q=g&&g.core?g.core.pageLabel:"Page {{pageIndex}}";return function e(t){return p.createElement("div",m({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((X={attrs:{"data-testid":"core__inner-container",ref:C,style:{height:"100%"}},children:p.createElement(p.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",ref:y,style:{height:"100%",overflow:"auto",position:"relative"}},children:p.createElement(p.Fragment,null,Array(M).fill(0).map((function(e,t){return p.createElement("div",{"aria-label":Q.replace("{{pageIndex}}",""+(t+1)),className:"rpv-core__inner-page",key:"pagelayer-"+t,ref:function(e){D[t].current=e},role:"region"},p.createElement(Oe,{currentPage:b,doc:a,height:F,pageIndex:t,plugins:s,renderPage:c,rotation:O,scale:_,width:N,onExecuteNamedAction:K,onJumpToDest:q,onPageVisibilityChanged:Y}))})))}},s.forEach((function(e){e.renderViewer&&(X=e.renderViewer({containerRef:C,doc:a,pageHeight:F,pageWidth:N,rotation:O,slot:X,themeContext:v,jumpToPage:U,openFile:G,rotate:Z,zoom:J}))})),X))},Se=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],_e=function(e){var t=e.defaultScale,n=e.doc,r=e.render,a=p.useRef(null),o=p.useState({pageHeight:0,pageWidth:0,scale:1}),i=o[0],s=o[1];return p.useEffect((function(){n.getPage(1).then((function(e){var n=e.getViewport({scale:1}),r=n.width,o=n.height,i=a.current;if(i){var c,l,u=i.parentElement,p=u.clientWidth/r,d=t?"string"==typeof t?Re(u,o,r,t):t:(c=p,-1===(l=Se.findIndex((function(e){return e>=c})))||0===l?c:Se[l-1]);s({pageHeight:o,pageWidth:r,scale:d})}}))}),[n]),0===i.pageWidth?p.createElement("div",{className:"rpv-core__page-size-calculator",ref:a},p.createElement(P,null)):r(i)},Te=function(){var e=p.useRef(!1);return p.useEffect((function(){return e.current=!0,function(){e.current=!1}}),[]),e},Ae=function(){};!function(e){e[e.REQUIRE_PASSWORD=0]="REQUIRE_PASSWORD",e[e.WRONG_PASSWORD=1]="WRONG_PASSWORD"}(Z||(Z={}));var Me=function(e){function t(t,n){var r=e.call(this)||this;return r.verifyPassword=t,r.submitPassword=n,r}return h(t,e),t}(Ae),Ne=function(e){var n=e.submitPassword,r=e.verifyPassword,a=e.onDocumentAskPassword,o=p.useContext(j).l10n,i=p.useState(""),s=i[0],c=i[1],l=p.useContext(E).direction===t.TextDirection.RightToLeft,u=function(){return r(s)};return p.useEffect((function(){a&&a({verifyPassword:r})}),[]),p.createElement("div",{className:"rpv-core__asking-password-wrapper"},p.createElement("div",{className:C({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":l})},p.createElement("div",{className:"rpv-core__asking-password-message"},n===Z.REQUIRE_PASSWORD&&o.core.askingPassword.requirePasswordToOpen,n===Z.WRONG_PASSWORD&&o.core.wrongPassword.tryAgain),p.createElement("div",{className:"rpv-core__asking-password-body"},p.createElement("div",{className:C({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!l,"rpv-core__asking-password-input--rtl":l})},p.createElement(O,{testId:"core__asking-password-input",type:"password",value:s,onChange:c,onKeyDown:function(e){"Enter"===e.key&&u()}})),p.createElement(b,{onClick:u},o.core.askingPassword.submit))))},Fe=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return h(t,e),t}(Ae),Ie=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return h(t,e),t}(Ae),He=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return h(t,e),t}(Ae),De=function(e){var n=e.characterMap,r=e.file,a=e.httpHeaders,o=e.render,i=e.renderError,s=e.renderLoader,c=e.transformGetDocumentParams,l=e.withCredentials,u=e.onDocumentAskPassword,f=p.useContext(E).direction===t.TextDirection.RightToLeft,h=p.useState(new He(0)),g=h[0],m=h[1],v=p.useState(0),x=v[0],y=v[1],w=p.useState(null),b=w[0],k=w[1],O=Te();return p.useEffect((function(){m(new He(0));var e=new d.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:a,withCredentials:l,worker:e},"string"==typeof r?{url:r}:{data:r},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),o=c?c(t):t,i=d.getDocument(o);return i.onPassword=function(e,t){switch(t){case d.PasswordResponses.NEED_PASSWORD:O.current&&m(new Me(e,Z.REQUIRE_PASSWORD));break;case d.PasswordResponses.INCORRECT_PASSWORD:O.current&&m(new Me(e,Z.WRONG_PASSWORD))}},i.onProgress=function(e){e.total>0?O.current&&y(Math.min(100,100*e.loaded/e.total)):O.current&&y(100)},i.promise.then((function(e){return O.current&&k(e)}),(function(t){return O.current&&!e.destroyed&&m(new Ie({message:t.message||"Cannot load document",name:t.name}))})),function(){i.destroy(),e.destroy()}}),[r]),p.useEffect((function(){100===x&&b?O.current&&m(new Fe(b)):O.current&&m(new He(x))}),[x,b]),g instanceof Me?p.createElement(Ne,{submitPassword:g.submitPassword,verifyPassword:g.verifyPassword,onDocumentAskPassword:u}):g instanceof Fe?o(g.doc):g instanceof Ie?i?i(g.error):p.createElement("div",{className:C({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":f})},p.createElement("div",{className:"rpv-core__doc-error-text"},g.error.message)):g instanceof He?p.createElement("div",{"data-testid":"core__doc-loading",className:C({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":f})},s?s(g.percentages):p.createElement(P,null)):p.createElement("div",{className:"rpv-core__doc-loading","data-testid":"core__doc-loading"},p.createElement(P,null))};t.Button=function(e){var n=e.children,r=e.testId,a=e.onClick,o=p.useContext(E).direction===t.TextDirection.RightToLeft,i=r?{"data-testid":r}:{};return p.createElement("button",m({className:C({"rpv-core__button":!0,"rpv-core__button--rtl":o}),type:"button",onClick:a},i),n)},t.Icon=y,t.LocalizationContext=j,t.Menu=function(e){var n=e.children,r=p.useRef(),a=p.useRef([]),o=p.useContext(E).direction===t.TextDirection.RightToLeft,i=function(e){if(r.current)switch(e.key){case"Tab":e.preventDefault();break;case"ArrowDown":e.preventDefault(),s((function(e,t){return t+1}));break;case"ArrowUp":e.preventDefault(),s((function(e,t){return t-1}));break;case"End":e.preventDefault(),s((function(e,t){return e.length-1}));break;case"Home":e.preventDefault(),s((function(e,t){return 0}))}},s=function(e){if(r.current){var t=a.current,n=t.findIndex((function(e){return"0"===e.getAttribute("tabindex")})),o=Math.min(t.length-1,Math.max(0,e(t,n)));n>=0&&n<=t.length-1&&t[n].setAttribute("tabindex","-1"),t[o].setAttribute("tabindex","0"),t[o].focus()}};return x((function(){var e=r.current;if(e){var t=function(e){var t=[];return e.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach((function(n){if(n instanceof HTMLElement){var r=n.parentElement;(r===e||"none"!==window.getComputedStyle(r).display)&&t.push(n)}})),t}(e);a.current=t}}),[]),x((function(){return document.addEventListener("keydown",i),function(){document.removeEventListener("keydown",i)}}),[]),p.createElement("div",{ref:r,"aria-orientation":"vertical",className:C({"rpv-core__menu":!0,"rpv-core__menu--rtl":o}),role:"menu",tabIndex:0},n)},t.MenuDivider=function(){return p.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},t.MenuItem=function(e){var n=e.checked,r=void 0!==n&&n,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.isDisabled,c=void 0!==s&&s,l=e.onClick,u=p.useContext(E).direction===t.TextDirection.RightToLeft;return p.createElement("button",{className:C({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":c,"rpv-core__menu-item--ltr":!u,"rpv-core__menu-item--rtl":u}),role:"menuitem",tabIndex:-1,type:"button",onClick:l},p.createElement("div",{className:C({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!u,"rpv-core__menu-item-icon--rtl":u})},i),p.createElement("div",{className:C({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!u,"rpv-core__menu-item-label--rtl":u})},a),p.createElement("div",{className:C({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!u,"rpv-core__menu-item-check--rtl":u})},r&&p.createElement(w,null)))},t.MinimalButton=function(e){var n=e.ariaLabel,r=void 0===n?"":n,a=e.ariaKeyShortcuts,o=void 0===a?"":a,i=e.children,s=e.isDisabled,c=void 0!==s&&s,l=e.isSelected,u=void 0!==l&&l,d=e.onClick,f=p.useContext(E).direction===t.TextDirection.RightToLeft;return p.createElement("button",m({"aria-label":r},o&&{"aria-keyshortcuts":o},c&&{"aria-disabled":!0},{className:C({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":c,"rpv-core__minimal-button--rtl":f,"rpv-core__minimal-button--selected":u}),type:"button",onClick:d}),i)},t.Modal=function(e){var t=e.ariaControlsSuffix,n=e.closeOnClickOutside,r=e.closeOnEscape,a=e.content,o=e.isOpened,i=void 0!==o&&o,s=e.target,c=t||""+N();return p.createElement(A,{target:s?function(e,t){return p.createElement("div",{"aria-expanded":t?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-"+c},s(e,t))}:null,content:function(e){return p.createElement(_,null,p.createElement(S,{ariaControlsSuffix:c,closeOnClickOutside:n,closeOnEscape:r,onToggle:e},a(e)))},isOpened:i})},t.Popover=function(e){var t=e.ariaHasPopup,n=void 0===t?"dialog":t,r=e.ariaControlsSuffix,a=e.closeOnClickOutside,o=e.closeOnEscape,i=e.content,s=e.offset,c=e.position,l=e.target,u=T(!1),d=u.opened,f=u.toggle,h=p.useRef(),g=r||""+N();return p.createElement("div",{ref:h,"aria-expanded":d?"true":"false","aria-haspopup":n,"aria-controls":"rpv-core__popver-body-"+g},l(f,d),d&&p.createElement(p.Fragment,null,p.createElement(D,{closeOnEscape:o,onClose:f}),p.createElement(H,{ariaControlsSuffix:g,closeOnClickOutside:a,offset:s,position:c,targetRef:h,onClose:f},i(f))))},t.PrimaryButton=b,t.ProgressBar=function(e){var n=e.progress,r=p.useContext(E).direction===t.TextDirection.RightToLeft;return p.createElement("div",{className:C({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":r})},p.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:n+"%"}},n,"%"))},t.Separator=function(){return p.createElement("div",{className:"rpv-core__separator"})},t.Spinner=P,t.Splitter=function(e){var n=e.constrain,r=p.useContext(E).direction===t.TextDirection.RightToLeft,a=p.useRef(),o=p.useRef(),i=p.useRef(),s=p.useRef(0),c=p.useRef(0),l=p.useRef(0),u=p.useRef(0),d={capture:!0},f=function(e){var t=a.current,c=o.current,p=i.current;if(t&&c&&p){var d=u.current,f=e.clientX-s.current,h=l.current+(r?-f:f),g=t.parentElement.getBoundingClientRect().width,m=100*h/g;if(t.classList.add("rpv-core__splitter--resizing"),n){var v=g-h-d;if(!n({firstHalfPercentage:m,firstHalfSize:h,secondHalfPercentage:100*v/g,secondHalfSize:v}))return}c.style.width=m+"%",document.body.classList.add("rpv-core__splitter-body--resizing"),c.classList.add("rpv-core__splitter-sibling--resizing"),p.classList.add("rpv-core__splitter-sibling--resizing")}},h=function e(t){var n=a.current,r=o.current,s=i.current;n&&r&&s&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),n.classList.remove("rpv-core__splitter--resizing"),r.classList.remove("rpv-core__splitter-sibling--resizing"),s.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",f,d),document.removeEventListener("mouseup",e,d))};return p.useEffect((function(){var e=a.current;e&&(u.current=e.getBoundingClientRect().width,o.current=e.previousElementSibling,i.current=e.nextElementSibling)}),[]),p.createElement("div",{ref:a,className:"rpv-core__splitter",onMouseDown:function(e){var t=o.current;t&&(s.current=e.clientX,c.current=e.clientY,l.current=t.getBoundingClientRect().width,document.addEventListener("mousemove",f,d),document.addEventListener("mouseup",h,d))}})},t.TextBox=O,t.ThemeContext=E,t.Tooltip=function(e){var n=e.ariaControlsSuffix,r=e.content,a=e.offset,o=e.position,i=e.target,s=T(!1),c=s.opened,l=s.toggle,u=p.useRef(),d=p.useRef(),f=n||""+N();L((function(){u.current&&document.activeElement&&u.current.contains(document.activeElement)&&g()}));var h=function(){l(t.ToggleStatus.Open)},g=function(){l(t.ToggleStatus.Close)};return p.createElement(p.Fragment,null,p.createElement("div",{ref:u,"aria-describedby":"rpv-core__tooltip-body-"+f,onBlur:function(e){e.relatedTarget instanceof HTMLElement&&e.currentTarget.parentElement&&e.currentTarget.parentElement.contains(e.relatedTarget)?d.current&&(d.current.style.display="none"):g()},onFocus:h,onMouseEnter:h,onMouseLeave:g},i),c&&p.createElement(B,{ariaControlsSuffix:f,contentRef:d,offset:a,position:o,targetRef:u},r()))},t.Viewer=function(e){var n=e.characterMap,r=e.defaultScale,a=e.fileUrl,o=e.httpHeaders,i=void 0===o?{}:o,s=e.initialPage,c=void 0===s?0:s,l=e.localization,u=e.plugins,d=void 0===u?[]:u,f=e.renderError,h=e.renderPage,g=e.renderLoader,m=e.transformGetDocumentParams,v=e.theme,C=void 0===v?{direction:t.TextDirection.LeftToRight,theme:"light"}:v,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentAskPassword,b=e.onDocumentLoad,P=void 0===b?function(){}:b,O=e.onPageChange,R=void 0===O?function(){}:O,L=e.onSwitchTheme,S=void 0===L?function(){}:L,_=e.onZoom,T=void 0===_?function(){}:_,A=p.useState({data:a,name:"string"==typeof a?a:"",shouldLoad:!1}),M=A[0],N=A[1],F=function(e,t){N({data:t,name:e,shouldLoad:!0})},I=p.useState(!1),H=I[0],D=I[1],B=V(M);p.useEffect((function(){var e,t,n,r;e=B.data,r=typeof(t=a),"string"===(n=typeof e)&&"string"===r&&e===t||"object"===n&&"object"===r&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))||N({data:a,name:"string"==typeof a?a:"",shouldLoad:H})}),[a,H]);var z=k({onVisibilityChanged:function(e){D(e.isVisible),e.isVisible&&N((function(e){return Object.assign({},e,{shouldLoad:!0})}))}}),q="string"==typeof C?{direction:t.TextDirection.LeftToRight,theme:C}:C,U=p.useState(l||W),G=U[0],Z=U[1],J={l10n:G,setL10n:Z},X=Object.assign({},{direction:q.direction},function(e,t){var n=p.useMemo((function(){return"auto"===e?"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e}),[]),r=p.useState(n),a=r[0],o=r[1],i=V(a);return p.useEffect((function(){if("auto"===e){var t=window.matchMedia("(prefers-color-scheme: dark)"),n=function(e){o(e.matches?"dark":"light")};return t.addEventListener("change",n),function(){return t.removeEventListener("change",n)}}}),[]),p.useEffect((function(){a!==i&&t&&t(a)}),[a]),p.useEffect((function(){e!==a&&o(e)}),[e]),{currentTheme:a,setCurrentTheme:o}}(q.theme||"light",S));return p.useEffect((function(){l&&Z(l)}),[l]),p.createElement(j.Provider,{value:J},p.createElement(E.Provider,{value:X},p.createElement("div",{ref:z,className:"rpv-core__viewer rpv-core__viewer--"+X.currentTheme,"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},M.shouldLoad&&p.createElement(De,{characterMap:n,file:M.data,httpHeaders:i,render:function(e){return p.createElement(_e,{defaultScale:r,doc:e,render:function(t){return p.createElement(Le,{currentFile:{data:M.data,name:M.name},defaultScale:r,doc:e,initialPage:c,pageSize:t,plugins:d,renderPage:h,viewerState:{file:M,pageIndex:c,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:P,onOpenFile:F,onPageChange:R,onZoom:T})}})},renderError:f,renderLoader:g,transformGetDocumentParams:m,withCredentials:y,onDocumentAskPassword:w}))))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return d.GlobalWorkerOptions.workerSrc=n,p.createElement(p.Fragment,null,t)},t.classNames=C,t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=m(m({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=re,t.isMac=function(){return"undefined"!=typeof window&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},t.useIntersectionObserver=k,t.useIsMounted=Te,t.useIsomorphicLayoutEffect=x},function(e,t){function n(e,t,n,r,a,o,i){try{var s=e[o](i),c=s.value}catch(l){return void n(l)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)}))}}},,,,,,function(e,t,n){"use strict";e.exports=n(335)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(336),o=n(338),i=n(342),s=n(346),c=n(350),l=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3\n                M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5\n                c0.552,0,1,0.448,1,1L11.5,10.5z\n                M14.5,6.499h6\n                M14.5,10.499h6\n                M3.5,14.499h17\n                M3.5,18.499h16.497"}))},u=function(){return(u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},p=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883\n                c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0\n                L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9"}))},d=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n                M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},f={left:8,top:0},h=function(e){var t=e.attachmentTabContent,n=e.bookmarkTabContent,o=e.store,i=e.thumbnailTabContent,s=e.tabs,c=r.useContext(a.LocalizationContext),u=r.useState(!1),h=u[0],g=u[1],m=r.useState(o.get("currentTab")||0),v=m[0],E=m[1],C=[{content:i,icon:r.createElement(d,null),title:r.createElement(r.Fragment,null,c&&c.defaultLayout?c.defaultLayout.thumbnail:"Thumbnail")},{content:n,icon:r.createElement(l,null),title:r.createElement(r.Fragment,null,c&&c.defaultLayout?c.defaultLayout.bookmark:"Bookmark")},{content:t,icon:r.createElement(p,null),title:r.createElement(r.Fragment,null,c&&c.defaultLayout?c.defaultLayout.attachment:"Attachment")}],x=s?s(C):C,y=function(e){v===e?g((function(e){return!e})):(g(!0),E(e))};return r.useEffect((function(){return o.subscribe("currentTab",y),function(){o.unsubscribe("currentTab",y)}}),[]),r.createElement("div",{className:"rpv-default-layout-sidebar "+(h?"rpv-default-layout-sidebar-opened":"")},r.createElement("div",{className:"rpv-default-layout-sidebar-tabs"},r.createElement("div",{className:"rpv-default-layout-sidebar-headers"},x.map((function(e,t){return r.createElement("div",{key:t,className:"rpv-default-layout-sidebar-header"},r.createElement(a.Tooltip,{position:a.Position.RightCenter,target:r.createElement(a.Button,{onClick:function(){return y(t)},isSelected:v===t},e.icon),content:function(){return e.title},offset:f}))}))),r.createElement("div",{className:"rpv-default-layout-sidebar-content "+(h?"rpv-default-layout-sidebar-content-opened":"")},x[v].content)))};t.BookmarkIcon=l,t.FileIcon=p,t.ThumbnailIcon=d,t.defaultLayoutPlugin=function(e){var t=r.useMemo((function(){return a.createStore({currentTab:0})}),[]),n=o.attachmentPlugin(),l=i.bookmarkPlugin(),p=s.thumbnailPlugin(),d=c.toolbarPlugin(e?e.toolbarPlugin:{}),f=n.Attachments,g=l.Bookmarks,m=p.Thumbnails,v=d.Toolbar,E=e?e.sidebarTabs:function(e){return e},C=[n,l,p,d];return{attachmentPluginInstance:n,bookmarkPluginInstance:l,thumbnailPluginInstance:p,toolbarPluginInstance:d,activateTab:function(e){t.update("currentTab",e)},install:function(e){C.forEach((function(t){t.install&&t.install(e)}))},renderViewer:function(n){var a=n.slot;C.forEach((function(e){e.renderViewer&&(a=e.renderViewer(u(u({},n),{slot:a})))}));var o=a.subSlot&&a.subSlot.attrs?{ref:a.subSlot.attrs.ref,style:a.subSlot.attrs.style}:{};return a.children=r.createElement("div",{className:"rpv-default-layout-container"},r.createElement("div",{className:"rpv-default-layout-toolbar"},e&&e.renderToolbar?e.renderToolbar(v):r.createElement(v,null)),r.createElement("div",{className:"rpv-default-layout-main"},r.createElement(h,{attachmentTabContent:r.createElement(f,null),bookmarkTabContent:r.createElement(g,null),store:t,thumbnailTabContent:r.createElement(m,null),tabs:E}),r.createElement("div",u({className:"rpv-default-layout-body"},o),a.subSlot.children)),a.children),a.subSlot.attrs={},a.subSlot.children=r.createElement(r.Fragment,null),a},uninstall:function(e){C.forEach((function(t){t.uninstall&&t.uninstall(e)}))},onDocumentLoad:function(e){C.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad(e)}))},onTextLayerRender:function(e){C.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender(e)}))},onViewerStateChange:function(e){var t=e;return C.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),t}}}},function(e,t,n){"use strict";e.exports=n(337)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(339)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(340),o=function(e){var t=e.files,n=r.useContext(a.LocalizationContext);return 0===t.length?r.createElement("div",{className:"rpv-attachment-list-empty"},n&&n.attachment?n.attachment.noAttachment:"There is no attachment"):r.createElement("ul",{className:"rpv-attachment-list"},t.map((function(e){return r.createElement("li",{className:"rpv-attachment-item",key:"attachment-"+e.fileName,title:n&&n.attachment?n.attachment.clickToDownload:"Click to download",onClick:function(){return t=e.fileName,r="string"==typeof(n=e.data)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||t,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(t)),document.body.appendChild(a),a.click(),document.body.removeChild(a),void(r&&URL.revokeObjectURL(r));var t,n,r,a}},e.fileName)})))},i=function(e){var t=e.doc,n=r.useState({files:[],isLoaded:!1}),i=n[0],s=n[1];return r.useEffect((function(){t.getAttachments().then((function(e){var t=e?Object.keys(e).map((function(t){return{data:e[t].content,fileName:e[t].filename}})):[];s({files:t,isLoaded:!0})}))}),[t]),i.isLoaded?r.createElement(o,{files:i.files}):r.createElement(a.Spinner,null)},s=function(e){var t=e.store,n=r.useState(t.get("doc")),o=n[0],s=n[1],c=function(e){s(e)};return r.useEffect((function(){return t.subscribe("doc",c),function(){t.unsubscribe("doc",c)}}),[]),o?r.createElement(i,{doc:o}):r.createElement("div",{className:"rpv-attachment-list-loader"},r.createElement(a.Spinner,null))};t.attachmentPlugin=function(){var e=r.useMemo((function(){return a.createStore({})}),[]);return{onDocumentLoad:function(t){e.update("doc",t.doc)},Attachments:function(){return r.createElement(s,{store:e})}}}},function(e,t,n){"use strict";e.exports=n(341)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(343)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(344),o=function(e){var t=e.bookmark,n=e.depth,a=e.doc,o=e.onClick,s=e.onJumpToDest,c=r.createRef(),l=r.createRef(),u=r.useRef(!0),p=t.items&&t.items.length>0;return r.createElement(r.Fragment,null,r.createElement("div",{className:"rpv-bookmark-item",style:{paddingLeft:20*n+4+"px"},onClick:function(){!p&&t.dest&&o(t.dest)}},p&&r.createElement("span",{ref:c,className:"rpv-bookmark-toggle",onClick:function(){u.current=!u.current;var e=l.current,t=c.current;e&&t&&(e.style.display=u.current?"block":"none",t.classList.toggle("rpv-bookmark-toggle-expanded"))}},"\u25ba"),t.url?r.createElement("a",{className:"rpv-bookmark-title",href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":""},t.title):r.createElement("div",{className:"rpv-bookmark-title",onClick:function(){p&&t.dest&&o(t.dest)}},t.title)),p&&r.createElement("div",{ref:l},r.createElement(i,{bookmarks:t.items,depth:n+1,doc:a,onJumpToDest:s})))},i=function(e){var t=e.bookmarks,n=e.depth,i=void 0===n?0:n,s=e.doc,c=e.onJumpToDest,l=function(e){a.getDestination(s,e).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;c(t+1,n,r)}))};return r.createElement("ul",{className:"rpv-bookmark-list"},t.map((function(e,t){return r.createElement("li",{key:t},r.createElement(o,{bookmark:e,depth:i,doc:s,onClick:l,onJumpToDest:c}))})))},s=function(e){var t=e.doc,n=e.onJumpToDest,o=r.useContext(a.LocalizationContext),s=r.useState({isLoaded:!1,items:[]}),c=s[0],l=s[1];return r.useEffect((function(){l({isLoaded:!1,items:[]}),t.getOutline().then((function(e){l({isLoaded:!0,items:e||[]})}))}),[t]),c.isLoaded?0===c.items.length?r.createElement("div",{className:"rpv-bookmark-empty"},o&&o.bookmark?o.bookmark.noBookmark:"There is no bookmark"):r.createElement(i,{bookmarks:c.items,depth:0,doc:t,onJumpToDest:n}):r.createElement(a.Spinner,null)},c=function(e){var t=e.store,n=r.useState(t.get("doc")),o=n[0],i=n[1],c=function(e){i(e)};return r.useEffect((function(){return t.subscribe("doc",c),function(){t.unsubscribe("doc",c)}}),[]),o?r.createElement(s,{doc:o,onJumpToDest:function(e,n,r){var a=t.get("jumpToDestination");a&&a(e,n,0,r)}}):r.createElement("div",{className:"rpv-bookmark-list-loader"},r.createElement(a.Spinner,null))};t.bookmarkPlugin=function(){var e=r.useMemo((function(){return a.createStore({})}),[]);return{install:function(t){e.update("jumpToDestination",t.jumpToDestination)},onDocumentLoad:function(t){e.update("doc",t.doc)},Bookmarks:function(){return r.createElement(c,{store:e})}}}},function(e,t,n){"use strict";e.exports=n(345)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(347)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(348),o=function(e){var t=e.page,n=e.pageHeight,o=e.pageWidth,i=e.rotation,s=e.thumbnailHeight,c=e.thumbnailWidth,l=r.useRef(),u=r.useState(""),p=u[0],d=u[1];return r.useEffect((function(){var e=l.current;e&&e.cancel();var r=document.createElement("canvas"),a=r.getContext("2d",{alpha:!1}),s=c,u=s/(o/n),p=s/o;r.height=u,r.width=s,r.style.height=u+"px",r.style.width=s+"px";var f=t.getViewport({rotation:i,scale:p});l.current=t.render({canvasContext:a,viewport:f}),l.current.promise.then((function(){return d(r.toDataURL())}),(function(){}))}),[i]),p?r.createElement("img",{src:p,height:s+"px",width:c+"px"}):r.createElement(a.Spinner,null)},i=function(e){var t=e.doc,n=e.pageHeight,i=e.pageIndex,s=e.pageWidth,c=e.rotation,l=r.useState({height:n,isCalculated:!1,page:null,viewportRotation:0,width:s}),u=l[0],p=l[1],d=u.isCalculated,f=u.page,h=u.height,g=u.width,m=g/h,v=Math.abs(c)%180==0,E=v?100:100/m,C=v?100/m:100,x=(c+u.viewportRotation)%360,y=a.useIntersectionObserver({onVisibilityChanged:function(e){e.isVisible&&!d&&t.getPage(i+1).then((function(e){var t=e.getViewport({scale:1});p({height:t.height,isCalculated:!0,page:e,viewportRotation:t.rotation,width:t.width})}))}});return r.createElement("div",{className:"rpv-thumbnail-container",ref:y,style:{height:C+"px",width:E+"px"}},f?r.createElement(o,{page:f,pageHeight:v?h:g,pageWidth:v?g:h,rotation:x,thumbnailHeight:C,thumbnailWidth:E}):r.createElement(a.Spinner,null))},s=function(e){var t=e.currentPage,n=e.doc,a=e.pageHeight,o=e.pageWidth,s=e.rotation,c=e.onJumpToPage,l=n.numPages;return r.createElement("div",{className:"rpv-thumbnail-list"},Array(l).fill(0).map((function(e,l){var u,p,d;return r.createElement("div",{key:"thumbnail-"+l,onClick:function(){return c(l)}},r.createElement("div",{className:(u={},u["rpv-thumbnail-item"]=!0,u["rpv-thumbnail-item-selected"]=t===l,p=u,d=[],Object.keys(p).forEach((function(e){e&&p[e]&&d.push(e)})),d.join(" "))},r.createElement(i,{doc:n,pageHeight:a,pageIndex:l,pageWidth:o,rotation:s})))})))},c=function(e){var t=e.store,n=r.useState(t.get("doc")),o=n[0],i=n[1],c=r.useState(t.get("currentPage")||0),l=c[0],u=c[1],p=r.useState(t.get("pageHeight")||0),d=p[0],f=p[1],h=r.useState(t.get("pageWidth")||0),g=h[0],m=h[1],v=r.useState(t.get("rotation")||0),E=v[0],C=v[1],x=function(e){u(e)},y=function(e){i(e)},w=function(e){f(e)},b=function(e){m(e)},k=function(e){C(e)};return r.useEffect((function(){return t.subscribe("doc",y),t.subscribe("pageHeight",w),t.subscribe("pageWidth",b),t.subscribe("rotation",k),function(){t.unsubscribe("doc",y),t.unsubscribe("pageHeight",w),t.unsubscribe("pageWidth",b),t.unsubscribe("rotation",k)}}),[]),a.useIsomorphicLayoutEffect((function(){return t.subscribe("currentPage",x),function(){t.unsubscribe("currentPage",x)}}),[]),o?r.createElement(s,{currentPage:l,doc:o,pageHeight:d,pageWidth:g,rotation:E,onJumpToPage:function(e){var n=t.get("jumpToPage");n&&n(e)}}):r.createElement("div",{className:"rpv-thumbnail-list-loader"},r.createElement(a.Spinner,null))};t.thumbnailPlugin=function(){var e=r.useMemo((function(){return a.createStore({})}),[]);return{install:function(t){e.update("jumpToPage",t.jumpToPage)},onDocumentLoad:function(t){e.update("doc",t.doc)},onViewerStateChange:function(t){return e.update("currentPage",t.pageIndex),e.update("pageHeight",t.pageHeight),e.update("pageWidth",t.pageWidth),t},Thumbnails:function(){return r.createElement(c,{store:e})}}}},function(e,t,n){"use strict";e.exports=n(349)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(351)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(352),o=n(354),i=n(358),s=n(362),c=n(366),l=n(370),u=n(374),p=n(378),d=n(382),f=n(386),h=n(390),g=n(394),m=n(398),v=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z\n                M12,9.5\n                c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z\n                M12,18.5c1.381,0,2.5,1.119,2.5,2.5\n                s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z"}))},E={left:0,top:8},C=function(e){var t=e.toolbarSlot,n=r.useContext(a.LocalizationContext),s=t.GoToFirstPageMenuItem,c=t.GoToLastPageMenuItem,l=t.RotateBackwardMenuItem,u=t.RotateForwardMenuItem,p=t.ShowPropertiesMenuItem,d=t.SwitchScrollModeMenuItem,f=t.SwitchSelectionModeMenuItem;return r.createElement(a.Popover,{position:a.Position.BottomRight,target:function(e,t){var o=n&&n.toolbar?n.toolbar.moreActions:"More actions";return r.createElement(a.Tooltip,{position:a.Position.BottomRight,target:r.createElement(a.Button,{onClick:e,isSelected:t},r.createElement(v,null)),content:function(){return o},offset:E})},content:function(e){return r.createElement(a.Menu,null,r.createElement(s,{onClick:e}),r.createElement(c,{onClick:e}),r.createElement(a.MenuDivider,null),r.createElement(u,{onClick:e}),r.createElement(l,{onClick:e}),r.createElement(a.MenuDivider,null),r.createElement(f,{mode:i.SelectionMode.Text,onClick:e}),r.createElement(f,{mode:i.SelectionMode.Hand,onClick:e}),r.createElement(a.MenuDivider,null),r.createElement(d,{mode:o.ScrollMode.Vertical,onClick:e}),r.createElement(d,{mode:o.ScrollMode.Horizontal,onClick:e}),r.createElement(d,{mode:o.ScrollMode.Wrapped,onClick:e}),r.createElement(a.MenuDivider,null),r.createElement(p,{onClick:e}))},offset:E,closeOnClickOutside:!0,closeOnEscape:!0})},x=function(){return(x=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},y=function(e){var t=e.CurrentPageInput,n=e.Download,a=e.EnterFullScreen,o=e.GoToNextPage,i=e.GoToPreviousPage,s=e.NumberOfPages,c=e.Open,l=e.Print,u=e.ShowSearchPopover,p=e.Zoom,d=e.ZoomIn,f=e.ZoomOut;return r.createElement("div",{className:"rpv-toolbar"},r.createElement("div",{className:"rpv-toolbar-left"},r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(u,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(i,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(t,null)," / ",r.createElement(s,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(o,null))),r.createElement("div",{className:"rpv-toolbar-center"},r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(f,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(p,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(d,null))),r.createElement("div",{className:"rpv-toolbar-right"},r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(a,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(c,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(n,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(l,null)),r.createElement("div",{className:"rpv-toolbar-item"},r.createElement(C,{toolbarSlot:e}))))},w=function(e){var t=e.children,n=e.slot;return(t||y)(n)};t.MoreActionsPopover=C,t.MoreIcon=v,t.toolbarPlugin=function(e){var t=s.dropPlugin(),n=c.fullScreenPlugin(e?e.fullScreenPlugin:{}),a=l.getFilePlugin(e?e.getFilePlugin:{}),v=u.openPlugin(),E=p.pageNavigationPlugin(),C=d.printPlugin(),y=f.propertiesPlugin(),b=h.rotatePlugin(),k=o.scrollModePlugin(e?e.scrollModePlugin:{}),P=g.searchPlugin(e?e.searchPlugin:{}),O=i.selectionModePlugin(e?e.selectionModePlugin:{}),R=m.zoomPlugin(),L=[t,n,a,v,E,C,y,b,k,P,O,R];return{dropPluginInstance:t,fullScreenPluginInstance:n,getFilePluginInstance:a,openPluginInstance:v,pageNavigationPluginInstance:E,printPluginInstance:C,propertiesPluginInstance:y,rotatePluginInstance:b,scrollModePluginInstance:k,searchPluginInstance:P,selectionModePluginInstance:O,zoomPluginInstance:R,install:function(e){L.forEach((function(t){t.install&&t.install(e)}))},renderViewer:function(e){var t=e.slot;return L.forEach((function(n){n.renderViewer&&(t=n.renderViewer(x(x({},e),{slot:t})))})),t},uninstall:function(e){L.forEach((function(t){t.uninstall&&t.uninstall(e)}))},onDocumentLoad:function(e){L.forEach((function(t){t.onDocumentLoad&&t.onDocumentLoad(e)}))},onTextLayerRender:function(e){L.forEach((function(t){t.onTextLayerRender&&t.onTextLayerRender(e)}))},onViewerStateChange:function(e){var t=e;return L.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),t},Toolbar:function(e){var t=n.EnterFullScreen,o=a.Download,i=v.Open,s=E.CurrentPageInput,c=E.CurrentPageLabel,l=E.GoToFirstPage,u=E.GoToFirstPageMenuItem,p=E.GoToLastPage,d=E.GoToLastPageMenuItem,f=E.GoToNextPage,h=E.GoToPreviousPage,g=C.Print,m=y.ShowProperties,L=y.ShowPropertiesMenuItem,S=b.Rotate,_=b.RotateBackwardMenuItem,T=b.RotateForwardMenuItem,A=k.SwitchScrollMode,M=k.SwitchScrollModeMenuItem,N=P.Search,F=P.ShowSearchPopover,I=O.SwitchSelectionMode,H=O.SwitchSelectionModeMenuItem,D=R.CurrentScale,B=R.Zoom,W=R.ZoomIn,j=R.ZoomOut;return r.createElement(w,x({},e,{slot:{CurrentPageInput:s,CurrentPageLabel:c,CurrentScale:D,Download:o,EnterFullScreen:t,GoToFirstPage:l,GoToFirstPageMenuItem:u,GoToLastPage:p,GoToLastPageMenuItem:d,GoToNextPage:f,GoToPreviousPage:h,NumberOfPages:function(){return r.createElement(c,null,(function(e){return r.createElement(r.Fragment,null,e.numberOfPages)}))},Open:i,Print:g,Rotate:S,RotateBackwardMenuItem:_,RotateForwardMenuItem:T,Search:N,ShowProperties:m,ShowPropertiesMenuItem:L,ShowSearchPopover:F,SwitchScrollMode:A,SwitchScrollModeMenuItem:M,SwitchSelectionMode:I,SwitchSelectionModeMenuItem:H,Zoom:B,ZoomIn:W,ZoomOut:j}}))}}}},function(e,t,n){"use strict";e.exports=n(353)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(355)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),o=n(356),i=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n                M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z\n                M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z"}))};!function(e){e.Horizontal="Horizontal",e.Vertical="Vertical",e.Wrapped="Wrapped"}(r||(r={}));var s=r,c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z\n                M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z\n                M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z"}))},u=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z\n                M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z\n                M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z"}))},p=function(e){var t=e.children,n=e.mode,r=e.onClick,c=a.useContext(o.LocalizationContext),p="",d=a.createElement(l,null);switch(n){case s.Horizontal:p=c&&c.scrollMode?c.scrollMode.horizontalScrolling:"Horizontal scrolling",d=a.createElement(i,null);break;case s.Wrapped:p=c&&c.scrollMode?c.scrollMode.wrappedScrolling:"Wrapped scrolling",d=a.createElement(u,null);break;case s.Vertical:default:p=c&&c.scrollMode?c.scrollMode.verticalScrolling:"Vertical scrolling",d=a.createElement(l,null)}return t({icon:d,label:p,onClick:r})},d={left:0,top:8},f=function(e){var t=e.isSelected,n=e.mode,r=e.onClick;return a.createElement(p,{mode:n,onClick:r},(function(e){return a.createElement(o.Tooltip,{position:o.Position.BottomCenter,target:a.createElement(o.Button,{isSelected:t,onClick:e.onClick},e.icon),content:function(){return e.label},offset:d})}))},h=function(e){var t=a.useState(e.get("scrollMode")||s.Vertical),n=t[0],r=t[1],o=function(e){r(e)};return a.useEffect((function(){return e.subscribe("scrollMode",o),function(){e.unsubscribe("scrollMode",o)}}),[]),{scrollMode:n,switchTo:function(t){var n=e.get("getPagesContainer");if(n){var r=n();if(r){switch(t){case s.Vertical:r.classList.add("rpv-scroll-mode-vertical"),r.classList.remove("rpv-scroll-mode-horizontal"),r.classList.remove("rpv-scroll-mode-wrapped");break;case s.Horizontal:r.classList.add("rpv-scroll-mode-horizontal"),r.classList.remove("rpv-scroll-mode-vertical"),r.classList.remove("rpv-scroll-mode-wrapped");break;case s.Wrapped:r.classList.add("rpv-scroll-mode-wrapped"),r.classList.remove("rpv-scroll-mode-vertical"),r.classList.remove("rpv-scroll-mode-horizontal")}e.update("scrollMode",t)}}}}},g=function(e){var t=e.children,n=e.mode,r=e.store,o=h(r),i=o.scrollMode,s=o.switchTo,c=i===n;return(t||function(e){return a.createElement(f,{isSelected:c,mode:e.mode,onClick:e.onClick})})({isSelected:c,mode:n,onClick:function(){return s(n)}})},m=function(e){var t=e.isSelected,n=e.mode,r=e.onClick;return a.createElement(p,{mode:n,onClick:r},(function(e){return a.createElement(o.MenuItem,{checked:t,icon:e.icon,onClick:e.onClick},e.label)}))},v=function(e){var t=e.store,n=h(t).switchTo,r=function(e){if(e()){var r=t.get("scrollMode")||s.Vertical;r!==s.Vertical&&n(r)}};return a.useEffect((function(){return t.subscribe("getPagesContainer",r),function(){t.unsubscribe("getPagesContainer",r)}}),[]),a.createElement(a.Fragment,null)};t.HorizontalScrollingIcon=i,t.ScrollMode=s,t.VerticalScrollingIcon=l,t.WrappedScrollingIcon=u,t.scrollModePlugin=function(e){var t=a.useMemo((function(){return o.createStore({scrollMode:e&&e.scrollMode?e.scrollMode:s.Vertical})}),[]),n=function(e){return a.createElement(g,c({},e,{store:t}))};return{install:function(e){t.update("getPagesContainer",e.getPagesContainer)},renderViewer:function(e){var n=e.slot;return n&&n.children&&(n.children=a.createElement(a.Fragment,null,a.createElement(v,{store:t}),n.children)),n},SwitchScrollMode:n,SwitchScrollModeButton:function(e){return a.createElement(n,{mode:e.mode},(function(e){return a.createElement(f,{isSelected:e.isSelected,mode:e.mode,onClick:function(){e.onClick()}})}))},SwitchScrollModeMenuItem:function(e){return a.createElement(n,{mode:e.mode},(function(t){return a.createElement(m,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick(),e.onClick()}})}))}}}},function(e,t,n){"use strict";e.exports=n(357)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(359)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),o=n(360),i=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4\n                c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335\n                c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67\n                c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6"}))};!function(e){e.Hand="Hand",e.Text="Text"}(r||(r={}));var s=r,c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906\n                L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262\n                c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0\n                l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z"}))},u=function(e){var t=e.children,n=e.mode,r=e.onClick,c=a.useContext(o.LocalizationContext),u="",p=a.createElement(l,null);switch(n){case s.Hand:u=c&&c.selectionMode?c.selectionMode.handTool:"Hand tool",p=a.createElement(i,null);break;case s.Text:default:u=c&&c.selectionMode?c.selectionMode.textSelectionTool:"Text selection tool",p=a.createElement(l,null)}return t({icon:p,label:u,onClick:r})},p={left:0,top:8},d=function(e){var t=e.isSelected,n=e.mode,r=e.onClick;return a.createElement(u,{mode:n,onClick:r},(function(e){return a.createElement(o.Tooltip,{position:o.Position.BottomCenter,target:a.createElement(o.Button,{isSelected:t,onClick:e.onClick},e.icon),content:function(){return e.label},offset:p})}))},f=function(e){var t=e.children,n=e.mode,r=e.store,o=n===r.get("selectionMode");return(t||function(e){return a.createElement(d,{isSelected:o,mode:e.mode,onClick:e.onClick})})({isSelected:o,mode:n,onClick:function(){return r.update("selectionMode",n)}})},h=function(e){var t=e.isSelected,n=e.mode,r=e.onClick;return a.createElement(u,{mode:n,onClick:r},(function(e){return a.createElement(o.MenuItem,{checked:t,icon:e.icon,onClick:e.onClick},e.label)}))},g=function(e){var t=e.store,n=a.useRef(null),r=a.useState(s.Text),o=r[0],i=r[1],c=a.useRef({top:0,left:0,x:0,y:0}),l=function(e){var t=n.current;t&&(t.scrollTop=c.current.top-(e.clientY-c.current.y),t.scrollLeft=c.current.left-(e.clientX-c.current.x))},u=function e(){var t=n.current;t&&(t.classList.add("rpv-selection-mode-grab"),t.classList.remove("rpv-selection-mode-grabbing"),document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e))},p=function(e){var t=n.current;t&&o!==s.Text&&(t.classList.remove("rpv-selection-mode-grab"),t.classList.add("rpv-selection-mode-grabbing"),e.preventDefault(),e.stopPropagation(),c.current={left:t.scrollLeft,top:t.scrollTop,x:e.clientX,y:e.clientY},document.addEventListener("mousemove",l),document.addEventListener("mouseup",u))},d=function(e){n.current=e()},f=function(e){i(e)};return a.useEffect((function(){var e=n.current;if(e)return o===s.Hand?e.classList.add("rpv-selection-mode-grab"):e.classList.remove("rpv-selection-mode-grab"),e.addEventListener("mousedown",p),function(){e.removeEventListener("mousedown",p)}}),[o]),a.useEffect((function(){return t.subscribe("getPagesContainer",d),t.subscribe("selectionMode",f),function(){t.unsubscribe("getPagesContainer",d),t.unsubscribe("selectionMode",f)}}),[]),a.createElement(a.Fragment,null)};t.HandToolIcon=i,t.SelectionMode=s,t.TextSelectionIcon=l,t.selectionModePlugin=function(e){var t=a.useMemo((function(){return o.createStore()}),[]),n=function(e){return a.createElement(f,c({},e,{store:t}))};return{install:function(n){t.update("selectionMode",e&&e.selectionMode?e.selectionMode:s.Text),t.update("getPagesContainer",n.getPagesContainer)},renderViewer:function(e){var n=e.slot;return n.subSlot&&n.subSlot.children&&(n.subSlot.children=a.createElement(a.Fragment,null,a.createElement(g,{store:t}),n.subSlot.children)),n},SwitchSelectionMode:n,SwitchSelectionModeButton:function(e){return a.createElement(n,{mode:e.mode},(function(e){return a.createElement(d,{isSelected:e.isSelected,mode:e.mode,onClick:function(){e.onClick()}})}))},SwitchSelectionModeMenuItem:function(e){return a.createElement(n,{mode:e.mode},(function(t){return a.createElement(h,{isSelected:t.isSelected,mode:t.mode,onClick:function(){t.onClick(),e.onClick()}})}))}}}},function(e,t,n){"use strict";e.exports=n(361)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(363)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(364),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},i=function(e){var t=e.containerRef,n=e.openFile,o=function(e,t){var n=r.useRef(0),a=r.useState(!1),o=a[0],i=a[1],s=function(e){e.preventDefault(),i(!1),n.current=0,e.dataTransfer&&t(e.dataTransfer.files)},c=function(e){e.preventDefault()},l=function(e){e.preventDefault(),n.current+=1,n.current<=1&&i(!0)},u=function(e){e.preventDefault(),n.current-=1,n.current<=0&&i(!1)};return r.useEffect((function(){var t=e.current;if(t)return t.addEventListener("drop",s),t.addEventListener("dragover",c),t.addEventListener("dragenter",l),t.addEventListener("dragleave",u),function(){t.removeEventListener("drop",s),t.removeEventListener("dragover",c),t.removeEventListener("dragenter",l),t.removeEventListener("dragleave",u)}}),[e.current]),{isDragging:o}}(t,(function(e){0!==e.length&&n(e[0])})).isDragging,i=r.useContext(a.LocalizationContext);return r.createElement(r.Fragment,null,o&&r.createElement("div",{className:"rpv-drop-area"},i&&i.drop?i.drop.dragDropFile:"Drag and drop a PDF document here"))};t.dropPlugin=function(){return{renderViewer:function(e){var t=e.slot;if(t.attrs){var n=t.attrs&&t.attrs.style?t.attrs.style:{},a=o(o({},n),{height:"100%",position:"relative",width:"100%"});t.attrs.style=a}return t.children=r.createElement(r.Fragment,null,r.createElement(i,{containerRef:e.containerRef,openFile:e.openFile}),t.children),t}}}},function(e,t,n){"use strict";e.exports=n(365)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(367)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),o=n(368),i=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M10.515,9.514h3c0.552,0,1,0.448,1,1v3c0,0.552-0.448,1-1,1h-3c-0.552,0-1-0.448-1-1v-3\n                C9.515,9.962,9.963,9.514,10.515,9.514z\n                M0.531,23.499l6.984-6.985\n                M16.515,7.514L23.5,0.529\n                M21.515,7.514h-5v-5\n                M7.515,21.514v-5 h-5\n                M0.523,0.521l6.992,6.993\n                M16.515,16.514l6.985,6.985\n                M16.515,21.514v-5h5\n                M2.515,7.514h5v-5"}))},s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M15.5,8.499l8-8\n                M0.5,23.499l8-8\n                M5.5,23.499h-5v-5\n                M23.5,5.499v-5h-5\n                M15.5,15.499l8,8\n                M0.5,0.499l8,8\n                M0.5,5.499v-5h5\n                M18.5,23.499h5v-5"}))},l={left:0,top:8},u=function(e){var t=e.onClick,n=a.useContext(o.LocalizationContext),r=n&&n.fullScreen?n.fullScreen.enterFullScreen:"Full screen";return a.createElement(o.Tooltip,{position:o.Position.BottomCenter,target:a.createElement(o.Button,{onClick:t},a.createElement(c,null)),content:function(){return r},offset:l})};!function(e){e[e.ExitFullScreen=0]="ExitFullScreen",e[e.FullScreenChange=1]="FullScreenChange",e[e.FullScreenElement=2]="FullScreenElement",e[e.FullScreenEnabled=3]="FullScreenEnabled",e[e.RequestFullScreen=4]="RequestFullScreen"}(r||(r={}));var p={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},d={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},f={ExitFullScreen:"msExitFullscreen",FullScreenChange:"MSFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},h="undefined"!=typeof window,g=h&&(r.FullScreenEnabled in document&&p||d.FullScreenEnabled in document&&d||f.FullScreenEnabled in document&&f)||p,m=function(e){return h?e[g.ExitFullScreen]():Promise.resolve({})},v=function(){return h?document[g.FullScreenElement]:null},E=function(e){var t=e.children,n=e.store,r=e.onEnterFullScreen,o=e.onExitFullScreen,i=a.useRef(n.get("getPagesContainer")?n.get("getPagesContainer")():null),s=function(){var e=v()===i.current;n.update("isFullScreen",e);var t=n.get("zoom");t&&(e?r(t):o(t))},c=function(e){var t;i.current=e(),t=s,h&&document.addEventListener(g.FullScreenChange,t)};return a.useEffect((function(){return n.subscribe("getPagesContainer",c),function(){n.unsubscribe("getPagesContainer",c)}}),[]),(t||function(e){return a.createElement(u,{onClick:e.onClick})})({onClick:function(){var e=i.current;e&&function(){var e=i.current;if(!e)return Promise.resolve();var t=v();return t&&t!==e?m(t):Promise.resolve()}().then((function(){h&&e[g.RequestFullScreen]()}))}})},C=function(e){var t=e.store,n=a.useState(!1),r=n[0],s=n[1],c=function(e){s(e)};return a.useEffect((function(){return t.subscribe("isFullScreen",c),function(){t.unsubscribe("isFullScreen",c)}}),[]),a.createElement(a.Fragment,null,r&&a.createElement("div",{className:"rpv-full-screen-exit-button"},a.createElement("div",{className:"rpv-full-screen-exit-button-inner"},a.createElement(o.Button,{onClick:function(){s(!1);var e=t.get("getPagesContainer");if(e){var n=e();if(n){var r=v();r&&r===n&&m(document)}}}},a.createElement(i,null)))))};t.ExitFullScreenIcon=i,t.FullScreenIcon=c,t.fullScreenPlugin=function(e){var t=a.useMemo((function(){return o.createStore({})}),[]),n=e&&e.onEnterFullScreen?e.onEnterFullScreen:function(){},r=e&&e.onExitFullScreen?e.onExitFullScreen:function(){},i=function(e){return a.createElement(E,s({},e,{store:t,onEnterFullScreen:n,onExitFullScreen:r}))},c=function(){return a.createElement(C,{store:t})};return{install:function(e){t.update("getPagesContainer",e.getPagesContainer),t.update("zoom",e.zoom)},renderViewer:function(e){var t=e.slot;return t.subSlot&&(t.subSlot.children=a.createElement(a.Fragment,null,a.createElement(c,null),t.subSlot.children)),t},EnterFullScreen:i,EnterFullScreenButton:function(){return a.createElement(i,null,(function(e){return a.createElement(u,s({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(369)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(371)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(372),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M17.5,11.5c3.314,0,6,2.686,6,6s-2.686,6-6,6s-6-2.686-6-6S14.186,11.5,17.5,11.5z\n                M17.5,14.5v6\n                M17.5,20.5\n                l-2.25-2.25\n                M17.5,20.5l2.25-2.25\n                M10.5,23.5h-9c-0.552,0-1-0.448-1-1v-21c0-0.552,0.448-1,1-1h13.293\n                c0.265,0,0.52,0.105,0.707,0.293L19.207,4.5C19.395,4.687,19.5,4.942,19.5,5.207V8.5"}))},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s={left:0,top:8},c=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.download?n.download.download:"Download";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(o,null)),content:function(){return i},offset:s})},l=function(e){var t=e.children,n=e.fileNameGenerator,a=e.store,o=r.useState(a.get("file")),i=o[0],s=o[1],l=function(e){s(e)};return r.useEffect((function(){return a.subscribe("file",l),function(){a.unsubscribe("file",l)}}),[]),(t||function(e){return r.createElement(c,{onClick:e.onClick})})({onClick:function(){var e,t,r,a;i&&(e=i,t=n(i),r="string"==typeof e.data?"":URL.createObjectURL(new Blob([e.data],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e.name,a.setAttribute("download",t),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))}})};t.DownloadIcon=o,t.getFilePlugin=function(e){var t=r.useMemo((function(){return a.createStore({})}),[]),n=function(e){return(n=(t=e.name).split("/").pop())?n.split("#")[0].split("?")[0]:t;var t,n},o=function(a){return r.createElement(l,i({},a,{fileNameGenerator:e&&e.fileNameGenerator||n,store:t}))};return{onViewerStateChange:function(e){return t.update("file",e.file),e},Download:o,DownloadButton:function(){return r.createElement(o,null,(function(e){return r.createElement(c,i({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(373)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(375)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(376),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M4.5,8.5H14\n                M4.5,11.5h6\n                M4.5,5.5h7\n                M4.5,14.5h4\n                M4.5,17.5h4\n                M10.5,23.5h-9c-0.552,0-1-0.448-1-1v-21\n                c0-0.552,0.448-1,1-1h13.293c0.265,0,0.52,0.105,0.707,0.293L19.207,4.5C19.395,4.687,19.5,4.942,19.5,5.207V8.5\n                M17.5,11.5\n                c3.314,0,6,2.686,6,6s-2.686,6-6,6s-6-2.686-6-6S14.186,11.5,17.5,11.5z\n                M17.5,20.5v-6\n                M17.5,14.5l-2.25,2.25\n                M17.5,14.5l2.25,2.25"}))},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s={left:0,top:8},c=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.open?n.open.openFile:"Open file";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement("div",{className:"rpv-open-button"},r.createElement("input",{className:"rpv-open-button-input",multiple:!1,type:"file",title:"",onChange:t}),r.createElement(o,null)),content:function(){return i},offset:s})},l=function(e){var t=e.store;return(e.children||function(e){return r.createElement(c,{onClick:e.onClick})})({onClick:function(e){var n=e.target.files;if(n&&n.length){var r=t.get("openFile");r&&r(n[0])}}})};t.OpenFileIcon=o,t.openPlugin=function(){var e=r.useMemo((function(){return a.createStore({})}),[]),t=function(t){return r.createElement(l,i({},t,{store:e}))};return{install:function(t){e.update("openFile",t.openFile)},Open:t,OpenButton:function(){return r.createElement(t,null)}}}},function(e,t,n){"use strict";e.exports=n(377)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(379)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(380),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552\n                c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11\n                C1.96,3.016,2.138,2.966,2.32,2.966z"}))},i=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n                L23.541,5.627"}))},s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e){var t=r.useState(e.get("currentPage")||0),n=t[0],o=t[1],i=function(e){o(e)};return a.useIsomorphicLayoutEffect((function(){return e.subscribe("currentPage",i),function(){e.unsubscribe("currentPage",i)}}),[]),{currentPage:n}},l=function(e){var t=r.useState(e.get("numberOfPages")||0),n=t[0],a=t[1],o=function(e){a(e)};return r.useEffect((function(){return e.subscribe("numberOfPages",o),function(){e.unsubscribe("numberOfPages",o)}}),[]),{numberOfPages:n}},u=function(e){var t=e.store,n=r.useState(!1),a=n[0],o=n[1],i=r.useState(0),s=i[0],u=i[1],p=c(t).currentPage,d=l(t).numberOfPages,f=function(e){var n=t.get("jumpToPage");n&&n(e)};return r.createElement("input",{className:"rpv-current-page-input",type:"text",value:a?s+1:p+1,onChange:function(e){var t=parseInt(e.target.value,10);t>0&&t<=d&&u(t-1)},onFocus:function(){o(!0),u(p)},onBlur:function(){o(!1)},onKeyDown:function(e){switch(e.keyCode){case 38:(n=p-1)>=0&&(u(n),f(n));break;case 40:(t=p+1)<d&&(u(t),f(t));break;case 13:f(s)}var t,n}})},p=function(e){var t=e.children,n=e.store;return(t||function(e){return r.createElement(r.Fragment,null,e.currentPage+1)})({currentPage:c(n).currentPage,numberOfPages:l(n).numberOfPages})},d=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448\n                c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373\n                C22.143,20.984,21.965,21.034,21.783,21.034z"}))},f={left:0,top:8},h=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),o=n&&n.pageNavigation?n.pageNavigation.goToFirstPage:"First page";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(d,null)),content:function(){return o},offset:f})},g=function(e){var t=e.children,n=e.store;return(t||function(e){return r.createElement(h,{onClick:e.onClick})})({onClick:function(){var e=n.get("jumpToPage");e&&e(0)}})},m=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),o=n&&n.pageNavigation?n.pageNavigation.goToFirstPage:"First page";return r.createElement(a.MenuItem,{icon:r.createElement(d,null),onClick:t},o)},v={left:0,top:8},E=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.pageNavigation?n.pageNavigation.goToLastPage:"Last page";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(o,null)),content:function(){return i},offset:v})},C=function(e){var t=e.children,n=e.store,a=l(n).numberOfPages;return(t||function(e){return r.createElement(E,{onClick:e.onClick})})({onClick:function(){var e=n.get("jumpToPage");e&&e(a-1)}})},x=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.pageNavigation?n.pageNavigation.goToLastPage:"Last page";return r.createElement(a.MenuItem,{icon:r.createElement(o,null),onClick:t},i)},y={left:0,top:8},w=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),o=n&&n.pageNavigation?n.pageNavigation.goToNextPage:"Next page";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(i,null)),content:function(){return o},offset:y})},b=function(e){var t=e.children,n=e.store,a=c(n).currentPage,o=l(n).numberOfPages;return(t||function(e){return r.createElement(w,{onClick:e.onClick,isDisabled:e.isDisabled})})({isDisabled:a+1>=o,onClick:function(){var e=n.get("jumpToPage");e&&e(a+1)}})},k=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n                L0.535,18.373"}))},P={left:0,top:8},O=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),o=n&&n.pageNavigation?n.pageNavigation.goToPreviousPage:"Previous page";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(k,null)),content:function(){return o},offset:P})},R=function(e){var t=e.store,n=e.children,a=c(t).currentPage;return(n||function(e){return r.createElement(O,{isDisabled:e.isDisabled,onClick:e.onClick})})({isDisabled:a<=0,onClick:function(){var e=t.get("jumpToPage");e&&e(a-1)}})};t.DownArrowIcon=o,t.NextIcon=i,t.PreviousIcon=k,t.UpArrowIcon=d,t.pageNavigationPlugin=function(){var e=r.useMemo((function(){return a.createStore()}),[]),t=function(t){return r.createElement(g,s({},t,{store:e}))},n=function(t){return r.createElement(C,s({},t,{store:e}))},o=function(t){return r.createElement(b,s({},t,{store:e}))},i=function(t){return r.createElement(R,s({},t,{store:e}))};return{install:function(t){e.update("jumpToPage",t.jumpToPage)},onDocumentLoad:function(t){e.update("numberOfPages",t.doc.numPages)},onViewerStateChange:function(t){return e.update("currentPage",t.pageIndex),t},jumpToPage:function(t){var n=e.get("jumpToPage");n&&n(t)},CurrentPageInput:function(){return r.createElement(u,{store:e})},CurrentPageLabel:function(t){return r.createElement(p,s({},t,{store:e}))},GoToFirstPage:t,GoToFirstPageButton:function(){return r.createElement(t,null,(function(e){return r.createElement(h,s({},e))}))},GoToFirstPageMenuItem:function(e){return r.createElement(t,null,(function(t){return r.createElement(m,{onClick:function(){t.onClick(),e.onClick()}})}))},GoToLastPage:n,GoToLastPageButton:function(){return r.createElement(n,null,(function(e){return r.createElement(E,s({},e))}))},GoToLastPageMenuItem:function(e){return r.createElement(n,null,(function(t){return r.createElement(x,{onClick:function(){t.onClick(),e.onClick()}})}))},GoToNextPage:o,GoToNextPageButton:function(){return r.createElement(o,null,(function(e){return r.createElement(w,s({},e))}))},GoToPreviousPage:i,GoToPreviousPageButton:function(){return r.createElement(i,null,(function(e){return r.createElement(O,s({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(381)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(383)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),o=n(384),i=n(21),s=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19\n                c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3\n                M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414\n                C18.395,3.394,18.5,3.649,18.5,3.914V4.5\n                M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z\n                M3.5,8.499\n                c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z\n                M14.5,0.499v4h4"}))},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l={left:0,top:8},u=function(e){var t=e.onClick,n=a.useContext(o.LocalizationContext),r=n&&n.print?n.print.print:"Print";return a.createElement(o.Tooltip,{position:o.Position.BottomCenter,target:a.createElement(o.Button,{onClick:t},a.createElement(s,null)),content:function(){return r},offset:l})};!function(e){e.Inactive="Inactive",e.Preparing="Preparing",e.Cancelled="Cancelled",e.Ready="Ready"}(r||(r={}));var p=r,d=function(e){var t=e.children,n=e.store;return(t||function(e){return a.createElement(u,{onClick:e.onClick})})({onClick:function(){n.update("printStatus",p.Preparing)}})},f=function(e){var t=e.numLoadedPages,n=e.numPages,r=e.onCancel,i=e.onStartPrinting,s=a.useContext(o.LocalizationContext),c=Math.floor(100*t/n);return a.useEffect((function(){t===n&&i()}),[t]),a.createElement("div",{className:"rpv-print-progress"},a.createElement("div",{className:"rpv-print-progress-inner"},a.createElement("div",{className:"rpv-print-progress-message"},s&&s.print?s.print.preparingDocument:"Preparing document ..."),a.createElement("div",{className:"rpv-print-progress-bar"},a.createElement(o.ProgressBar,{progress:c})),a.createElement(o.PrimaryButton,{onClick:r},s&&s.print?s.print.cancel:"Cancel")))},h=function(e){var t=e.page,n=e.pageHeight,r=e.pageWidth,i=e.rotation,s=e.onLoad,c=a.useRef(),l=a.useState(""),u=l[0],p=l[1];return a.useEffect((function(){var e=c.current;e&&e.cancel();var a=document.createElement("canvas"),o=150/72;a.height=Math.floor(n*o),a.width=Math.floor(r*o);var s=a.getContext("2d");s.save(),s.fillStyle="rgb(255, 255, 255)",s.fillRect(0,0,a.width,a.height),s.restore();var l=t.getViewport({rotation:i,scale:1});c.current=t.render({canvasContext:s,intent:"print",transform:[o,0,0,o,0,0],viewport:l}),c.current.promise.then((function(){"toBlob"in a?a.toBlob((function(e){p(URL.createObjectURL(e))})):p(a.toDataURL())}),(function(){}))}),[]),u?a.createElement("div",{className:"rpv-print-page-thumbnail",style:{height:Math.floor(96*n/72)+"px",width:Math.floor(96*r/72)+"px"}},a.createElement("img",{src:u,style:{height:Math.floor(96*n/72)+"px",width:Math.floor(96*r/72)+"px"},onLoad:s})):a.createElement(o.Spinner,null)},g=function(e){var t=e.doc,n=e.pageHeight,r=e.pageIndex,i=e.pageWidth,s=e.rotation,c=e.onLoad,l=a.useState({height:n,page:null,viewportRotation:0,width:i}),u=l[0],p=l[1],d=u.page,f=u.height,g=u.width,m=Math.abs(s)%180==0;a.useEffect((function(){t.getPage(r+1).then((function(e){var t=e.getViewport({scale:1});p({height:t.height,page:e,viewportRotation:t.rotation,width:t.width})}))}),[]);var v=(s+u.viewportRotation)%360;return d?a.createElement(h,{page:d,pageHeight:m?f:g,pageWidth:m?g:f,rotation:v,onLoad:c}):a.createElement(o.Spinner,null)},m=function(e){var t=e.doc,n=e.pageHeight,r=e.pageWidth,o=e.printStatus,s=e.rotation,c=e.onCancel,l=e.onLoad,u=a.useState(0),d=u[0],f=u[1];a.useEffect((function(){o===p.Ready&&(document.body.classList.add("rpv-body-printing"),window.print());var e=function(){o===p.Ready&&(document.body.classList.remove("rpv-body-printing"),c())};return document.addEventListener("mousemove",e),function(){return document.removeEventListener("mousemove",e)}}),[o]);var h=t.numPages,m=function(){var e=d+1;f(e),l(e)};return i.createPortal(a.createElement(a.Fragment,null,a.createElement("div",{className:"rpv-print-zone"},Array(h).fill(0).map((function(e,o){return a.createElement(g,{key:o,doc:t,pageHeight:n,pageIndex:o,pageWidth:r,rotation:s,onLoad:m})}))),a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                            @supports ((size:A4) and (size:1pt 1pt)) {\n                                @page { size: "+r+"pt "+n+"pt }\n                            }\n                        "}})),document.body)},v=function(e){var t=e.doc,n=e.pageHeight,r=e.pageWidth,o=e.rotation,i=e.store,s=a.useState(p.Inactive),c=s[0],l=s[1],u=a.useState(0),d=u[0],h=u[1],g=function(){h(0),l(p.Inactive)},v=function(e){return l(e)};return a.useEffect((function(){return i.subscribe("printStatus",v),function(){i.unsubscribe("printStatus",v)}}),[]),a.createElement(a.Fragment,null,c===p.Preparing&&a.createElement(f,{numLoadedPages:d,numPages:t.numPages,onCancel:g,onStartPrinting:function(){h(0),l(p.Ready)}}),(c===p.Preparing||c===p.Ready)&&a.createElement(m,{doc:t,pageHeight:n,pageWidth:r,printStatus:c,rotation:o,onCancel:g,onLoad:h}))};t.PrintIcon=s,t.printPlugin=function(){var e=a.useMemo((function(){return o.createStore({printStatus:p.Inactive})}),[]),t=function(t){return a.createElement(d,c({},t,{store:e}))};return{renderViewer:function(t){var n=t.slot,r={children:a.createElement(a.Fragment,null,a.createElement(v,{doc:t.doc,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:t.rotation,store:e}),n.children)};return c(c({},n),r)},Print:t,PrintButton:function(){return a.createElement(t,null,(function(e){return a.createElement(u,c({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(385)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(387)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(388),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z\n                M14.5,17.005H13\n                c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10\n                M11.745,6.504L11.745,6.504\n                M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25\n                S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5"}))},i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},s=function(e){var t=e.doc,n=e.render,o=r.useState(),i=o[0],s=o[1];return r.useEffect((function(){t.getMetadata().then((function(e){return Promise.resolve(e)})).then((function(e){return t.getDownloadInfo().then((function(t){return Promise.resolve({fileName:e.contentDispositionFilename||"",info:e.info,length:t.length})}))})).then((function(e){s(e)}))}),[]),i?n(i):r.createElement("div",{className:"rpv-properties-loader"},r.createElement(a.Spinner,null))},c=function(e){var t=e.label,n=e.value;return r.createElement("dl",{className:"rpv-property-item"},r.createElement("dt",{className:"rpv-property-item-label"},t,":"),r.createElement("dd",{className:"rpv-property-item-value"},n||"-"))},l=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),u=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},p=function(e){var t=e.doc,n=e.fileName,o=e.onToggle,i=r.useContext(a.LocalizationContext),p=function(e){var t=function(e){var t=l.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=u(t[2],1,12,1)-1,a=u(t[3],1,31,1),o=u(t[4],0,23,0),i=u(t[5],0,59,0),s=u(t[6],0,59,0),c=t[7]||"Z",p=u(t[8],0,23,0),d=u(t[9],0,59,0);switch(c){case"-":o+=p,i+=d;break;case"+":o-=p,i-=d}return new Date(Date.UTC(n,r,a,o,i,s))}(e);return t?t.toLocaleDateString()+", "+t.toLocaleTimeString():""};return r.createElement("div",{className:"rpv-properties-modal"},r.createElement(s,{doc:t,render:function(e){return r.createElement(r.Fragment,null,r.createElement("div",{className:"rpv-properties-modal-group"},r.createElement(c,{label:i&&i.properties?i.properties.fileName:"File name",value:e.fileName||(l=n,u=l.split("/").pop(),u?u.split("#")[0].split("?")[0]:l)}),r.createElement(c,{label:i&&i.properties?i.properties.fileSize:"File size",value:(o=e.length,s=Math.floor(Math.log(o)/Math.log(1024)),(o/Math.pow(1024,s)).toFixed(2)+" "+["B","kB","MB","GB","TB"][s])})),r.createElement(a.Separator,null),r.createElement("div",{className:"rpv-properties-modal-group"},r.createElement(c,{label:i&&i.properties?i.properties.title:"Title",value:e.info.Title}),r.createElement(c,{label:i&&i.properties?i.properties.author:"Author",value:e.info.Author}),r.createElement(c,{label:i&&i.properties?i.properties.subject:"Subject",value:e.info.Subject}),r.createElement(c,{label:i&&i.properties?i.properties.keywords:"Keywords",value:e.info.Keywords}),r.createElement(c,{label:i&&i.properties?i.properties.creator:"Creator",value:e.info.Creator}),r.createElement(c,{label:i&&i.properties?i.properties.creationDate:"Creation date",value:p(e.info.CreationDate)}),r.createElement(c,{label:i&&i.properties?i.properties.modificationDate:"Modification date",value:p(e.info.ModDate)})),r.createElement(a.Separator,null),r.createElement("div",{className:"rpv-properties-modal-group"},r.createElement(c,{label:i&&i.properties?i.properties.pdfProducer:"PDF producer",value:e.info.Producer}),r.createElement(c,{label:i&&i.properties?i.properties.pdfVersion:"PDF version",value:e.info.PDFFormatVersion}),r.createElement(c,{label:i&&i.properties?i.properties.pageCount:"Page count",value:""+t.numPages})));var o,s,l,u}}),r.createElement("div",{className:"rpv-properties-modal-footer"},r.createElement(a.PrimaryButton,{onClick:o},i&&i.properties?i.properties.close:"Close")))},d={left:0,top:8},f=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.properties?n.properties.showProperties:"Show properties";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(o,null)),content:function(){return i},offset:d})},h=function(e){var t=e.children,n=e.store,o=function(e){var t=r.useState(e.get("doc")),n=t[0],a=t[1],o=function(e){a(e)};return r.useEffect((function(){return e.subscribe("doc",o),function(){e.unsubscribe("doc",o)}}),[]),{currentDoc:n}}(n).currentDoc,s=n.get("fileName")||"",c=t||function(e){return r.createElement(f,i({},e))};return o?r.createElement(a.Modal,{target:function(e){return c({onClick:e})},content:function(e){return r.createElement(p,{doc:o,fileName:s,onToggle:e})},closeOnClickOutside:!0,closeOnEscape:!0}):r.createElement(r.Fragment,null)},g=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.properties?n.properties.showProperties:"Show properties";return r.createElement(a.MenuItem,{icon:r.createElement(o,null),onClick:t},i)};t.InfoIcon=o,t.propertiesPlugin=function(){var e=r.useMemo((function(){return a.createStore({fileName:""})}),[]),t=function(t){return r.createElement(h,i({},t,{store:e}))};return{onDocumentLoad:function(t){e.update("doc",t.doc)},onViewerStateChange:function(t){return e.update("fileName",t.file.name),t},ShowProperties:t,ShowPropertiesButton:function(){return r.createElement(h,{store:e})},ShowPropertiesMenuItem:function(e){return r.createElement(t,null,(function(e){return r.createElement(g,i({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(389)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(391)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(2),o=n(392),i=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274\n                M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863\n                M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711\n                M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2\n                M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431\n                M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945\n                M13.5,1.75L10,4.25l3.5,2.5"}))},s=function(){return a.createElement(o.Icon,{size:16},a.createElement("path",{d:"M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274\n                M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863\n                M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713\n                M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2\n                M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431\n                M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945\n                M10.5,1.75l3.5,2.5l-3.5,2.5"}))};!function(e){e.Backward="Backward",e.Forward="Forward"}(r||(r={}));var c=r,l=function(){return(l=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},u={left:0,top:8},p=function(e){var t=e.direction,n=e.onClick,r=a.useContext(o.LocalizationContext),l=r&&r.rotate?r.rotate.rotateBackward:"Rotate counterclockwise",p=r&&r.rotate?r.rotate.rotateForward:"Rotate clockwise",d=t===c.Backward?l:p,f=t===c.Backward?a.createElement(i,null):a.createElement(s,null);return a.createElement(o.Tooltip,{position:o.Position.BottomCenter,target:a.createElement(o.Button,{onClick:n},f),content:function(){return d},offset:u})},d=function(e){var t=e.children,n=e.direction,r=e.store,o=function(e){var t=a.useState(e.get("rotation")||0),n=t[0],r=t[1],o=function(e){r(e)};return a.useEffect((function(){return e.subscribe("rotation",o),function(){e.unsubscribe("rotation",o)}}),[]),{rotation:n}}(r).rotation;return(t||function(e){return a.createElement(p,{direction:e.direction,onClick:e.onClick})})({direction:n,onClick:function(){var e=r.get("rotate");if(e){var t=n===c.Backward?-90:90;e(360===o||-360===o?t:o+t)}}})},f=function(e){var t=e.direction,n=e.onClick,r=a.useContext(o.LocalizationContext),l=r&&r.rotate?r.rotate.rotateBackward:"Rotate counterclockwise",u=r&&r.rotate?r.rotate.rotateForward:"Rotate clockwise",p=t===c.Backward?l:u,d=t===c.Backward?a.createElement(i,null):a.createElement(s,null);return a.createElement(o.MenuItem,{icon:d,onClick:n},p)};t.RotateBackwardIcon=i,t.RotateDirection=c,t.RotateForwardIcon=s,t.rotatePlugin=function(){var e=a.useMemo((function(){return o.createStore({rotation:0})}),[]),t=function(t){return a.createElement(d,l({},t,{store:e}))};return{install:function(t){e.update("rotate",t.rotate)},onViewerStateChange:function(t){return e.update("rotation",t.rotation),t},Rotate:t,RotateBackwardButton:function(){return a.createElement(t,{direction:c.Backward},(function(e){return a.createElement(p,l({},e))}))},RotateBackwardMenuItem:function(e){return a.createElement(t,{direction:c.Backward},(function(t){return a.createElement(f,{direction:t.direction,onClick:function(){t.onClick(),e.onClick()}})}))},RotateForwardButton:function(){return a.createElement(t,{direction:c.Forward},(function(e){return a.createElement(p,l({},e))}))},RotateForwardMenuItem:function(e){return a.createElement(t,{direction:c.Forward},(function(t){return a.createElement(f,{direction:t.direction,onClick:function(){t.onClick(),e.onClick()}})}))}}}},function(e,t,n){"use strict";e.exports=n(393)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(395)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(396),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043\n                L23.541,5.627"}))},i=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8\n                L0.535,18.373"}))},s=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z\n                M23.5,23.5\n                l-5.929-5.929"}))},c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},l=new RegExp(" "),u=function(e){var t=e.wholeWords?" "+e.keyword+" ":e.keyword,n=e.matchCase?"g":"gi";return new RegExp(t,n)},p=function(e,t,n){return e instanceof RegExp?e:"string"==typeof e?""===e?l:u({keyword:e,matchCase:t||!1,wholeWords:n||!1}):(void 0!==t&&(e.matchCase=t),void 0!==n&&(e.wholeWords=n),u(e))},d=function(e){var t=r.useState(e.get("doc")),n=t[0],a=t[1],o=function(e){a(e)};return r.useEffect((function(){return e.subscribe("doc",o),function(){e.unsubscribe("doc",o)}}),[]),{currentDoc:n}},f=function(e){var t,n=d(e).currentDoc,a=r.useState([]),o=a[0],i=a[1],s=r.useState([]),c=s[0],u=s[1],f=r.useState(0),h=f[0],g=f[1],m=r.useState(!1),v=m[0],E=m[1],C=r.useRef([]),x=r.useState(!1),y=x[0],w=x[1],b=function(e){return i(""===e?[]:[e])},k=function(t){var n=e.get("jumpToPage");n&&n(t.pageIndex),e.update("match",t)},P=function(t,r,a){var o=t.map((function(e){return p(e,r,a)}));e.update("keyword",o),g(0),u([]),(0===C.current.length?function(){if(!n)return Promise.resolve([]);var e=Array(n.numPages).fill(0).map((function(e,t){return n.getPage(t+1).then((function(e){return e.getTextContent()})).then((function(e){var n=e.items.map((function(e){return e.str||""})).join("");return Promise.resolve({pageContent:n,pageIndex:t})}))}));return Promise.all(e).then((function(e){return e.sort((function(e,t){return e.pageIndex-t.pageIndex})),Promise.resolve(e.map((function(e){return e.pageContent})))}))}().then((function(e){return C.current=e,Promise.resolve(e)})):Promise.resolve(C.current)).then((function(e){var t=[];e.forEach((function(e,n){for(var r=o.map((function(t){return(e.match(t)||[]).length})).reduce((function(e,t){return e+t}),0),a=0;a<r;a++)t.push({matchIndex:a,pageIndex:n})})),u(t),t.length>0&&(g(1),k(t[0]))}))};return r.useEffect((function(){C.current=[]}),[n]),{clearKeyword:function(){0!==o.length&&(e.update("keyword",[l]),b(""),g(0),u([]),E(!1),w(!1))},changeMatchCase:function(e){E(e),o.length>0&&P(o,e,y)},changeWholeWords:function(e){w(e),o.length>0&&P(o,v,e)},currentMatch:h,jumpToNextMatch:function(){if(0!==o.length){var e=h+1,t=e<=c.length?e:1;g(t),k(c[t-1])}},jumpToPreviousMatch:function(){if(0!==o.length){var e=h-1,t=e>0?e:c.length;g(t),k(c[t-1])}},keywords:o,matchCase:v,numberOfMatches:c.length,wholeWords:y,search:function(){return P(o,v,y)},searchFor:P,setKeywords:i,keyword:0===o.length?"":(t=o[0],t instanceof RegExp?t.source:"string"==typeof t?t:t.keyword),setKeyword:b}},h=function(e){var t=e.children,n=e.store,r=f(n);return t(c({},r))},g=function(e){var t=e.children,n=e.store;return d(n).currentDoc?r.createElement(h,{store:n},t):r.createElement(r.Fragment,null)},m={left:0,top:8},v=function(e){var t=e.store,n=e.onToggle,s=r.useContext(a.LocalizationContext),c=f(t),l=c.clearKeyword,u=c.changeMatchCase,p=c.changeWholeWords,d=c.currentMatch,h=c.jumpToNextMatch,g=c.jumpToPreviousMatch,v=c.keyword,E=c.matchCase,C=c.numberOfMatches,x=c.wholeWords,y=c.search,w=c.setKeyword;return r.createElement("div",{className:"rpv-search-popover"},r.createElement("div",{className:"rpv-search-popover-input-counter"},r.createElement("input",{className:"rpv-search-popover-input",placeholder:s&&s.search?s.search.enterToSearch:"Enter to search",type:"text",value:v,onChange:function(e){w(e.target.value)},onKeyDown:function(e){13===e.keyCode&&v&&y()}}),r.createElement("div",{className:"rpv-search-popover-counter"},d,"/",C)),r.createElement("label",{className:"rpv-search-popover-label"},r.createElement("input",{className:"rpv-search-popover-label-checkbox",checked:E,type:"checkbox",onChange:function(e){u(e.target.checked)}})," ",s&&s.search?s.search.matchCase:"Match case"),r.createElement("label",{className:"rpv-search-popover-label"},r.createElement("input",{className:"rpv-search-popover-label-checkbox",checked:x,type:"checkbox",onChange:function(e){p(e.target.checked)}})," ",s&&s.search?s.search.wholeWords:"Whole words"),r.createElement("div",{className:"rpv-search-popover-footer"},r.createElement("div",{className:"rpv-search-popover-footer-item"},r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:g},r.createElement(i,null)),content:function(){return s&&s.search?s.search.previousMatch:"Previous match"},offset:m})),r.createElement("div",{className:"rpv-search-popover-footer-item"},r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:h},r.createElement(o,null)),content:function(){return s&&s.search?s.search.nextMatch:"Next match"},offset:m})),r.createElement("div",{className:"rpv-search-popover-footer-button"},r.createElement(a.PrimaryButton,{onClick:function(){n(),l()}},s&&s.search?s.search.close:"Close"))))},E=function(e){var t=e.children,n=e.onClick,o=r.useContext(a.LocalizationContext),i=o&&o.search?o.search.search:"Search";return t({icon:r.createElement(s,null),label:i,onClick:n})},C={left:0,top:8},x=function(e){var t=e.onClick;return r.createElement(E,{onClick:t},(function(e){return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},e.icon),content:function(){return e.label},offset:C})}))},y={left:0,top:8},w=function(e){var t=e.children,n=e.store,o=d(n).currentDoc,i=t||function(e){return r.createElement(x,c({},e))};return o?r.createElement(a.Popover,{position:a.Position.BottomLeft,target:function(e){return i({onClick:e})},content:function(e){return r.createElement(v,{store:n,onToggle:e})},offset:y,closeOnClickOutside:!1,closeOnEscape:!0}):r.createElement(r.Fragment,null)},b=function(e){var t=e.parentNode;t&&t.removeChild(e)},k=function(e){var t=e.parentNode;if(t){var n=document.createRange();n.selectNodeContents(e),function(e,t){b(e);var n=t.parentNode;n&&n.insertBefore(e,t),b(t)}(n.extractContents(),e),t.normalize()}},P=function(e){var t=e.pageIndex,n=e.store,o=e.onHighlightKeyword,i=r.useState({matchIndex:-1,pageIndex:-1}),s=i[0],c=i[1],u=r.useState([l]),p=u[0],d=u[1],f=r.useState({pageIndex:t,scale:1,status:a.LayerRenderStatus.PreRender}),h=f[0],g=f[1],m=r.useRef(null),v=r.useRef([]),E=function(e){for(var t=e.querySelectorAll("span.rpv-search-text-highlight"),n=t.length,r=0;r<n;r++)t[r].parentElement.removeChild(t[r])},C=function(e){e&&e.length>0&&d(e)},x=function(e){c(e)},y=function(e){if(e.has(t)){var n=e.get(t);n&&g({ele:n.ele,pageIndex:t,scale:n.scale,status:n.status})}},w=function(){return 0===p.length||1===p.length&&""===p[0].source.trim()};r.useEffect((function(){if(!w()&&h.status===a.LayerRenderStatus.DidRender&&!v.current.length){var e=h.ele,t=[].slice.call(e.querySelectorAll(".rpv-core-text")).map((function(e){return e.textContent})).reduce((function(e,t,n){return e.concat(t.split("").map((function(e,t){return{char:e,charIndexInSpan:t,spanIndex:n}})))}),[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);v.current=t}}),[p,h.status]),r.useEffect((function(){if(!w()&&h.ele&&h.status===a.LayerRenderStatus.DidRender){var e=h.ele;E(e),function(e){var t=v.current;if(0!==t.length){var n=[].slice.call(e.querySelectorAll(".rpv-core-text")),r=t.map((function(e){return e.char})).join("");p.forEach((function(a){if(a.source.trim()){for(var i,s=-1===a.flags.indexOf("g")?new RegExp(a,a.flags+"g"):a,c=[];null!==(i=s.exec(r));)c.push({keyword:s,startIndex:i.index,endIndex:s.lastIndex});c.map((function(e){return{keyword:e.keyword,indexes:t.slice(e.startIndex,e.endIndex)}})).forEach((function(t){var r=t.indexes.reduce((function(e,t){return e[t.spanIndex]=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),a=0;for(t=0;t<n;t++)for(var o=arguments[t],i=0,s=o.length;i<s;i++,a++)r[a]=o[i];return r}(e[t.spanIndex]||[],[t]),e}),{});Object.values(r).forEach((function(r){!function(e,t,n,r){var a=document.createRange(),i=n.firstChild;if(i){var s=r[0].charIndexInSpan,c=1===r.length?s:r[r.length-1].charIndexInSpan;a.setStart(i,s),a.setEnd(i,c+1);var l=document.createElement("span");a.surroundContents(l);var u=l.getBoundingClientRect(),p=t.getBoundingClientRect(),d=document.createElement("span");t.appendChild(d),d.style.left=100*(u.left-p.left)/p.width+"%",d.style.top=100*(u.top-p.top)/p.height+"%",d.style.width=100*u.width/p.width+"%",d.style.height=100*u.height/p.height+"%",d.classList.add("rpv-search-text-highlight"),d.setAttribute("title",e.source.trim()),k(l),o&&o({highlightEle:d,keyword:e})}}(t.keyword,e,n[r[0].spanIndex],r)}))}))}}))}}(e),b()}}),[p,s,h.status,v.current]),r.useEffect((function(){w()&&h.ele&&h.status===a.LayerRenderStatus.DidRender&&E(h.ele)}),[p,h.status]);var b=function(){if(s.pageIndex===t&&h.ele&&h.status===a.LayerRenderStatus.DidRender){var e=h.ele,r=e.querySelectorAll(".rpv-search-text-highlight");if(s.matchIndex<r.length){var o=r[s.matchIndex],i=function(e,t){for(var n=e.offsetTop,r=e.offsetLeft,a=e.parentElement;a&&a!==t;)n+=a.offsetTop,r+=a.offsetLeft,a=a.parentElement;return{left:r,top:n}}(o,e),c=i.left,l=i.top,u=n.get("jumpToDestination");u&&(u(t,(e.getBoundingClientRect().height-l)/h.scale,c/h.scale,h.scale),m.current&&m.current.classList.remove("rpv-search-text-highlight-current"),m.current=o,o.classList.add("rpv-search-text-highlight-current"))}}};return r.useEffect((function(){return n.subscribe("keyword",C),n.subscribe("match",x),n.subscribe("renderStatus",y),function(){n.unsubscribe("keyword",C),n.unsubscribe("match",x),n.unsubscribe("renderStatus",y)}}),[]),r.createElement(r.Fragment,null)};t.NextIcon=o,t.PreviousIcon=i,t.SearchIcon=s,t.searchPlugin=function(e){var t=r.useMemo((function(){return e&&e.onHighlightKeyword?e.onHighlightKeyword:function(){}}),[]),n=r.useMemo((function(){return a.createStore({renderStatus:new Map})}),[]),o=f(n),i=o.clearKeyword,s=o.jumpToNextMatch,u=o.jumpToPreviousMatch,d=o.searchFor,h=o.setKeywords,m=function(e){return r.createElement(w,c({},e,{store:n}))};return{install:function(t){var r=e&&e.keyword?function(e){return Array.isArray(e)?e.map((function(e){return p(e)})):[p(e)]}(e.keyword):[l];n.update("jumpToDestination",t.jumpToDestination),n.update("jumpToPage",t.jumpToPage),n.update("keyword",r)},renderViewer:function(e){var a=e.slot;return a.subSlot&&(a.subSlot.children=r.createElement(r.Fragment,null,Array(e.doc.numPages).fill(0).map((function(e,a){return r.createElement(P,{key:a,pageIndex:a,store:n,onHighlightKeyword:t})})),a.subSlot.children)),a},uninstall:function(e){var t=n.get("renderStatus");t&&t.clear()},onDocumentLoad:function(e){n.update("doc",e.doc)},onTextLayerRender:function(e){var t=n.get("renderStatus");t&&(t=t.set(e.pageIndex,e),n.update("renderStatus",t))},Search:function(e){return r.createElement(g,c({},e,{store:n}))},ShowSearchPopover:m,ShowSearchPopoverButton:function(){return r.createElement(m,null,(function(e){return r.createElement(x,c({},e))}))},clearHighlights:function(){i()},highlight:function(e){var t=Array.isArray(e)?e:[e];h(t),d(t)},jumpToNextMatch:s,jumpToPreviousMatch:u}}},function(e,t,n){"use strict";e.exports=n(397)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f},function(e,t,n){"use strict";e.exports=n(399)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),a=n(400),o=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10\n                M10.5,5.499v10"}))},i=function(){return r.createElement(a.Icon,{size:16},r.createElement("path",{d:"M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z\n                M23.5,23.499\n                l-5.929-5.929\n                M5.5,10.499h10"}))},s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},c=function(e){var t=r.useState(e.get("scale")||0),n=t[0],a=t[1],o=function(e){a(e)};return r.useEffect((function(){return e.subscribe("scale",o),function(){e.unsubscribe("scale",o)}}),[]),{scale:n}},l=function(e){var t=e.children,n=e.store;return(t||function(e){return r.createElement(r.Fragment,null,Math.round(100*e.scale)+"%")})({scale:c(n).scale})},u=[.5,.75,1,1.25,1.5,2,3,4],p={left:0,top:8},d=function(e){var t=e.scale,n=e.onZoom,o=r.useContext(a.LocalizationContext);return r.createElement(a.Popover,{position:a.Position.BottomCenter,target:function(e){return r.createElement("span",{className:"rpv-zoom-popover-target",onClick:function(){e()}},r.createElement("span",{className:"rpv-zoom-popover-target-scale"},Math.round(100*t),"%"),r.createElement("span",{className:"rpv-zoom-popover-target-arrow"}))},content:function(e){return r.createElement(a.Menu,null,Object.keys(a.SpecialZoomLevel).map((function(t){var i=t;return r.createElement(a.MenuItem,{key:i,onClick:function(){e(),n(i)}},function(e){switch(e){case a.SpecialZoomLevel.ActualSize:return o&&o.zoom?o.zoom.actualSize:"Actual size";case a.SpecialZoomLevel.PageFit:return o&&o.zoom?o.zoom.pageFit:"Page fit";case a.SpecialZoomLevel.PageWidth:return o&&o.zoom?o.zoom.pageWidth:"Page width"}}(i))})),r.createElement(a.MenuDivider,null),u.map((function(t){return r.createElement(a.MenuItem,{key:t,onClick:function(){e(),n(t)}},Math.round(100*t)+"%")})))},offset:p,closeOnClickOutside:!0,closeOnEscape:!0})},f=function(e){var t=e.children,n=e.store;return(t||function(e){return r.createElement(d,{scale:e.scale,onZoom:e.onZoom})})({scale:c(n).scale,onZoom:function(e){var t=n.get("zoom");t&&t(e)}})},h={left:0,top:8},g=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),i=n&&n.zoom?n.zoom.zoomIn:"Zoom in";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(o,null)),content:function(){return i},offset:h})},m=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],v=function(e){var t=e.children,n=e.store,a=c(n).scale;return(t||function(e){return r.createElement(g,{onClick:e.onClick})})({onClick:function(){var e,t=n.get("zoom");t&&t((e=a,m.find((function(t){return t>e}))||e))}})},E={left:0,top:8},C=function(e){var t=e.onClick,n=r.useContext(a.LocalizationContext),o=n&&n.zoom?n.zoom.zoomOut:"Zoom out";return r.createElement(a.Tooltip,{position:a.Position.BottomCenter,target:r.createElement(a.Button,{onClick:t},r.createElement(i,null)),content:function(){return o},offset:E})},x=function(e){var t=e.children,n=e.store,a=c(n).scale;return(t||function(e){return r.createElement(C,{onClick:e.onClick})})({onClick:function(){var e,t,r=n.get("zoom");r&&r((e=a,-1===(t=m.findIndex((function(t){return t>=e})))||0===t?e:m[t-1]))}})};t.ZoomInIcon=o,t.ZoomOutIcon=i,t.zoomPlugin=function(){var e=r.useMemo((function(){return a.createStore({})}),[]),t=function(t){return r.createElement(v,s({},t,{store:e}))},n=function(t){return r.createElement(x,s({},t,{store:e}))},o=function(t){return r.createElement(f,s({},t,{store:e}))};return{install:function(t){e.update("zoom",t.zoom)},onViewerStateChange:function(t){return e.update("scale",t.scale),t},zoomTo:function(t){var n=e.get("zoom");n&&n(t)},CurrentScale:function(t){return r.createElement(l,s({},t,{store:e}))},ZoomIn:t,ZoomInButton:function(){return r.createElement(t,null,(function(e){return r.createElement(g,s({},e))}))},ZoomOut:n,ZoomOutButton:function(){return r.createElement(n,null,(function(e){return r.createElement(C,s({},e))}))},Zoom:o,ZoomPopover:function(){return r.createElement(o,null,(function(e){return r.createElement(d,s({},e))}))}}}},function(e,t,n){"use strict";e.exports=n(401)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);var a,o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}(n(89));!function(e){e[e.Text=1]="Text",e[e.Link=2]="Link",e[e.FreeText=3]="FreeText",e[e.Line=4]="Line",e[e.Square=5]="Square",e[e.Circle=6]="Circle",e[e.Polygon=7]="Polygon",e[e.Polyline=8]="Polyline",e[e.Highlight=9]="Highlight",e[e.Underline=10]="Underline",e[e.Squiggly=11]="Squiggly",e[e.StrikeOut=12]="StrikeOut",e[e.Stamp=13]="Stamp",e[e.Caret=14]="Caret",e[e.Ink=15]="Ink",e[e.Popup=16]="Popup",e[e.FileAttachment=17]="FileAttachment"}(a||(a={}));var i,s=a,c=r.createContext({prefixClass:"rpv-core"}),l=function(e){var t=[];return Object.keys(e).forEach((function(n){n&&e[n]&&t.push(n)})),t.join(" ")},u=function(e){var t=e.children,n=e.size,a=void 0===n?24:n,o=r.useContext(c),i=(a||24)+"px";return r.createElement("svg",{className:o.prefixClass+"-icon",height:i,viewBox:"0 0 24 24",width:i},t)},p=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},d=function(){var e=r.useContext(c);return r.createElement("svg",{className:e.prefixClass+"-spinner",width:"64px",height:"64px",viewBox:"0 0 32 32"},r.createElement("circle",{className:e.prefixClass+"-spinner-circle",cx:"16",cy:"16",r:"12",strokeDasharray:2*Math.PI*9}))},f="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=function(e){var t=r.useRef(null),n=e.threshold,a=e.onVisibilityChanged;return f((function(){var e=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.isIntersecting,n=e.intersectionRatio;a({isVisible:t,ratio:n})}))}),{threshold:n||0}),r=t.current;if(r)return e.observe(r),function(){e.unobserve(r)}}),[]),t},g=r.createContext({}),m={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{submit:"Submit",tryAgain:"The password is wrong. Please try again"}}},v=function(e){var t=e.children,n=e.localization,a=m,o=r.useState(n||a),i=o[0],s=o[1];return r.createElement(g.Provider,{value:i},t((function(e){return s(e)})))},E=function(e,t,n){var a=function(e){var r=t.current;r&&!r.contains(e.target)&&n()};r.useEffect((function(){if(e)return document.addEventListener("click",a),function(){document.removeEventListener("click",a)}}),[])},C=function(e,t){var n=function(n){n.keyCode===e&&t()};r.useEffect((function(){return document.addEventListener("keyup",n),function(){document.removeEventListener("keyup",n)}}),[])},x=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.closeOnEscape,o=e.onToggle,i=r.useContext(c),s=r.createRef();return r.useEffect((function(){var e=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=e}}),[]),C(27,(function(){return a&&o()})),E(n,s,o),r.createElement("div",{className:i.prefixClass+"-modal-body",ref:s},t)},y=function(e){var t=e.children,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-modal-overlay"},t)};!function(e){e.Close="Close",e.Open="Open",e.Toggle="Toggle"}(i||(i={}));var w,b=function(){var e=r.useState(!1),t=e[0],n=e[1];return{opened:t,toggle:function(e){switch(e){case i.Close:n(!1);break;case i.Open:n(!0);break;case i.Toggle:default:n((function(e){return!e}))}}}},k=function(e){var t=e.content,n=e.target,a=b(),o=a.opened,i=a.toggle;return r.createElement(r.Fragment,null,n(i,o),o&&t(i))};!function(e){e.TopLeft="TOP_LEFT",e.TopCenter="TOP_CENTER",e.TopRight="TOP_RIGHT",e.RightTop="RIGHT_TOP",e.RightCenter="RIGHT_CENTER",e.RightBottom="RIGHT_BOTTOM",e.BottomLeft="BOTTOM_LEFT",e.BottomCenter="BOTTOM_CENTER",e.BottomRight="BOTTOM_RIGHT",e.LeftTop="LEFT_TOP",e.LeftCenter="LEFT_CENTER",e.LeftBottom="LEFT_BOTTOM"}(w||(w={}));var P,O=w,R=function(e,t,n,r,a){f((function(){var o=t.current,i=e.current,s=n.current;if(i&&o&&s){var c=s.getBoundingClientRect(),l=function(e,t,n,r){var a=t.getBoundingClientRect(),o=e.getBoundingClientRect(),i=o.height,s=o.width,c=0,l=0;switch(n){case O.TopLeft:c=a.top-i,l=a.left;break;case O.TopCenter:c=a.top-i,l=a.left+a.width/2-s/2;break;case O.TopRight:c=a.top-i,l=a.left+a.width-s;break;case O.RightTop:c=a.top,l=a.left+a.width;break;case O.RightCenter:c=a.top+a.height/2-i/2,l=a.left+a.width;break;case O.RightBottom:c=a.top+a.height-i,l=a.left+a.width;break;case O.BottomLeft:c=a.top+a.height,l=a.left;break;case O.BottomCenter:c=a.top+a.height,l=a.left+a.width/2-s/2;break;case O.BottomRight:c=a.top+a.height,l=a.left+a.width-s;break;case O.LeftTop:c=a.top,l=a.left-s;break;case O.LeftCenter:c=a.top+a.height/2-i/2,l=a.left-s;break;case O.LeftBottom:c=a.top+a.height-i,l=a.left-s}return{left:l+(r.left||0),top:c+(r.top||0)}}(i,o,r,a),u=l.top,p=l.left;i.style.top=u-c.top+"px",i.style.left=p-c.left+"px"}}),[])},L=function(e){var t,n=e.customClassName,a=e.position,o=r.useContext(c);return r.createElement("div",{className:l((t={},t[o.prefixClass+"-arrow"]=!0,t[o.prefixClass+"-arrow-tl"]=a===O.TopLeft,t[o.prefixClass+"-arrow-tc"]=a===O.TopCenter,t[o.prefixClass+"-arrow-tr"]=a===O.TopRight,t[o.prefixClass+"-arrow-rt"]=a===O.RightTop,t[o.prefixClass+"-arrow-rc"]=a===O.RightCenter,t[o.prefixClass+"-arrow-rb"]=a===O.RightBottom,t[o.prefixClass+"-arrow-bl"]=a===O.BottomLeft,t[o.prefixClass+"-arrow-bc"]=a===O.BottomCenter,t[o.prefixClass+"-arrow-br"]=a===O.BottomRight,t[o.prefixClass+"-arrow-lt"]=a===O.LeftTop,t[o.prefixClass+"-arrow-lc"]=a===O.LeftCenter,t[o.prefixClass+"-arrow-lb"]=a===O.LeftBottom,t[""+n]=""!==n,t))})},S=function(e){var t=e.children,n=e.closeOnClickOutside,a=e.offset,o=e.position,i=e.targetRef,s=e.onClose,l=r.useContext(c),u=r.createRef(),p=r.createRef();return E(n,u,s),R(u,i,p,o,a),r.createElement(r.Fragment,null,r.createElement("div",{ref:p,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:l.prefixClass+"-popover-body",ref:u},r.createElement(L,{customClassName:l.prefixClass+"-popover-body-arrow",position:o}),t))},_=function(e){var t=e.closeOnEscape,n=e.onClose,a=r.useContext(c);return C(27,(function(){return t&&n()})),r.createElement("div",{className:a.prefixClass+"-popover-overlay"})},T=function(e){var t=e.children,n=e.offset,a=e.position,o=e.targetRef,i=r.useContext(c),s=r.createRef(),l=r.createRef();return R(s,o,l,a,n),r.createElement(r.Fragment,null,r.createElement("div",{ref:l,style:{left:0,position:"absolute",top:0}}),r.createElement("div",{className:i.prefixClass+"-tooltip-body",ref:s},r.createElement(L,{customClassName:i.prefixClass+"-tooltip-body-arrow",position:a}),r.createElement("div",{className:i.prefixClass+"-tooltip-body-content"},t)))};!function(e){e.ActualSize="ActualSize",e.PageFit="PageFit",e.PageWidth="PageWidth"}(P||(P={}));var A=P,M=function(e,t){return(M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function N(e,t){function n(){this.constructor=e}M(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var F,I=function(){return(I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)};!function(e){e[e.PreRender=0]="PreRender",e[e.DidRender=1]="DidRender"}(F||(F={}));var H,D=F;!function(e){e[e.Solid=1]="Solid",e[e.Dashed=2]="Dashed",e[e.Beveled=3]="Beveled",e[e.Inset=4]="Inset",e[e.Underline=5]="Underline"}(H||(H={}));var B,W=H,j=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),V=function(e,t,n,r){var a=parseInt(e,10);return a>=t&&a<=n?a:r},z=function(e){var t=e.annotation,n=r.useContext(c),a="";if(t.modificationDate){var o=function(e){var t=j.exec(e);if(!t)return null;var n=parseInt(t[1],10),r=V(t[2],1,12,1)-1,a=V(t[3],1,31,1),o=V(t[4],0,23,0),i=V(t[5],0,59,0),s=V(t[6],0,59,0),c=t[7]||"Z",l=V(t[8],0,23,0),u=V(t[9],0,59,0);switch(c){case"-":o+=l,i+=u;break;case"+":o-=l,i-=u}return new Date(Date.UTC(n,r,a,o,i,s))}(t.modificationDate);a=o?o.toLocaleDateString()+", "+o.toLocaleTimeString():""}return r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper",style:{top:t.annotationType===s.Popup?"":"100%"}},t.title&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-header"},r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-title"},t.title),r.createElement("span",{className:n.prefixClass+"-annotation-popup-wrapper-date"},a)),t.contents&&r.createElement("div",{className:n.prefixClass+"-annotation-popup-wrapper-content"},t.contents.split("\n").map((function(e,t){return r.createElement(r.Fragment,{key:t},e,r.createElement("br",null))}))))};!function(e){e.Click="Click",e.Hover="Hover"}(B||(B={}));var q=function(e){var t,n=e.annotation,a=e.children,o=e.ignoreBorder,s=e.hasPopup,c=e.isRenderable,l=e.page,u=e.viewport,p=n.rect,d=function(){var e=b(),t=e.opened,n=e.toggle,a=r.useState(B.Hover),o=a[0],s=a[1];return{opened:t,closeOnHover:function(){o===B.Hover&&n(i.Close)},openOnHover:function(){o===B.Hover&&n(i.Open)},toggleOnClick:function(){switch(o){case B.Click:t&&s(B.Hover),n(i.Toggle);break;case B.Hover:s(B.Click),n(i.Open)}}}}(),f=d.closeOnHover,h=d.opened,g=d.openOnHover,m=d.toggleOnClick,v=(t=[p[0],l.view[3]+l.view[1]-p[1],p[2],l.view[3]+l.view[1]-p[3]],[Math.min(t[0],t[2]),Math.min(t[1],t[3]),Math.max(t[0],t[2]),Math.max(t[1],t[3])]),E=p[2]-p[0],C=p[3]-p[1],x={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!o&&n.borderStyle.width>0){switch(n.borderStyle.style){case W.Dashed:x.borderStyle="dashed";break;case W.Solid:x.borderStyle="solid";break;case W.Underline:x=Object.assign({borderBottomStyle:"solid"},x);break;case W.Beveled:case W.Inset:}var y=n.borderStyle.width;x.borderWidth=y+"px",n.borderStyle.style!==W.Underline&&(E-=2*y,C-=2*y);var w=n.borderStyle,k=w.horizontalCornerRadius,P=w.verticalCornerRadius;(k>0||P>0)&&(x.borderRadius=k+"px / "+P+"px"),n.color?x.borderColor="rgb("+(0|n.color[0])+", "+(0|n.color[1])+", "+(0|n.color[2])+")":x.borderWidth="0"}return r.createElement(r.Fragment,null,c&&a({popup:{opened:h,closeOnHover:f,openOnHover:g,toggleOnClick:m},slot:{attrs:{style:Object.assign({height:C+"px",left:v[0]+"px",top:v[1]+"px",transform:"matrix("+u.transform.join(",")+")",transformOrigin:"-"+v[0]+"px -"+v[1]+"px",width:E+"px"},x)},children:r.createElement(r.Fragment,null,s&&h&&r.createElement(z,{annotation:n}))}}))},U=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-caret","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},G=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-circle","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("circle",{cy:p/2,fill:"none",rx:u/2-d/2,ry:p/2-d/2,stroke:"transparent",strokeWidth:d||1})),e.slot.children)}))},Z=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!1!==t.hasPopup||!t.title&&!t.contents),s=function(){var e,n,r,a,o=t.file;o&&(e=o.filename,r="string"==typeof(n=o.content)?"":URL.createObjectURL(new Blob([n],{type:""})),(a=document.createElement("a")).style.display="none",a.href=r||e,a.setAttribute("download",function(e){var t=e.split("/").pop();return t?t.split("#")[0].split("?")[0]:e}(e)),document.body.appendChild(a),a.click(),document.body.removeChild(a),r&&URL.revokeObjectURL(r))};return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:!0,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-file-attachment","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onDoubleClick:s,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},J=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-free-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},X=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!(!t.title&&!t.contents),s=!t.parentType||-1!==["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(t.parentType);return f((function(){if(t.parentId){var e=document.querySelector('[data-annotation-id="'+t.parentId+'"]'),n=document.querySelector('[data-annotation-id="'+t.id+'"]');if(e&&n){var r=parseFloat(e.style.left),a=parseFloat(e.style.top)+parseFloat(e.style.height);n.style.left=r+"px",n.style.top=a+"px",n.style.transformOrigin="-"+r+"px -"+a+"px"}}}),[]),r.createElement(q,{annotation:t,hasPopup:s,ignoreBorder:!1,isRenderable:i,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-popup","data-annotation-id":t.id}),r.createElement(z,{annotation:t}))}))},Y=function e(t){var n=t.annotation,a=t.childAnnotation,o=t.page,i=t.viewport,l=r.useContext(c),u=!1===n.hasPopup,p=!!(n.hasPopup||n.title||n.contents);if(n.quadPoints&&n.quadPoints.length>0){var d=n.quadPoints.map((function(e){return Object.assign({},n,{rect:[e[2].x,e[2].y,e[1].x,e[1].y],quadPoints:[]})}));return r.createElement(r.Fragment,null,d.map((function(t,n){return r.createElement(e,{key:n,annotation:t,childAnnotation:a,page:o,viewport:i})})))}return r.createElement(q,{annotation:n,hasPopup:u,ignoreBorder:!0,isRenderable:p,page:o,viewport:i},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-highlight","data-annotation-id":n.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children),a&&a.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:a,page:o,viewport:i}))}))},K=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-ink","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.inkLists&&t.inkLists.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},t.inkLists.map((function(e,t){return r.createElement("polyline",{key:t,fill:"none",stroke:"transparent",strokeWidth:d||1,points:e.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})}))),e.slot.children)}))},Q=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-line","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("line",{stroke:"transparent",strokeWidth:d||1,x1:l[2]-t.lineCoordinates[0],x2:l[2]-t.lineCoordinates[2],y1:l[3]-t.lineCoordinates[1],y2:l[3]-t.lineCoordinates[3]})),e.slot.children)}))},$=function(e,t){return new Promise((function(n){new Promise((function(n){"string"==typeof t?e.getDestination(t).then((function(e){n(e)})):n(t)})).then((function(t){return"object"==typeof t[0]?e.getPageIndex(t[0]).then((function(e){return Promise.resolve({pageIndex:e,destArray:t})})):Promise.resolve({pageIndex:t[0],destArray:t})})).then((function(e){var t=function(e,t){switch(t[1].name){case"XYZ":return{bottomOffset:t[3],pageIndex:e-1,scaleTo:t[4]};case"Fit":case"FitB":return{bottomOffset:0,pageIndex:e-1,scaleTo:A.PageFit};case"FitH":case"FitBH":return{bottomOffset:t[2],pageIndex:e-1,scaleTo:A.PageWidth};default:return{bottomOffset:0,pageIndex:e-1,scaleTo:1}}}(e.pageIndex,e.destArray);n(t)}))}))},ee=function(e){var t=e.annotation,n=e.doc,a=e.page,o=e.viewport,i=e.onExecuteNamedAction,s=e.onJumpToDest,l=r.useContext(c),u=!!(t.url||t.dest||t.action),p=t.url?{href:t.url,rel:"noopener noreferrer nofollow",target:t.newWindow?"_blank":"",title:t.url}:{href:"",onClick:function(e){e.preventDefault(),t.action?i(t.action):$(n,t.dest).then((function(e){var t=e.pageIndex,n=e.bottomOffset,r=e.scaleTo;s(t+1,n,0,r)}))}};return r.createElement(q,{annotation:t,hasPopup:!1,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:l.prefixClass+"-annotation "+l.prefixClass+"-annotation-link","data-annotation-id":t.id}),r.createElement("a",I({},p)))}))},te=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polygon","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},ne=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-polyline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),t.vertices&&t.vertices.length&&r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:d||1,points:t.vertices.map((function(e){return e.x-l[0]+","+(l[3]-e.y)})).join(" ")})),e.slot.children)}))},re=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents),l=t.rect,u=l[2]-l[0],p=l[3]-l[1],d=t.borderStyle.width;return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-square","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),r.createElement("svg",{height:p+"px",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 "+u+" "+p,width:u+"px"},r.createElement("rect",{height:p-d,fill:"none",stroke:"transparent",strokeWidth:d||1,x:d/2,y:d/2,width:u-d})),e.slot.children)}))},ae=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-squiggly","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},oe=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-stamp","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ie=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-strike-out","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},se=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),r.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),r.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),r.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},ce=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),r.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),r.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),r.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),r.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),r.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),r.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),r.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),r.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),r.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},le=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),r.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},ue=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),r.createElement("path",{d:"M6 4.5L6 0.5"}),r.createElement("path",{d:"M18 4.5L18 0.5"}),r.createElement("path",{d:"M10 4.5L10 0.5"}),r.createElement("path",{d:"M14 4.5L14 0.5"}))},pe=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),r.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),r.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},de=function(){return r.createElement(u,{size:16},r.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},fe=function(e){var t=e.annotation,n=e.childAnnotation,a=e.page,o=e.viewport,i=r.useContext(c),l=!1===t.hasPopup,u=!!(t.hasPopup||t.title||t.contents),d=t.name?t.name.toLowerCase():"";return r.createElement(q,{annotation:t,hasPopup:l,ignoreBorder:!1,isRenderable:u,page:a,viewport:o},(function(e){return r.createElement(r.Fragment,null,r.createElement("div",I({},e.slot.attrs,{className:i.prefixClass+"-annotation "+i.prefixClass+"-annotation-text","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),d&&r.createElement("div",{className:i.prefixClass+"-annotation-text-icon"},"check"===d&&r.createElement(p,null),"comment"===d&&r.createElement(se,null),"help"===d&&r.createElement(ce,null),"insert"===d&&r.createElement(de,null),"key"===d&&r.createElement(le,null),"note"===d&&r.createElement(ue,null),("newparagraph"===d||"paragraph"===d)&&r.createElement(pe,null)),e.slot.children),n&&n.annotationType===s.Popup&&e.popup.opened&&r.createElement(X,{annotation:n,page:a,viewport:o}))}))},he=function(e){var t=e.annotation,n=e.page,a=e.viewport,o=r.useContext(c),i=!1===t.hasPopup,s=!!(t.hasPopup||t.title||t.contents);return r.createElement(q,{annotation:t,hasPopup:i,ignoreBorder:!0,isRenderable:s,page:n,viewport:a},(function(e){return r.createElement("div",I({},e.slot.attrs,{className:o.prefixClass+"-annotation "+o.prefixClass+"-annotation-underline","data-annotation-id":t.id,onClick:e.popup.toggleOnClick,onMouseEnter:e.popup.openOnHover,onMouseLeave:e.popup.closeOnHover}),e.slot.children)}))},ge=function(e){var t=e.annotations,n=e.containerRef,a=e.doc,o=e.page,i=e.pageIndex,c=e.plugins,l=e.rotation,u=e.scale,p=e.onExecuteNamedAction,d=e.onJumpToDest,f=o.getViewport({rotation:l,scale:u}).clone({dontFlip:!0}),h=t.filter((function(e){return!e.parentId}));return r.useEffect((function(){var e=n.current;e&&c.forEach((function(t){t.onAnnotationLayerRender&&t.onAnnotationLayerRender({annotations:h,container:e,pageIndex:i,rotation:l,scale:u})}))}),[]),r.createElement(r.Fragment,null,h.map((function(e){var n=t.find((function(t){return t.parentId===e.id}));switch(e.annotationType){case s.Caret:return r.createElement(U,{key:e.id,annotation:e,page:o,viewport:f});case s.Circle:return r.createElement(G,{key:e.id,annotation:e,page:o,viewport:f});case s.FileAttachment:return r.createElement(Z,{key:e.id,annotation:e,page:o,viewport:f});case s.FreeText:return r.createElement(J,{key:e.id,annotation:e,page:o,viewport:f});case s.Highlight:return r.createElement(Y,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Ink:return r.createElement(K,{key:e.id,annotation:e,page:o,viewport:f});case s.Line:return r.createElement(Q,{key:e.id,annotation:e,page:o,viewport:f});case s.Link:return r.createElement(ee,{key:e.id,annotation:e,doc:a,page:o,viewport:f,onExecuteNamedAction:p,onJumpToDest:d});case s.Polygon:return r.createElement(te,{key:e.id,annotation:e,page:o,viewport:f});case s.Polyline:return r.createElement(ne,{key:e.id,annotation:e,page:o,viewport:f});case s.Popup:return r.createElement(X,{key:e.id,annotation:e,page:o,viewport:f});case s.Square:return r.createElement(re,{key:e.id,annotation:e,page:o,viewport:f});case s.Squiggly:return r.createElement(ae,{key:e.id,annotation:e,page:o,viewport:f});case s.Stamp:return r.createElement(oe,{key:e.id,annotation:e,page:o,viewport:f});case s.StrikeOut:return r.createElement(ie,{key:e.id,annotation:e,page:o,viewport:f});case s.Text:return r.createElement(fe,{key:e.id,annotation:e,childAnnotation:n,page:o,viewport:f});case s.Underline:return r.createElement(he,{key:e.id,annotation:e,page:o,viewport:f});default:return r.createElement(r.Fragment,{key:e.id})}})))},me=function(e){var t=e.page,n=e.renderAnnotations,a=r.useState({loading:!0,annotations:[]}),o=a[0],i=a[1];return r.useEffect((function(){t.getAnnotations({intent:"display"}).then((function(e){i({loading:!1,annotations:e})}))}),[]),o.loading?r.createElement(r.Fragment,null):n(o.annotations)},ve=function(e){var t=e.doc,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.onExecuteNamedAction,u=e.onJumpToDest,p=r.useContext(c),d=r.createRef();return r.createElement("div",{ref:d,className:p.prefixClass+"-annotation-layer"},r.createElement(me,{page:n,renderAnnotations:function(e){return r.createElement(ge,{annotations:e,containerRef:d,doc:t,page:n,pageIndex:a,plugins:o,rotation:i,scale:s,onExecuteNamedAction:l,onJumpToDest:u})}}))},Ee=function(e){var t=e.callback,n=e.children,a=e.rotation,o=e.scale;return f((function(){t()}),[a,o]),r.createElement(r.Fragment,null,n)},Ce=function(e){var t=e.height,n=e.page,a=e.pageIndex,o=e.plugins,i=e.rotation,s=e.scale,l=e.width,u=r.useContext(c),p=r.createRef(),d=r.useRef(),f=window.devicePixelRatio||1;return r.createElement(Ee,{callback:function(){var e=d.current;e&&e.cancel();var r=p.current;o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.PreRender})})),r.height=t*f,r.width=l*f,r.style.opacity="0";var c=r.getContext("2d",{alpha:!1}),u=n.getViewport({rotation:i,scale:s*f});d.current=n.render({canvasContext:c,viewport:u}),d.current.promise.then((function(){r.style.removeProperty("opacity"),o.forEach((function(e){e.onCanvasLayerRender&&e.onCanvasLayerRender({ele:r,pageIndex:a,rotation:i,scale:s,status:D.DidRender})}))}),(function(){}))},rotation:i,scale:s},r.createElement("div",{className:u.prefixClass+"-canvas-layer",style:{height:t+"px",width:l+"px"}},r.createElement("canvas",{ref:p,style:{transform:"scale("+1/f+")",transformOrigin:"top left"}})))},xe=function(e){var t=e.height,n=e.page,a=e.rotation,i=e.scale,s=e.width,l=r.useContext(c),u=r.createRef();return r.createElement(Ee,{callback:function(){var e=u.current,r=n.getViewport({rotation:a,scale:i});n.getOperatorList().then((function(a){!function(){var e=u.current;e&&(e.innerHTML="")}(),new o.SVGGraphics(n.commonObjs,n.objs).getSVG(a,r).then((function(n){n.style.height=t+"px",n.style.width=s+"px",e.appendChild(n)}))}))},rotation:a,scale:i},r.createElement("div",{className:l.prefixClass+"-svg-layer",ref:u}))},ye=function(e){var t=e.page,n=e.pageIndex,a=e.plugins,i=e.rotation,s=e.scale,l=r.useContext(c),u=r.createRef(),p=r.useRef();return r.createElement(Ee,{callback:function(){var e=p.current;e&&e.cancel();var r=u.current;if(r){var c=t.getViewport({rotation:i,scale:s});a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.PreRender})})),t.getTextContent().then((function(e){!function(){var e=u.current;if(e)for(var t=e.querySelectorAll("span."+l.prefixClass+"-text"),n=t.length,r=0;r<n;r++){var a=t[r];e.removeChild(a)}}(),p.current=o.renderTextLayer({container:r,textContent:e,viewport:c}),p.current.promise.then((function(){for(var e=r.childNodes,t=e.length,o=0;o<t;o++)e[o].classList.add(l.prefixClass+"-text");a.forEach((function(e){e.onTextLayerRender&&e.onTextLayerRender({ele:r,pageIndex:n,scale:s,status:D.DidRender})}))}),(function(){}))}))}},rotation:i,scale:s},r.createElement("div",{className:l.prefixClass+"-text-layer",ref:u}))},we=function(e){var t=e.currentPage,n=e.doc,a=e.height,o=e.pageIndex,i=e.plugins,s=e.renderPage,l=e.rotation,u=e.scale,p=e.width,f=e.onExecuteNamedAction,g=e.onJumpToDest,m=e.onPageVisibilityChanged,v=r.useContext(c),E=r.useState({page:null,pageHeight:a,pageWidth:p,viewportRotation:0}),C=E[0],x=E[1],y=C.page,w=C.pageHeight,b=C.pageWidth,k=r.useRef(!1),P=Array(10).fill(null).map((function(e,t){return t/10})),O=b*u,R=w*u,L=Math.abs(l)%180==0,S=L?O:R,_=L?R:O,T=function(){k.current||(k.current=!0,n.getPage(o+1).then((function(e){var t=e.getViewport({scale:1});x({page:e,pageHeight:t.height,pageWidth:t.width,viewportRotation:t.rotation})})))},A=s||function(e){return r.createElement(r.Fragment,null,e.canvasLayer.children,e.textLayer.children,e.annotationLayer.children)},M=(l+C.viewportRotation)%360,N=h({threshold:P,onVisibilityChanged:function(e){m(o,e.isVisible?e.ratio:-1),e.isVisible&&T()}});return r.useEffect((function(){t-2<=o&&o<=t+2&&T()}),[t]),r.createElement("div",{ref:N,className:v.prefixClass+"-page-layer","data-testid":"viewer-page-layer-"+o,style:{height:_+"px",width:S+"px"}},y?r.createElement(r.Fragment,null,A({annotationLayer:{attrs:{},children:r.createElement(ve,{doc:n,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,onExecuteNamedAction:f,onJumpToDest:g})},canvasLayer:{attrs:{},children:r.createElement(Ce,{height:_,page:y,pageIndex:o,plugins:i,rotation:M,scale:u,width:S})},doc:n,height:_,pageIndex:o,rotation:l,scale:u,svgLayer:{attrs:{},children:r.createElement(xe,{height:_,page:y,rotation:M,scale:u,width:S})},textLayer:{attrs:{},children:r.createElement(ye,{page:y,pageIndex:o,plugins:i,rotation:M,scale:u})},width:S}),i.map((function(e,t){return e.renderPageLayer?r.createElement(r.Fragment,{key:t},e.renderPageLayer({doc:n,height:_,pageIndex:o,rotation:l,scale:u,width:S})):r.createElement(r.Fragment,{key:t})}))):r.createElement(d,null))},be=function(e){var t=e.defaultScale,n=e.doc,a=e.initialPage,o=e.pageSize,i=e.plugins,s=e.renderPage,l=e.viewerState,u=e.onDocumentLoad,p=e.onOpenFile,d=e.onPageChange,f=e.onZoom,h=r.useContext(c),g=r.useRef(null),m=r.useRef(null),v=r.useState(o.scale),E=v[0],C=v[1],x=r.useState(0),y=x[0],w=x[1],b=r.useState(0),k=b[0],P=b[1],O=r.useRef(l),R=n.numPages,L=o.pageWidth,S=o.pageHeight,_=Array(R).fill(null),T=_.map((function(){return 0})),M=_.map((function(){return r.useRef()})),N=function(e){var t=e;i.forEach((function(e){e.onViewerStateChange&&(t=e.onViewerStateChange(t))})),O.current=t},F=function(){return m.current},H=function(e){return e<0||e>=R?null:M[e].current},D=function(){return O.current},B=function(e,t,r,a){var o=m.current,i=O.current;if(o&&i){var s=e+1;n.getPage(s).then((function(n){var s=n.getViewport({scale:1}),c=0,l=t||0,u=r||0;switch(a){case A.PageFit:c=0,u=0,z(A.PageFit);break;case A.PageWidth:c=(s.height-l)*i.scale,u*=i.scale,z(A.PageWidth);break;default:c=(s.height-l)*i.scale,u*=i.scale}var p=M[e].current;p&&(o.scrollTop=p.offsetTop+c,o.scrollLeft=p.offsetLeft+u)}))}},W=function(e){if(!(e<0||e>=R)){var t=m.current,n=M[e].current;t&&n&&(t.scrollTop=n.offsetTop,t.scrollLeft=n.offsetLeft),w(e)}},j=function(e){var t,n;"pdf"===(t=e.name,n=t.split(/\./).pop(),n?n.toLowerCase():"").toLowerCase()&&new Promise((function(t){var n=new FileReader;n.readAsArrayBuffer(e),n.onload=function(){var e=new Uint8Array(n.result);t(e)}})).then((function(t){p(e.name,t)}))},V=function(e){P(e),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:e,scale:E})},z=function(e){var t=m.current,r=O.current;if(t&&r){var a=1;switch(e){case A.ActualSize:a=1;break;case A.PageFit:a=Math.min((t.clientWidth-17)/L,(t.clientHeight-16)/S);break;case A.PageWidth:a=(t.clientWidth-17)/L;break;default:a=e}C(a),f({doc:n,scale:a})}};r.useEffect((function(){var e=m.current,t=O.current;e&&t&&(e.scrollTop=e.scrollTop*E/t.scale,e.scrollLeft=e.scrollLeft*E/t.scale,N({file:l.file,pageIndex:t.pageIndex,pageHeight:S,pageWidth:L,rotation:k,scale:E}))}),[E]),r.useEffect((function(){var e={getPageElement:H,getPagesContainer:F,getViewerState:D,jumpToDestination:B,jumpToPage:W,openFile:j,rotate:V,setViewerState:N,zoom:z};return i.forEach((function(t){t.install&&t.install(e)})),function(){i.forEach((function(t){t.uninstall&&t.uninstall(e)}))}}),[]),r.useEffect((function(){u({doc:n}),i.forEach((function(e){e.onDocumentLoad&&e.onDocumentLoad({doc:n})})),a&&W(a)}),[]),r.useEffect((function(){d({currentPage:y,doc:n}),N({file:l.file,pageIndex:y,pageHeight:S,pageWidth:L,rotation:k,scale:E})}),[y]),r.useEffect((function(){t&&z(t)}),[]);var q,U=function(e,t){T[e]=t;var n=T.reduce((function(e,t,n,r){return t>r[e]?n:e}),0);w(n)},G=function(e){var t=y-1,n=y+1;switch(e){case"FirstPage":W(0);break;case"LastPage":W(R-1);break;case"NextPage":n<R&&W(n);break;case"PrevPage":t>=0&&W(t)}};return function e(t){return r.createElement("div",I({},t.attrs,{style:t.attrs&&t.attrs.style?t.attrs.style:{}}),t.children,t.subSlot&&e(t.subSlot))}((q={attrs:{ref:g,style:{height:"100%"}},children:r.createElement(r.Fragment,null),subSlot:{attrs:{ref:m,style:{height:"100%",overflow:"auto",position:"relative"}},children:r.createElement(r.Fragment,null,Array(R).fill(0).map((function(e,t){return r.createElement("div",{className:h.prefixClass+"-inner-page",key:"pagelayer-"+t,ref:function(e){M[t].current=e}},r.createElement(we,{currentPage:y,doc:n,height:S,pageIndex:t,plugins:i,renderPage:s,rotation:k,scale:E,width:L,onExecuteNamedAction:G,onJumpToDest:B,onPageVisibilityChanged:U}))})))}},i.forEach((function(e){e.renderViewer&&(q=e.renderViewer({containerRef:g,doc:n,pageHeight:S,pageWidth:L,rotation:k,slot:q,jumpToPage:W,openFile:j,rotate:V,zoom:z}))})),q))},ke=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Pe=function(e){var t=e.doc,n=e.render,a=r.useContext(c),o=r.useRef(null),i=r.useState({pageHeight:0,pageWidth:0,scale:1}),s=i[0],l=i[1];return r.useEffect((function(){t.getPage(1).then((function(e){var t=e.getViewport({scale:1}),n=t.width,r=t.height,a=o.current;if(a){var i,s,c=(a.clientWidth-100)/n,u=(i=Math.max(1,c),-1===(s=ke.findIndex((function(e){return e>=i})))||0===s?i:ke[s-1]);l({pageHeight:r,pageWidth:n,scale:u})}}))}),[t]),0===s.pageWidth?r.createElement("div",{className:a.prefixClass+"-page-size-calculator",ref:o},r.createElement(d,null)):n(s)},Oe=function(){},Re=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Le=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.askingPassword.requirePasswordToOpen,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.askingPassword.submit))))},Se=function(e){function t(t){var n=e.call(this)||this;return n.doc=t,n}return N(t,e),t}(Oe),_e=function(e){function t(t){var n=e.call(this)||this;return n.error=t,n}return N(t,e),t}(Oe),Te=function(e){function t(t){var n=e.call(this)||this;return n.percentages=t,n}return N(t,e),t}(Oe),Ae=function(e){var t=e.verifyPasswordFn,n=r.useContext(g),a=r.useContext(c),o=r.useState(""),i=o[0],s=o[1];return r.createElement("div",{className:a.prefixClass+"-asking-password"},r.createElement("div",null,r.createElement("div",{className:a.prefixClass+"-asking-password-message"},n.core.wrongPassword.tryAgain,":"),r.createElement("div",{className:a.prefixClass+"-asking-password-input-container"},r.createElement("input",{className:a.prefixClass+"-asking-password-input",type:"password",onChange:function(e){return s(e.target.value)}}),r.createElement("button",{className:a.prefixClass+"-asking-password-button",onClick:function(){return t(i)}},n.core.wrongPassword.submit))))},Me=function(e){function t(t){var n=e.call(this)||this;return n.verifyPasswordFn=t,n}return N(t,e),t}(Oe),Ne=function(e){var t,n=e.characterMap,a=e.file,i=e.httpHeaders,s=e.render,l=e.renderError,u=e.renderLoader,p=e.withCredentials,f=r.useContext(c),h=r.useState(new Te(0)),g=h[0],m=h[1],v=r.useState(0),E=v[0],C=v[1],x=r.useState(null),y=x[0],w=x[1],b=(t=r.useRef(!1),r.useEffect((function(){return t.current=!0,function(){t.current=!1}}),[]),t);switch(r.useEffect((function(){m(new Te(0));var e=new o.PDFWorker({name:"PDFWorker_"+Date.now()}),t=Object.assign({httpHeaders:i,withCredentials:p,worker:e},"string"==typeof a?{url:a}:{data:a},n?{cMapUrl:n.url,cMapPacked:n.isCompressed}:{}),r=o.getDocument(t);return r.onPassword=function(e,t){switch(t){case o.PasswordResponses.NEED_PASSWORD:b.current&&m(new Re(e));break;case o.PasswordResponses.INCORRECT_PASSWORD:b.current&&m(new Me(e))}},r.onProgress=function(e){e.total>0?b.current&&C(Math.min(100,100*e.loaded/e.total)):b.current&&C(100)},r.promise.then((function(e){return b.current&&w(e)}),(function(t){return b.current&&!e.destroyed&&m(new _e({message:t.message||"Cannot load document",name:t.name}))})),function(){r.destroy(),e.destroy()}}),[a]),r.useEffect((function(){100===E&&y?b.current&&m(new Se(y)):b.current&&m(new Te(E))}),[E,y]),!0){case g instanceof Re:return r.createElement(Le,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Me:return r.createElement(Ae,{verifyPasswordFn:g.verifyPasswordFn});case g instanceof Se:return s(g.doc);case g instanceof _e:return l?l(g.error):r.createElement("div",{className:f.prefixClass+"-doc-error"},r.createElement("div",{className:f.prefixClass+"-doc-error-text"},g.error.message));case g instanceof Te:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},u?u(g.percentages):r.createElement(d,null));default:return r.createElement("div",{className:f.prefixClass+"-doc-loading"},r.createElement(d,null))}},Fe=function(e){var t=e.children,n=e.prefixClass;return r.createElement(c.Provider,{value:{prefixClass:n||"rpv-core"}},t)};t.AnnotationType=s,t.Button=function(e){var t,n=e.children,a=e.isSelected,o=void 0!==a&&a,i=e.onClick,s=r.useContext(c);return r.createElement("button",{className:l((t={},t[s.prefixClass+"-button"]=!0,t[s.prefixClass+"-button-selected"]=o,t)),onClick:i},n)},t.Icon=u,t.LayerRenderStatus=D,t.LocalizationContext=g,t.LocalizationProvider=v,t.Menu=function(e){var t=e.children,n=r.useContext(c);return r.createElement("ul",{className:n.prefixClass+"-menu"},t)},t.MenuDivider=function(){var e=r.useContext(c);return r.createElement("li",{className:e.prefixClass+"-menu-divider"})},t.MenuItem=function(e){var t=e.checked,n=void 0!==t&&t,a=e.children,o=e.icon,i=void 0===o?null:o,s=e.onClick,l=r.useContext(c);return r.createElement("li",{className:l.prefixClass+"-menu-item",onClick:s},r.createElement("div",{className:l.prefixClass+"-menu-item-icon"},i),r.createElement("div",{className:l.prefixClass+"-menu-item-label"},a),r.createElement("div",{className:l.prefixClass+"-menu-item-check"},n&&r.createElement(p,null)))},t.Modal=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.target;return r.createElement(k,{target:o,content:function(e){return r.createElement(y,null,r.createElement(x,{closeOnClickOutside:t,closeOnEscape:n,onToggle:e},a(e)))}})},t.Popover=function(e){var t=e.closeOnClickOutside,n=e.closeOnEscape,a=e.content,o=e.offset,i=e.position,s=e.target,c=r.createRef();return r.createElement(k,{content:function(e){return r.createElement(r.Fragment,null,r.createElement(_,{closeOnEscape:n,onClose:e}),r.createElement(S,{closeOnClickOutside:t,offset:o,position:i,targetRef:c,onClose:e},a(e)))},target:function(e,t){return r.createElement("div",{ref:c},s(e,t))}})},t.Position=O,t.PrimaryButton=function(e){var t=e.children,n=e.onClick,a=r.useContext(c);return r.createElement("button",{className:a.prefixClass+"-primary-button",onClick:n},t)},t.ProgressBar=function(e){var t=e.progress,n=r.useContext(c);return r.createElement("div",{className:n.prefixClass+"-progress-bar"},r.createElement("div",{className:n.prefixClass+"-progress-bar-inner",style:{width:t+"%"}},t,"%"))},t.Separator=function(){var e=r.useContext(c);return r.createElement("div",{className:e.prefixClass+"-separator"})},t.SpecialZoomLevel=A,t.Spinner=d,t.Tooltip=function(e){var t=e.content,n=e.offset,a=e.position,o=e.target,s=r.createRef();return r.createElement(k,{target:function(e){return r.createElement("div",{ref:s,onMouseEnter:function(){e(i.Open)},onMouseLeave:function(){e(i.Close)}},o)},content:function(){return r.createElement(T,{offset:n,position:a,targetRef:s},t())}})},t.Viewer=function(e){var t,n,a=e.characterMap,o=e.defaultScale,i=e.fileUrl,s=e.httpHeaders,c=void 0===s?{}:s,l=e.initialPage,u=void 0===l?0:l,p=e.localization,d=e.plugins,f=void 0===d?[]:d,g=e.prefixClass,m=e.renderError,E=e.renderPage,C=e.renderLoader,x=e.withCredentials,y=void 0!==x&&x,w=e.onDocumentLoad,b=void 0===w?function(){}:w,k=e.onPageChange,P=void 0===k?function(){}:k,O=e.onZoom,R=void 0===O?function(){}:O,L=r.useState({data:i,name:"string"==typeof i?i:"",shouldLoad:!1}),S=L[0],_=L[1],T=function(e,t){_({data:t,name:e,shouldLoad:!0})},A=r.useState(!1),M=A[0],N=A[1],F=(t=S,n=r.useRef(t),r.useEffect((function(){n.current=t}),[t]),n.current);r.useEffect((function(){F.data!==i&&_({data:i,name:"string"==typeof i?i:"",shouldLoad:M})}),[i,M]);var I=h({onVisibilityChanged:function(e){N(e.isVisible),e.isVisible&&_((function(e){return Object.assign({},e,{shouldLoad:!0})}))}});return r.createElement(Fe,{prefixClass:g},r.createElement(v,{localization:p},(function(e){return r.createElement("div",{ref:I,"data-testid":"viewer",style:{height:"100%",width:"100%"}},S.shouldLoad&&r.createElement(Ne,{characterMap:a,file:S.data,httpHeaders:c,render:function(e){return r.createElement(Pe,{doc:e,render:function(t){return r.createElement(be,{defaultScale:o,doc:e,initialPage:u,pageSize:t,plugins:f,renderPage:E,viewerState:{file:S,pageIndex:u,pageHeight:t.pageHeight,pageWidth:t.pageWidth,rotation:0,scale:t.scale},onDocumentLoad:b,onOpenFile:T,onPageChange:P,onZoom:R})}})},renderError:m,renderLoader:C,withCredentials:y}))})))},t.Worker=function(e){var t=e.children,n=e.workerUrl;return o.GlobalWorkerOptions.workerSrc=n,r.createElement(r.Fragment,null,t)},t.createStore=function(e){var t=e||{},n={};return{subscribe:function(e,t){n[e]=(n[e]||[]).concat(t)},unsubscribe:function(e,t){n[e]=(n[e]||[]).filter((function(e){return e!==t}))},update:function(e,r){var a;t=I(I({},t),((a={})[e]=r,a)),(n[e]||[]).forEach((function(n){return n(t[e])}))},get:function(e){return t[e]}}},t.getDestination=$,t.useIntersectionObserver=h,t.useIsomorphicLayoutEffect=f}])]);
//# sourceMappingURL=6.986f6cef.chunk.js.map