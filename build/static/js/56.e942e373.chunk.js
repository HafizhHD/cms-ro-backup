(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[56],{1410:function(e,t,n){"use strict";n.r(t);var a=n(10),o=n(2),c=n.n(o),i=n(109),r=(n(755),n(194)),l=n(6),s=n(151),u=n(36),j=n(17),p=n(144),d=n(129),m=n(18),b=n.n(m),h=n(440),g=n.n(h),O=(n(37),n(94)),x=n(95),f=n(100),v=n(97),_=n(98),N=n(197),C=n(333),T=n(335),k=n.n(T),y=n(0);o.Component,n(479),n(611);t.default=Object(j.b)((function(e){return console.log(e.auth.isLoading),{isLoading:e.auth.isLoading}}),(function(e){return{onAddContent:function(t,n,a,o,c,i,r,l,u,j,p){return e(Object(s.a)(t,n,a,o,c,i,r,l,u,j,p))}}}))((function(e){var t=e.onAddContent,n=e.isLoading,c=N.EditorState.createEmpty(),s=Object(o.useState)(c),j=Object(a.a)(s,2),m=j[0],h=j[1],O=function(e){h(e)},x=Object(o.useState)(c),f=Object(a.a)(x,2),v=f[0],_=f[1],T=function(e){_(e)},w=Object(o.useState)(!0),S=Object(a.a)(w,2),D=S[0],A=S[1],I=Object(o.useState)(),B=Object(a.a)(I,2),P=B[0],E=B[1],R=Object(o.useState)(""),V=Object(a.a)(R,2),L=V[0],F=V[1],U=Object(o.useState)(g.a.createEmptyValue()),K=Object(a.a)(U,2),J=K[0],M=K[1],Y=Object(o.useState)(g.a.createEmptyValue()),q=Object(a.a)(Y,2),z=(q[0],q[1]),G=Object(l.g)(),H=JSON.parse(localStorage.getItem("userData")).email,Q={whereKeyValues:{cobrandEmail:H}};return Object(o.useEffect)((function(){b()({method:"post",url:"https://as01.prod.ruangortu.id:8080/api/cobrand/programFilter",data:Q,headers:{"Content-Type":"application/json"}}).then((function(e){console.log("Program list: ",e.data),E(e.data.programs),A(!1)})).catch((function(e){console.log(e),A(!1)}))}),[]),D?Object(y.jsx)(u.a,{}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(i.a,{headingName:"Content",routes:[{path:"/content",name:"Content"},{path:"/content/add",name:"Create new content"}]}),Object(y.jsx)(r.a,{initialValues:{programId:"-1",contentName:"",contentDescription:"",contentType:"",contentSource:"",contentThumbnail:"",contents:"",startDate:(new Date).toISOString().split("T")[0],isActive:!0},validationSchema:p.a,validateOnChange:!0,onSubmit:function(e){window.scrollTo(0,0),t(H,e.programId,e.contentName,e.contentDescription,e.contentType,e.contentSource,e.contentThumbnail,e.contents,e.startDate,e.isActive,G)},children:function(e){var t=e.handleChange,n=e.handleSubmit,a=e.handleBlur,o=e.setFieldValue,c=e.values,i=e.errors,r=e.touched;return Object(y.jsx)("form",{onSubmit:n,children:Object(y.jsxs)("div",{className:"AddContent",children:[Object(y.jsx)("h1",{className:"AddContent_title",children:"Create New Content"}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Content Type"}),Object(y.jsxs)("select",{name:"contentType",value:c.contentType,onChange:function(e){o("contentType",e.currentTarget.value),o("contents","")},children:[Object(y.jsx)("option",{value:"",disabled:!0,children:"Select Content Type"}),Object(y.jsx)("option",{value:"Artikel",children:"Artikel"}),Object(y.jsx)("option",{value:"Image",children:"Image"}),Object(y.jsx)("option",{value:"Video",children:"Video"}),Object(y.jsx)("option",{value:"Pdf",children:"File Pdf"})]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Topic Category "}),Object(y.jsxs)("select",{children:[Object(y.jsx)("option",{value:"Topik Agama",children:"Topik Agama"}),Object(y.jsx)("option",{value:"Topik Pendidikan",children:"Topik Pendidikan"}),Object(y.jsx)("option",{value:"Topik Kesehatan",children:"Topik Kesehatan"}),Object(y.jsx)("option",{value:"Topik Keluarga",children:"Topik Keluarga"}),Object(y.jsx)("option",{value:"Topik Berita Internal",children:"Topik Berita Internal"}),Object(y.jsx)("option",{value:"Topik Berita Nasional",children:"Topik Berita Nasional"}),Object(y.jsx)("option",{value:"Topik Berita Dunia",children:"Topik Berita Dunia"}),Object(y.jsx)("option",{value:"Topik Informasi Teknologi",children:"Topik Informasi Teknologi"}),Object(y.jsx)("option",{value:"Topik Olah Raga",children:"Topik Olah Raga"}),Object(y.jsx)("option",{value:"Topik Umum",children:"Topik Umum"})]}),Object(y.jsx)("br",{})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Program Name"}),Object(y.jsxs)("select",{name:"programId",value:c.programId,onChange:t,children:[Object(y.jsx)("option",{value:"-1",disabled:!0,children:"Select Program"}),P.map((function(e){return Object(y.jsx)("option",{value:e._id,children:e.programName})}))]})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Title"}),Object(y.jsx)(d.a,{type:"text",name:"contentName",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:c.contentName,onChange:t,onBlur:a}),r.contentName&&Object(y.jsx)("span",{className:"message__error",children:i.contentName})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Description"}),Object(y.jsx)(C.Editor,{editorState:m,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:O,value:k()(Object(N.convertToRaw)(m.getCurrentContent())),name:"contentDescription",onChange:function(e){M(e),o("contentDescription",k()(Object(N.convertToRaw)(m.getCurrentContent()))),console.log(J),console.log(c.contentDescription)}}),r.contentDescription&&Object(y.jsx)("span",{className:"message__error",children:i.contentDescription})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Source"}),Object(y.jsx)(d.a,{type:"text",name:"contentSource",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:c.contentSource,onChange:t,onBlur:a}),r.contentSource&&Object(y.jsx)("span",{className:"message__error",children:i.contentSource})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Photo"}),Object(y.jsx)(d.a,{type:"file",className:"form-group__input",name:"contentThumbnail",onBlur:a,onChange:function(e){var t=e.currentTarget.files[0];t&&(console.log("File to upload: ",t),o("contentThumbnail",t))}}),r.contentThumbnail&&Object(y.jsx)("span",{className:"message__error",children:i.contentThumbnail})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Contents"}),"Artikel"===c.contentType?Object(y.jsx)(C.Editor,{editorState:v,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:T,value:k()(Object(N.convertToRaw)(v.getCurrentContent())),name:"contents",onChange:function(e){z(e),o("contents",k()(Object(N.convertToRaw)(v.getCurrentContent())))}}):null,"Image"===c.contentType?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Pilih media yang ingin di upload :"}),Object(y.jsxs)("form",{children:[Object(y.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"internal",onClick:function(){F("internal")}}),Object(y.jsx)("label",{for:"internal",children:"Media Internal Komputer"}),Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"url",onClick:function(){return F("url")}}),Object(y.jsx)("label",{for:"url",children:"Alamat URL"}),Object(y.jsx)("br",{})]}),"internal"===L?Object(y.jsx)(d.a,{type:"file",className:"form-group__input",name:"contents",onBlur:a,onChange:function(e){var t=e.currentTarget.files[0];t&&(console.log("File to upload: ",t),o("contents",t))}}):Object(y.jsx)(d.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Image URL... (https://example.com/something/something.jpg)",value:c.contents,onChange:t,onBlur:a})]}):null,"Video"===c.contentType?Object(y.jsx)(d.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Video URL... (Youtube/Vimeo/Dailymotion/etc)",value:c.contents,onChange:t,onBlur:a}):null,"Pdf"===c.contentType?Object(y.jsxs)("div",{children:[Object(y.jsx)("p",{children:"Pilih media yang ingin di upload :"}),Object(y.jsxs)("form",{children:[Object(y.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"internal",onClick:function(){F("internal")}}),Object(y.jsx)("label",{for:"internal",children:"Media Internal - Maks 300kb"}),Object(y.jsx)("br",{}),Object(y.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"url",onClick:function(){return F("url")}}),Object(y.jsx)("label",{for:"url",children:"Alamat URL"}),Object(y.jsx)("br",{})]}),"internal"===L?Object(y.jsx)(d.a,{type:"file",className:"form-group__input",name:"contents",onBlur:a,onChange:function(e){var t=e.currentTarget.files[0];t&&(console.log("File to upload: ",t),o("contents",t))}}):Object(y.jsx)(d.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Pdf URL... (Pdf file)",value:c.contents,onChange:t,onBlur:a})]}):null,r.contents&&Object(y.jsx)("span",{className:"message__error",children:i.contents})]}),Object(y.jsxs)("div",{className:"form-group",children:[Object(y.jsx)("label",{children:"Set Schedule"}),Object(y.jsx)(d.a,{type:"date",className:"form-group__input",name:"startDate",value:c.startDate,min:(new Date).toISOString().split("T")[0],onChange:t,onBlur:a}),r.startDate&&Object(y.jsx)("span",{className:"message__error",children:i.startDate})]}),Object(y.jsx)("div",{className:"form-group",children:Object(y.jsxs)("div",{className:"form-group_switch",children:[Object(y.jsx)("p",{className:"form-group_switch_status",children:"Status:"}),Object(y.jsx)("p",{className:"form-group_switch_inactive",children:"Inactive"}),Object(y.jsxs)("label",{className:"form-group_switch_switch",children:[Object(y.jsx)("input",{type:"checkbox",className:"form-group_switch_switch_checkbox",name:"isActive",defaultChecked:c.isActive,onChange:function(){c.isActive=!c.isActive,console.log(c.isActive)}}),Object(y.jsx)("span",{className:"form-group_switch_switch_slider"})]}),Object(y.jsx)("p",{className:"form-group_switch_active",children:"Active"})]})}),Object(y.jsx)("div",{children:Object(y.jsx)("button",{className:"btn btn-submit",type:"submit",children:"Post Content"})})]})})}}),console.log(n),n?Object(y.jsx)(u.a,{}):null]})}))},755:function(e,t,n){}}]);
//# sourceMappingURL=56.e942e373.chunk.js.map