(this["webpackJsonpco-branding-web-app"]=this["webpackJsonpco-branding-web-app"]||[]).push([[61],{102:function(e,t,r){"use strict";var n=r(2),a=(r(103),r(0));function i(e){var t=e.placeholder,r=e.type,n=e.onChange,i=e.onBlur,s=e.value,o=e.className,c=e.message,u=e.name,d=e.min,l=e.max,m=e.disabled,g=e.isError;return"textarea"===r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("textarea",{name:u,id:u,className:o,placeholder:t,onChange:n,onBlur:i,value:s,disabled:m}),g&&Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("span",{className:"message__error",children:c})})]}):"date"===r||"datetime-local"===r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{name:u,className:o,type:r,placeholder:t,onChange:n,onBlur:i,value:s,min:d,max:"9999-12-31",disabled:m}),g&&Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("span",{className:"message__error",children:c})})]}):"number"===r?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{name:u,className:o,type:r,onChange:n,onBlur:i,value:s,min:d,max:l,disabled:m}),g&&Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("span",{className:"message__error",children:c})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{name:u,className:o,type:r,placeholder:t,onChange:n,onBlur:i,value:s,disabled:m}),g&&Object(a.jsx)("div",{className:"message",children:Object(a.jsx)("span",{className:"message__error",children:c})})]})}t.a=Object(n.memo)(i)},103:function(e,t,r){},114:function(e,t,r){"use strict";r.d(t,"g",(function(){return i})),r.d(t,"h",(function(){return s})),r.d(t,"f",(function(){return o})),r.d(t,"m",(function(){return c})),r.d(t,"n",(function(){return u})),r.d(t,"q",(function(){return d})),r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return m})),r.d(t,"r",(function(){return g})),r.d(t,"k",(function(){return p})),r.d(t,"a",(function(){return j})),r.d(t,"j",(function(){return h})),r.d(t,"l",(function(){return b})),r.d(t,"p",(function(){return f})),r.d(t,"b",(function(){return O})),r.d(t,"i",(function(){return x})),r.d(t,"e",(function(){return y})),r.d(t,"o",(function(){return q}));var n=r(147),a=/^((\+[1-9]{1,4}[ -]?)|(\([0-9]{2,3}\)[ -]?)|([0-9]{2,4})[ -]?)*?[0-9]{3,4}[ -]?[0-9]{3,4}$/,i=n.f({userName:n.g("Enter your email").required("Email is required"),password:n.g("Enter your password").required("Password is required")}),s=n.f({email:n.g("Enter your email").required("Email is required").email("Email not valid"),accountName:n.g("Enter your name").required("Name is required"),cobrandName:n.g("Enter your brand name").required("Brand name is required"),thumbnail:n.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),phoneNumber:n.g("Enter your phone number").required("Phone number is required").matches(a,"Invalid phone number format"),address:n.g("Enter your address").required("Address is required"),password:n.g("Enter your password").required("Password is required").min(8,"Password should be 8 characters or more"),confirmPassword:n.g("Confirm your password").required("Password is required").when("password",(function(e,t){return t.test({test:function(t){return e&&t===e},message:"Password doesn't match"})}))}),o=n.f({email:n.g("Enter your email").required("Email is required").email("Email not valid"),cobrandName:n.g("Enter your brand name").required("Brand name is required"),thumbnail:n.d("Insert your image, 2 MB max").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)||!e})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),phoneNumber:n.g("Enter your phone number").required("Phone number is required").matches(a,"Invalid phone number format"),address:n.g("Enter your address").required("Address is required"),password:n.g("Enter your password").min(8,"Password should be 8 characters or more"),confirmPassword:n.g("Confirm your password").when("password",(function(e,t){return t.test({test:function(t){return e&&t===e||!e},message:"Password doesn't match"})}))}),c=n.f({programName:n.g("Enter your program title").required("Program title is required"),programDescription:n.g("Enter the program description").required("Program description is required"),programThumbnail:n.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),startDate:n.c("Insert start date").required("Date is required"),endDate:n.c("Insert end date").required("Date is required"),category:n.g(),targetAudiance:n.a().min(1,"Pilih minimal 1"),contentPrograms:n.a().min(1).of(n.f({namaTahapan:n.g().required("Nama Tahapan harus diisi"),contentName:n.g().required("Judul Tahapan harus diisi"),contents:n.g().required("Isi Tahapan harus diisi"),startDate:n.c("Insert start date").required("Date is required"),endDate:n.c("Insert end date").required("Date is required"),answerKey:n.g().when("category",{is:"Ujian",then:n.g().required("Kunci Jawaban harus diisi"),otherwise:n.g()})}))}),u=n.f({programName:n.g("Enter your program title").required("Program title is required"),programDescription:n.g("Enter the program description").required("Program description is required"),startDate:n.c("Insert start date").required("Date is required")}),d=n.f({namaTahapan:n.g().required("Nama Tahapan harus diisi"),contentName:n.g().required("Judul Tahapan harus diisi"),contents:n.g().required("Isi Tahapan harus diisi")}),l=n.f({contentName:n.g("Enter your content title").required("Content title is required"),contentDescription:n.g("Enter the content description"),contents:n.g("Enter the content description").required("Content is required"),contentSource:n.g("Enter the content source").required("Content source is required"),contentThumbnail:n.d("Insert your image, 2 MB max").required("Image is required").test("imageType","Incorrect file extension, must be .jpg, .jpeg, or .png",(function(e){return e&&["image/png","image/jpg","image/jpeg"].includes(e.type)})).test("imageSize","Image file size too large, max image file size is 2 MB",(function(e){return!e||e.size<=2097152})),startDate:n.c("Insert start date").required("Date is required"),endDate:n.c("Insert end date").required("Date is required"),isActive:n.b(),topics:n.a().min(1),targetAudience:n.a().min(1)}),m=n.f({contentName:n.g("Enter your content title").required("Content title is required"),contentDescription:n.g("Enter the content description"),contents:n.g("Enter the content description").required("Content is required"),contentSource:n.g("Enter the content source").required("Content source is required"),startDate:n.c("Insert start date").required("Date is required")}),g=n.f({nameUser:n.g("Enter your content title").required("User name is required"),emailUser:n.g("Enter the content description").required("Email is required").email("Email not valid"),birdDate:n.c("Insert start date").required("Date is required")}),p=n.f({destination:n.a().min(1),messageSubject:n.g("Enter the message subject").required("Message Subject is required"),messageContent:n.g("Enter the message content").required("Message Content is required"),scheduleTime:n.c("Insert start date").required("Date is required"),mediaType:n.g("Enter the media type").required("Media type is required"),category:n.g("Enter the category").required("Category is required")}),j=n.f({audianceName:n.g("Enter your audience name").required("Audience Name is required")}),h=n.f({category:n.g("Enter category name").required("Category is required"),description:n.g("Enter description").required("Description is required")}),b=n.f({category:n.g("Enter category name").required("Category is required"),description:n.g("Enter description").required("Description is required")}),f=n.f({emailUser:n.g("Enter your email").required("Email is required").email("Email not valid"),userName:n.g("Enter your name").required("Name is required").matches(/^\S*$/,"Invalid username format"),phone:n.g("Enter your phone number").required("Phone number is required").matches(a,"Invalid phone number format"),password:n.g("Enter your password").required("Password is required").min(8,"Password should be 8 characters or more")}),O=n.f({cobrandComunityName:n.g("Enter your community name").required("Community name is required"),partComunityName:n.g("Enter your community name")}),x=n.f({groupMitraAsuhName:n.g("Enter your group name").required("Group name is required")}),y=n.f({topicName:n.g("Enter topic name").required("Topic Name is required")}),q=n.f({controlParameterName:n.g("Enter category name").required("Category is required"),controlParameterValue:n.e().required("Number is required")})},1456:function(e,t,r){"use strict";r.r(t);var n=r(7),a=r(2),i=r(95),s=(r(920),r(139)),o=r(6),c=r(122),u=r(35),d=r(17),l=r(114),m=r(102),g=r(18),p=r.n(g),j=r(441),h=r.n(j),b=(r(37),r(256),r(170)),f=(r(307),r(295),r(317),r(542)),O=r.n(f),x=r(308),y=r.n(x),q=(r(311),r(0));t.default=Object(d.b)((function(e){return{isLoading:e.auth.isLoading}}),(function(e){return{onEditContent:function(t,r,n,a,i,s,o,u,d,l,m){return e(Object(c.v)(t,r,n,a,i,s,o,u,d,l,m))}}}))((function(e){var t=e.onEditContent,r=e.isLoading,c=b.EditorState.createEmpty(),d=Object(a.useState)(c),g=Object(n.a)(d,2),j=(g[0],g[1]),f=Object(a.useState)(c),x=Object(n.a)(f,2),v=(x[0],x[1]),N=[["undo","redo"],["font","fontSize","formatBlock"],["paragraphStyle","blockquote"],["bold","underline","italic","strike","subscript","superscript"],["fontColor","hiliteColor","textStyle"],["removeFormat"],["outdent","indent"],["align","horizontalRule","list","lineHeight"],["table","link","image","video"],["preview","print"]],E=Object(a.useState)(!0),T=Object(n.a)(E,2),_=T[0],C=T[1],I=Object(a.useState)(),w=Object(n.a)(I,2),S=(w[0],w[1]),k=Object(a.useState)(),D=Object(n.a)(k,2),B=D[0],P=D[1],A=Object(a.useState)(),M=Object(n.a)(A,2),F=M[0],z=M[1],V=Object(a.useState)(""),U=Object(n.a)(V,2),L=U[0],H=U[1],J=Object(a.useState)(""),R=Object(n.a)(J,2),K=R[0],W=R[1],$=Object(a.useState)(h.a.createEmptyValue()),G=Object(n.a)($,2),Y=(G[0],G[1],Object(a.useState)(h.a.createEmptyValue())),Q=Object(n.a)(Y,2),X=(Q[0],Q[1]),Z=Object(o.g)(),ee=JSON.parse(localStorage.getItem("userData")).cobrandEmail,te=localStorage.getItem("contentSelected"),re={whereKeyValues:{cobrandEmail:ee}};return Object(a.useEffect)((function(){if(C(!0),te){var e={whereKeyValues:{cobrandEmail:ee,_id:te}};p()({method:"post",url:"https://as01.prod.ruangortu.id:8080/api/cobrand/contentFilter",data:e,headers:{"Content-Type":"application/json"}}).then((function(e){P(e.data.contents[0]);var t=(new DOMParser).parseFromString(e.data.contents[0].contents,"text/html");if("Artikel"===e.data.contents[0].contentType){var r=t.getElementById("contents"),n=O()(r.innerHTML);X(h.a.createValueFromString(r.outerHTML,"html")),H(r.outerHTML),v(b.EditorState.createWithContent(b.ContentState.createFromBlockArray(n.contentBlocks,n.entityMap)))}else if("Image"===e.data.contents[0].contentType){var a=t.getElementsByTagName("img")[0].toString();H(a.src)}else if("Video"===e.data.contents[0].contentType){var i=t.getElementsByTagName("iframe")[0];H(i.src)}else if("Pdf"===e.data.contents[0].contentType){var s=t.getElementsByTagName("iframe")[0].src;s.includes("&embedded=true")&&(s=s.replace("&embedded=true","")),s.includes("http://docs.google.com/gview?url=")&&(s=s.replace("http://docs.google.com/gview?url=","")),H(s)}var o=e.data.contents[0].contentDescription,c=O()(o);j(b.EditorState.createWithContent(b.ContentState.createFromBlockArray(c.contentBlocks,c.entityMap)));var u=e.data.contents[0].startDate.split("T")[0];z(u),p()({method:"post",url:"https://as01.prod.ruangortu.id:8080/api/cobrand/programFilter",data:re,headers:{"Content-Type":"application/json"}}).then((function(e){S(e.data.programs),C(!1)})).catch((function(e){C(!1)}))})).catch((function(e){C(!1)}))}}),[]),_?Object(q.jsx)(u.a,{}):Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(i.a,{headingName:"Artikel",routes:[{path:"/cms/content",name:"Artikel"},{path:"/cms/content/edit",name:"Ubah Artikel Terpilih"}]}),Object(q.jsx)(s.a,{initialValues:{programId:B.programId,contentName:B.contentName,contentDescription:B.contentDescription,contentType:B.contentType,contentSource:B.contentSource,contents:L,startDate:F},validationSchema:l.d,validateOnChange:!0,onSubmit:function(e){window.scroll(0,0),t(te,ee,e.programId,e.contentName,e.contentDescription,e.contentType,e.contentSource,e.contentThumbnail,e.contents,e.startDate,Z)},children:function(e){var t=e.handleChange,r=e.handleSubmit,n=e.handleBlur,a=e.setFieldValue,i=e.values,s=e.errors,o=e.touched;return Object(q.jsx)("form",{onSubmit:r,children:Object(q.jsxs)("div",{className:"EditContent",children:[Object(q.jsxs)("h1",{children:["Ubah Artikel: ",B.contentName]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Tipe Artikel"}),Object(q.jsxs)("select",{name:"contentType",value:i.contentType,onChange:function(e){a("contentType",e.currentTarget.value),a("contents","")},children:[Object(q.jsx)("option",{value:"",disabled:!0,children:"Select Content Type"}),Object(q.jsx)("option",{value:"Artikel",children:"Artikel"}),Object(q.jsx)("option",{value:"Image",children:"Image"}),Object(q.jsx)("option",{value:"Video",children:"Video"}),Object(q.jsx)("option",{value:"Pdf",children:"File Pdf"})]})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Judul"}),Object(q.jsx)(m.a,{type:"text",name:"contentName",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:i.contentName,onChange:t,onBlur:n}),o.contentName&&Object(q.jsx)("span",{className:"message__error",children:s.contentName})]}),Object(q.jsxs)("div",{className:"form-group",children:["Artikel"===i.contentType?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("label",{children:"Isi Artikel"}),Object(q.jsx)(y.a,{defaultValue:i.contents,setOptions:{buttonList:N,imageWidth:"360px"},onChange:function(e){a("contents",e)},height:"500px"})]}):null,"Image"===i.contentType?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("label",{children:"Isi Image"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:"Pilih media yang ingin di upload :"}),Object(q.jsxs)("form",{children:[Object(q.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"internal",onClick:function(){W("internal")}}),Object(q.jsx)("label",{for:"internal",children:"Media Internal Komputer"}),Object(q.jsx)("br",{}),Object(q.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"url",onClick:function(){return W("url")}}),Object(q.jsx)("label",{for:"url",children:"Alamat URL"}),Object(q.jsx)("br",{})]}),"internal"===K?Object(q.jsx)(m.a,{type:"file",className:"form-group__input",name:"contents",onBlur:n,onChange:function(e){var t=e.currentTarget.files[0];t&&a("contents",t)}}):Object(q.jsx)(m.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Image URL... (https://example.com/something/something.jpg)",value:i.contents,onChange:t,onBlur:n})]})]}):null,"Video"===i.contentType?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("label",{children:"URL Video"}),Object(q.jsx)(m.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Video URL... (Youtube/Vimeo/Dailymotion/etc)",value:i.contents,onChange:t,onBlur:n})]}):null,"Pdf"===i.contentType?Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)("label",{children:"Isi PDF"}),Object(q.jsxs)("div",{children:[Object(q.jsx)("p",{children:"Pilih media yang ingin di upload :"}),Object(q.jsxs)("form",{children:[Object(q.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"internal",onClick:function(){W("internal")}}),Object(q.jsx)("label",{for:"internal",children:"Media Internal - Maks 300kb"}),Object(q.jsx)("br",{}),Object(q.jsx)("input",{type:"radio",id:"html",name:"fav_language",value:"url",onClick:function(){return W("url")}}),Object(q.jsx)("label",{for:"url",children:"Alamat URL"}),Object(q.jsx)("br",{})]}),"internal"===K?Object(q.jsx)(m.a,{type:"file",className:"form-group__input",name:"contents",onBlur:n,onChange:function(e){var t=e.currentTarget.files[0];t&&a("contents",t)}}):Object(q.jsx)(m.a,{type:"text",name:"contents",className:"form-group__input form-group__input--fullwidth",placeholder:"Type Pdf URL... (Pdf file)",value:i.contents,onChange:t,onBlur:n})]})]}):null,o.contents&&Object(q.jsx)("span",{className:"message__error",children:s.contents})]}),"Artikel"!==i.contentType?Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Isi Artikel"}),Object(q.jsx)(y.a,{defaultValue:i.contentDescription,setOptions:{buttonList:N},onChange:function(e){a("contentDescription",e)},height:"500px"})]}):null,Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Sumber"}),Object(q.jsx)(m.a,{type:"text",name:"contentSource",className:"form-group__input form-group__input--fullwidth",placeholder:"Example",value:i.contentSource,onChange:t,onBlur:n}),o.contentSource&&Object(q.jsx)("span",{className:"message__error",children:s.contentSource})]}),Object(q.jsxs)("div",{className:"form-group",children:[Object(q.jsx)("label",{children:"Thumbnail"}),Object(q.jsx)("img",{className:"photo",src:B.contentThumbnail}),Object(q.jsx)("br",{}),Object(q.jsx)(m.a,{type:"file",className:"form-group__input",name:"contentThumbnail",onBlur:n,onChange:function(e){var t=e.currentTarget.files[0];t&&a("contentThumbnail",t)}})]}),Object(q.jsx)("div",{children:Object(q.jsx)("button",{className:"btn btn-submit",type:"submit",onClick:function(){Object.keys(s).length>0&&alert("Ada kolom yang belum diisi. Silakan cek kembali.")},children:"Update Artikel"})})]})})}}),r?Object(q.jsx)(u.a,{}):null]})}))},309:function(e,t,r){var n={"./ckb.js":185,"./da.js":186,"./de.js":187,"./en.js":167,"./es.js":188,"./fr.js":189,"./he.js":190,"./index.js":310,"./it.js":191,"./ja.js":192,"./ko.js":193,"./lv.js":194,"./nl.js":195,"./pl.js":196,"./pt_br.js":197,"./ro.js":198,"./ru.js":199,"./se.js":200,"./ua.js":201,"./zh_cn.js":202};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id=309},920:function(e,t,r){},95:function(e,t,r){"use strict";r(2);var n=r(9),a=(r(96),r(0));t.a=function(e){var t=e.headingName,r=e.routes,i=void 0===r?[]:r;return Object(a.jsxs)("div",{className:"Heading",children:[Object(a.jsx)("h1",{children:t}),Object(a.jsx)("ul",{className:"Heading__breadcumb",children:i.length>0&&i.map((function(e,t){return e.path?Object(a.jsxs)("li",{className:"Heading__breadcumb-item",children:[Object(a.jsx)(n.b,{exact:!0,to:e.path,children:e.name})," "]},t):Object(a.jsxs)("li",{className:"Heading__breadcumb-item",children:[" ",Object(a.jsx)("span",{children:e.name})," "]},t)}))})]})}},96:function(e,t,r){}}]);
//# sourceMappingURL=61.da90cc0d.chunk.js.map